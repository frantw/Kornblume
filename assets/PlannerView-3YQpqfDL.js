import{o as ct}from"./index-RT13Ogx4.js";import{A as vt,u as Qt,g as k,k as R,o as $,c as M,a as e,y as X,B as $t,t as S,C as dt,l as E,F as B,r as et,e as Q,j as F,f as H,m as G,v as Ht,d as it,h as T,s as gt,n as z,_ as nt,D as de,E as xt,x as Ot,b as jt,w as Z,G as he,z as Ct,p as wt,q as Mt}from"./index-AjOfLo36.js";import{_ as Kt}from"./ArcanistIcon.vue_vue_type_script_setup_true_name_ArcanistIcon_lang-k86vwDsO.js";var pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const W=vt("global",{state:()=>({isEditingWarehouse:!1,isEditingMaterial:"",neededRawMaterialsMapping:{},neededMaterialsMapping:{}}),actions:{setIsEditingWarehouse(t){this.isEditingWarehouse=t},setIsEditingMaterial(t){this.isEditingMaterial=t||""},getNeededRawMaterialsQuantity(t){return this.neededRawMaterialsMapping[t]||0},updateNeededRawMaterialsMapping(t){this.neededRawMaterialsMapping={...t}},getNeededMaterialsQuantity(t){return this.neededMaterialsMapping[t]||0},updateNeededMaterialsMapping(t){this.neededMaterialsMapping={...t}}}}),Zt=vt("planner",{state:()=>({selectedArcanists:[]}),persist:!0}),bt=vt("activity",{state:()=>({settings:{roaringMonth:!1,lazyModo:!1,weeklyActivity:!1,refills:0,activity:240,cost:0}}),persist:!0}),Jt=vt("wilderness",{state:()=>({settings:{dust1:6,dust2:6,dust3:6,gold1:6,gold2:6,gold3:6,vigor:0,lazyModo:!1,wildernessOutput:{dust:19440,gold:8640}}}),persist:!0}),yt=vt("plannerSettings",{state:()=>({settings:{showUnreleasedArcanists:!1,enabledUnreleasedStages:!1,enableGreedyMethod:!0}}),persist:!0}),ve={class:"list-overlay"},fe={class:"custom-modal-small h-5/6 lg:h-3/4"},me={class:"relative"},ge=["placeholder"],be=e("i",{class:"fas fa-times"},null,-1),_e=[be],Se={class:"form-control"},De={class:"cursor-pointer label justify-center space-x-5"},$e={class:"label-text text-white text-md"},xe={class:"p-2 overflow-y-auto h-5/6"},we=["onClick"],Me={class:"text-white ml-8"},Ie={__name:"ArcanistList",props:{arcanists:{type:Array,required:!0}},emits:{closeOverlay:{type:Function,required:!0},selectArcanist:{type:Function,required:!0}},setup(t,{emit:s}){const o=t,a=s,{locale:n,t:i}=Qt(),l=k(""),h=v=>{a("selectArcanist",v),r()},r=()=>{a("closeOverlay")},y=R(()=>n.value==="en-US"?o.arcanists.filter(v=>v.Name.toLowerCase().includes(l.value.toLowerCase())):o.arcanists.filter(v=>i(v.Name).includes(l.value)));return(v,u)=>($(),M("div",ve,[e("div",fe,[e("div",me,[X(e("input",{"onUpdate:modelValue":u[0]||(u[0]=g=>l.value=g),type:"text",placeholder:v.$t("search-arcanists"),class:"bg-gray-800 text-white p-2 rounded-md w-11/12 focus:outline-none"},null,8,ge),[[$t,l.value]]),e("button",{onClick:r,class:"absolute top-2 right-0 text-white"},_e),e("div",Se,[e("label",De,[e("span",$e,S(v.$t("show-unreleased-arcanists")),1),X(e("input",{"onUpdate:modelValue":u[1]||(u[1]=g=>E(yt)().settings.showUnreleasedArcanists=g),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[dt,E(yt)().settings.showUnreleasedArcanists]])])])]),e("div",xe,[($(!0),M(B,null,et(y.value,g=>($(),M("div",{key:g.Id,onClick:p=>h(g),class:"p-4 flex items-center cursor-pointer hover:bg-gray-700 transition-colors"},[Q(Kt,{arcanist:g},null,8,["arcanist"]),e("span",Me,S(v.$t(g.Name)),1)],8,we))),128))])])]))}},Xt=[{Rarity:[5,6],Insight:0,Levels:{2:{Dust:100,Sharpodonty:100},3:{Dust:150,Sharpodonty:130},4:{Dust:200,Sharpodonty:160},5:{Dust:250,Sharpodonty:190},6:{Dust:350,Sharpodonty:220},7:{Dust:400,Sharpodonty:250},8:{Dust:450,Sharpodonty:280},9:{Dust:500,Sharpodonty:310},10:{Dust:550,Sharpodonty:340},11:{Dust:600,Sharpodonty:370},12:{Dust:650,Sharpodonty:400},13:{Dust:700,Sharpodonty:430},14:{Dust:750,Sharpodonty:460},15:{Dust:800,Sharpodonty:490},16:{Dust:850,Sharpodonty:520},17:{Dust:900,Sharpodonty:550},18:{Dust:950,Sharpodonty:580},19:{Dust:1e3,Sharpodonty:610},20:{Dust:1050,Sharpodonty:640},21:{Dust:1200,Sharpodonty:670},22:{Dust:1300,Sharpodonty:700},23:{Dust:1400,Sharpodonty:730},24:{Dust:1500,Sharpodonty:760},25:{Dust:1600,Sharpodonty:790},26:{Dust:1700,Sharpodonty:820},27:{Dust:1800,Sharpodonty:850},28:{Dust:1900,Sharpodonty:880},29:{Dust:2e3,Sharpodonty:910},30:{Dust:2100,Sharpodonty:940}},Total:{Dust:27700,Sharpodonty:15080}},{Rarity:[5,6],Insight:1,Levels:{2:{Dust:400,Sharpodonty:200},3:{Dust:500,Sharpodonty:250},4:{Dust:600,Sharpodonty:300},5:{Dust:700,Sharpodonty:350},6:{Dust:900,Sharpodonty:400},7:{Dust:1e3,Sharpodonty:450},8:{Dust:1100,Sharpodonty:500},9:{Dust:1200,Sharpodonty:550},10:{Dust:1300,Sharpodonty:600},11:{Dust:1500,Sharpodonty:650},12:{Dust:1600,Sharpodonty:700},13:{Dust:1700,Sharpodonty:750},14:{Dust:1800,Sharpodonty:800},15:{Dust:1900,Sharpodonty:850},16:{Dust:2100,Sharpodonty:900},17:{Dust:2200,Sharpodonty:950},18:{Dust:2300,Sharpodonty:1e3},19:{Dust:2400,Sharpodonty:1050},20:{Dust:2500,Sharpodonty:1100},21:{Dust:2600,Sharpodonty:1150},22:{Dust:2700,Sharpodonty:1200},23:{Dust:2800,Sharpodonty:1250},24:{Dust:2900,Sharpodonty:1300},25:{Dust:3e3,Sharpodonty:1350},26:{Dust:3100,Sharpodonty:1400},27:{Dust:3200,Sharpodonty:1450},28:{Dust:3300,Sharpodonty:1500},29:{Dust:3400,Sharpodonty:1550},30:{Dust:3500,Sharpodonty:1600},31:{Dust:3700,Sharpodonty:1800},32:{Dust:3800,Sharpodonty:2e3},33:{Dust:3900,Sharpodonty:2200},34:{Dust:4e3,Sharpodonty:2400},35:{Dust:4100,Sharpodonty:2600},36:{Dust:4300,Sharpodonty:2800},37:{Dust:4400,Sharpodonty:3e3},38:{Dust:4500,Sharpodonty:3200},39:{Dust:4600,Sharpodonty:3400},40:{Dust:4700,Sharpodonty:3600}},Total:{Dust:100200,Sharpodonty:53100}},{Rarity:[5,6],Insight:2,Levels:{2:{Dust:1100,Sharpodonty:400},3:{Dust:1400,Sharpodonty:500},4:{Dust:1700,Sharpodonty:600},5:{Dust:2e3,Sharpodonty:700},6:{Dust:2300,Sharpodonty:800},7:{Dust:2600,Sharpodonty:900},8:{Dust:2900,Sharpodonty:1e3},9:{Dust:3200,Sharpodonty:1100},10:{Dust:3500,Sharpodonty:1200},11:{Dust:3800,Sharpodonty:1300},12:{Dust:4100,Sharpodonty:1400},13:{Dust:4400,Sharpodonty:1500},14:{Dust:4700,Sharpodonty:1600},15:{Dust:5e3,Sharpodonty:1700},16:{Dust:5300,Sharpodonty:1800},17:{Dust:5600,Sharpodonty:1900},18:{Dust:5900,Sharpodonty:2e3},19:{Dust:6200,Sharpodonty:2100},20:{Dust:6500,Sharpodonty:2200},21:{Dust:6800,Sharpodonty:2300},22:{Dust:7100,Sharpodonty:2400},23:{Dust:7400,Sharpodonty:2500},24:{Dust:7700,Sharpodonty:2600},25:{Dust:8e3,Sharpodonty:2700},26:{Dust:8300,Sharpodonty:2800},27:{Dust:8600,Sharpodonty:2900},28:{Dust:8900,Sharpodonty:3e3},29:{Dust:9200,Sharpodonty:3100},30:{Dust:9500,Sharpodonty:3200},31:{Dust:9800,Sharpodonty:3300},32:{Dust:10100,Sharpodonty:3400},33:{Dust:10400,Sharpodonty:3500},34:{Dust:10700,Sharpodonty:3600},35:{Dust:11e3,Sharpodonty:3700},36:{Dust:11300,Sharpodonty:3800},37:{Dust:11600,Sharpodonty:3900},38:{Dust:11900,Sharpodonty:4e3},39:{Dust:12200,Sharpodonty:4100},40:{Dust:12500,Sharpodonty:4200},41:{Dust:12800,Sharpodonty:4300},42:{Dust:13100,Sharpodonty:4400},43:{Dust:13400,Sharpodonty:4500},44:{Dust:13700,Sharpodonty:4600},45:{Dust:14e3,Sharpodonty:4700},46:{Dust:14300,Sharpodonty:4800},47:{Dust:14600,Sharpodonty:4900},48:{Dust:14900,Sharpodonty:5e3},49:{Dust:15200,Sharpodonty:5100},50:{Dust:15500,Sharpodonty:5200}},Total:{Dust:406700,Sharpodonty:137200}},{Rarity:[5,6],Insight:3,Levels:{2:{Dust:5640,Sharpodonty:2500},3:{Dust:5760,Sharpodonty:2600},4:{Dust:5880,Sharpodonty:2700},5:{Dust:6e3,Sharpodonty:2800},6:{Dust:6240,Sharpodonty:2900},7:{Dust:6380,Sharpodonty:3e3},8:{Dust:6520,Sharpodonty:3100},9:{Dust:6660,Sharpodonty:3200},10:{Dust:6800,Sharpodonty:3300},11:{Dust:7160,Sharpodonty:3400},12:{Dust:7320,Sharpodonty:3500},13:{Dust:7480,Sharpodonty:3600},14:{Dust:7640,Sharpodonty:3700},15:{Dust:7800,Sharpodonty:3800},16:{Dust:8280,Sharpodonty:3900},17:{Dust:8460,Sharpodonty:4e3},18:{Dust:8640,Sharpodonty:4100},19:{Dust:8820,Sharpodonty:4200},20:{Dust:9e3,Sharpodonty:4300},21:{Dust:9600,Sharpodonty:4500},22:{Dust:9800,Sharpodonty:4700},23:{Dust:1e4,Sharpodonty:4900},24:{Dust:10200,Sharpodonty:5100},25:{Dust:10400,Sharpodonty:5300},26:{Dust:11100,Sharpodonty:5500},27:{Dust:11300,Sharpodonty:5700},28:{Dust:11600,Sharpodonty:5900},29:{Dust:11800,Sharpodonty:6100},30:{Dust:12e3,Sharpodonty:6300},31:{Dust:12800,Sharpodonty:6500},32:{Dust:13100,Sharpodonty:6700},33:{Dust:13300,Sharpodonty:6900},34:{Dust:13600,Sharpodonty:7100},35:{Dust:13800,Sharpodonty:7300},36:{Dust:14800,Sharpodonty:7500},37:{Dust:15e3,Sharpodonty:7700},38:{Dust:15300,Sharpodonty:7900},39:{Dust:15500,Sharpodonty:8100},40:{Dust:15800,Sharpodonty:8300},41:{Dust:16900,Sharpodonty:8500},42:{Dust:17200,Sharpodonty:8700},43:{Dust:17400,Sharpodonty:8900},44:{Dust:17700,Sharpodonty:9100},45:{Dust:18e3,Sharpodonty:9300},46:{Dust:19200,Sharpodonty:9500},47:{Dust:19500,Sharpodonty:9700},48:{Dust:19800,Sharpodonty:9900},49:{Dust:20100,Sharpodonty:10100},50:{Dust:20400,Sharpodonty:10300},51:{Dust:21700,Sharpodonty:10500},52:{Dust:22e3,Sharpodonty:10700},53:{Dust:22400,Sharpodonty:10900},54:{Dust:22700,Sharpodonty:11100},55:{Dust:23e3,Sharpodonty:11300},56:{Dust:24400,Sharpodonty:11500},57:{Dust:24800,Sharpodonty:11700},58:{Dust:25100,Sharpodonty:11900},59:{Dust:25500,Sharpodonty:12100},60:{Dust:25800,Sharpodonty:12300}},Total:{Dust:810880,Sharpodonty:400600}},{Rarity:[4],Insight:0,Levels:{2:{Dust:70,Sharpodonty:70},3:{Dust:110,Sharpodonty:90},4:{Dust:150,Sharpodonty:120},5:{Dust:180,Sharpodonty:140},6:{Dust:260,Sharpodonty:160},7:{Dust:300,Sharpodonty:180},8:{Dust:330,Sharpodonty:210},9:{Dust:370,Sharpodonty:230},10:{Dust:410,Sharpodonty:250},11:{Dust:450,Sharpodonty:270},12:{Dust:480,Sharpodonty:300},13:{Dust:520,Sharpodonty:320},14:{Dust:560,Sharpodonty:340},15:{Dust:600,Sharpodonty:360},16:{Dust:630,Sharpodonty:390},17:{Dust:670,Sharpodonty:410},18:{Dust:710,Sharpodonty:430},19:{Dust:750,Sharpodonty:450},20:{Dust:780,Sharpodonty:480},21:{Dust:900,Sharpodonty:500},22:{Dust:970,Sharpodonty:520},23:{Dust:1050,Sharpodonty:540},24:{Dust:1120,Sharpodonty:570},25:{Dust:1200,Sharpodonty:590},26:{Dust:1270,Sharpodonty:610},27:{Dust:1350,Sharpodonty:630},28:{Dust:1420,Sharpodonty:660},29:{Dust:1500,Sharpodonty:680},30:{Dust:1570,Sharpodonty:700}},Total:{Dust:20680,Sharpodonty:11200}},{Rarity:[4],Insight:1,Levels:{2:{Dust:300,Sharpodonty:150},3:{Dust:370,Sharpodonty:180},4:{Dust:450,Sharpodonty:220},5:{Dust:520,Sharpodonty:260},6:{Dust:670,Sharpodonty:300},7:{Dust:750,Sharpodonty:330},8:{Dust:820,Sharpodonty:370},9:{Dust:900,Sharpodonty:410},10:{Dust:970,Sharpodonty:450},11:{Dust:1120,Sharpodonty:480},12:{Dust:1200,Sharpodonty:520},13:{Dust:1270,Sharpodonty:560},14:{Dust:1350,Sharpodonty:600},15:{Dust:1420,Sharpodonty:630},16:{Dust:1570,Sharpodonty:670},17:{Dust:1650,Sharpodonty:710},18:{Dust:1720,Sharpodonty:750},19:{Dust:1800,Sharpodonty:780},20:{Dust:1870,Sharpodonty:820},21:{Dust:1950,Sharpodonty:860},22:{Dust:2020,Sharpodonty:900},23:{Dust:2100,Sharpodonty:930},24:{Dust:2170,Sharpodonty:970},25:{Dust:2250,Sharpodonty:1010},26:{Dust:2320,Sharpodonty:1050},27:{Dust:2400,Sharpodonty:1080},28:{Dust:2470,Sharpodonty:1120},29:{Dust:2550,Sharpodonty:1160},30:{Dust:2620,Sharpodonty:1200},31:{Dust:2770,Sharpodonty:1350},32:{Dust:2850,Sharpodonty:1500},33:{Dust:2920,Sharpodonty:1650},34:{Dust:3e3,Sharpodonty:1800},35:{Dust:3070,Sharpodonty:1950},36:{Dust:3220,Sharpodonty:2100},37:{Dust:3300,Sharpodonty:2250},38:{Dust:3370,Sharpodonty:2400},39:{Dust:3450,Sharpodonty:2550},40:{Dust:3520,Sharpodonty:2700}},Total:{Dust:75040,Sharpodonty:39720}},{Rarity:[4],Insight:2,Levels:{2:{Dust:820,Sharpodonty:300},3:{Dust:1050,Sharpodonty:370},4:{Dust:1270,Sharpodonty:450},5:{Dust:1500,Sharpodonty:520},6:{Dust:1720,Sharpodonty:600},7:{Dust:1950,Sharpodonty:670},8:{Dust:2170,Sharpodonty:750},9:{Dust:2400,Sharpodonty:820},10:{Dust:2620,Sharpodonty:900},11:{Dust:2850,Sharpodonty:970},12:{Dust:3070,Sharpodonty:1050},13:{Dust:3300,Sharpodonty:1120},14:{Dust:3520,Sharpodonty:1200},15:{Dust:3750,Sharpodonty:1270},16:{Dust:3970,Sharpodonty:1350},17:{Dust:4200,Sharpodonty:1420},18:{Dust:4420,Sharpodonty:1500},19:{Dust:4650,Sharpodonty:1570},20:{Dust:4870,Sharpodonty:1650},21:{Dust:5100,Sharpodonty:1720},22:{Dust:5320,Sharpodonty:1800},23:{Dust:5550,Sharpodonty:1870},24:{Dust:5770,Sharpodonty:1950},25:{Dust:6e3,Sharpodonty:2020},26:{Dust:6220,Sharpodonty:2100},27:{Dust:6450,Sharpodonty:2170},28:{Dust:6670,Sharpodonty:2250},29:{Dust:6900,Sharpodonty:2320},30:{Dust:7120,Sharpodonty:2400},31:{Dust:7350,Sharpodonty:2470},32:{Dust:7570,Sharpodonty:2550},33:{Dust:7800,Sharpodonty:2620},34:{Dust:8020,Sharpodonty:2700},35:{Dust:8250,Sharpodonty:2770},36:{Dust:8470,Sharpodonty:2850},37:{Dust:8700,Sharpodonty:2920},38:{Dust:8920,Sharpodonty:3e3},39:{Dust:9150,Sharpodonty:3070},40:{Dust:9370,Sharpodonty:3150},41:{Dust:9600,Sharpodonty:3230},42:{Dust:9820,Sharpodonty:3300},43:{Dust:10050,Sharpodonty:3370},44:{Dust:10270,Sharpodonty:3450},45:{Dust:10500,Sharpodonty:3520},46:{Dust:10720,Sharpodonty:3600},47:{Dust:10950,Sharpodonty:3670},48:{Dust:11170,Sharpodonty:3750},49:{Dust:11400,Sharpodonty:3820},50:{Dust:11620,Sharpodonty:3900}},Total:{Dust:304900,Sharpodonty:102790}},{Rarity:[2,3],Insight:0,Levels:{2:{Dust:60,Sharpodonty:60},3:{Dust:90,Sharpodonty:70},4:{Dust:120,Sharpodonty:90},5:{Dust:150,Sharpodonty:110},6:{Dust:210,Sharpodonty:130},7:{Dust:240,Sharpodonty:150},8:{Dust:270,Sharpodonty:160},9:{Dust:300,Sharpodonty:180},10:{Dust:330,Sharpodonty:200},11:{Dust:360,Sharpodonty:220},12:{Dust:390,Sharpodonty:240},13:{Dust:420,Sharpodonty:250},14:{Dust:450,Sharpodonty:270},15:{Dust:480,Sharpodonty:290},16:{Dust:510,Sharpodonty:310},17:{Dust:540,Sharpodonty:330},18:{Dust:570,Sharpodonty:340},19:{Dust:600,Sharpodonty:350},20:{Dust:630,Sharpodonty:360},21:{Dust:720,Sharpodonty:400},22:{Dust:780,Sharpodonty:420},23:{Dust:840,Sharpodonty:430},24:{Dust:900,Sharpodonty:450},25:{Dust:960,Sharpodonty:470},26:{Dust:1020,Sharpodonty:490},27:{Dust:1080,Sharpodonty:510},28:{Dust:1140,Sharpodonty:520},29:{Dust:1200,Sharpodonty:540},30:{Dust:1260,Sharpodonty:560}},Total:{Dust:16620,Sharpodonty:8900}},{Rarity:[2,3],Insight:1,Levels:{2:{Dust:240,Sharpodonty:120},3:{Dust:300,Sharpodonty:150},4:{Dust:360,Sharpodonty:180},5:{Dust:420,Sharpodonty:210},6:{Dust:540,Sharpodonty:240},7:{Dust:600,Sharpodonty:270},8:{Dust:660,Sharpodonty:300},9:{Dust:720,Sharpodonty:330},10:{Dust:780,Sharpodonty:360},11:{Dust:900,Sharpodonty:390},12:{Dust:960,Sharpodonty:420},13:{Dust:1020,Sharpodonty:450},14:{Dust:1080,Sharpodonty:480},15:{Dust:1140,Sharpodonty:510},16:{Dust:1260,Sharpodonty:540},17:{Dust:1320,Sharpodonty:570},18:{Dust:1380,Sharpodonty:600},19:{Dust:1440,Sharpodonty:630},20:{Dust:1500,Sharpodonty:660},21:{Dust:1560,Sharpodonty:690},22:{Dust:1620,Sharpodonty:720},23:{Dust:1680,Sharpodonty:750},24:{Dust:1740,Sharpodonty:780},25:{Dust:1800,Sharpodonty:810},26:{Dust:1860,Sharpodonty:840},27:{Dust:1920,Sharpodonty:870},28:{Dust:1980,Sharpodonty:900},29:{Dust:2040,Sharpodonty:930},30:{Dust:2100,Sharpodonty:960},31:{Dust:2220,Sharpodonty:1080},32:{Dust:2280,Sharpodonty:1200},33:{Dust:2340,Sharpodonty:1320},34:{Dust:2400,Sharpodonty:1440},35:{Dust:2460,Sharpodonty:1560},36:{Dust:2520,Sharpodonty:1680},37:{Dust:2580,Sharpodonty:1800},38:{Dust:2700,Sharpodonty:1920},39:{Dust:2760,Sharpodonty:2040},40:{Dust:2820,Sharpodonty:2160}},Total:{Dust:6e4,Sharpodonty:31860}},{Rarity:[2,3],Insight:2,Levels:{2:{Dust:660,Sharpodonty:240},3:{Dust:840,Sharpodonty:300},4:{Dust:1020,Sharpodonty:360},5:{Dust:1200,Sharpodonty:420},6:{Dust:1380,Sharpodonty:480},7:{Dust:1560,Sharpodonty:540},8:{Dust:1740,Sharpodonty:600},9:{Dust:1920,Sharpodonty:660},10:{Dust:2100,Sharpodonty:720},11:{Dust:2280,Sharpodonty:780},12:{Dust:2460,Sharpodonty:840},13:{Dust:2640,Sharpodonty:900},14:{Dust:2820,Sharpodonty:960},15:{Dust:3e3,Sharpodonty:1020},16:{Dust:3180,Sharpodonty:1080},17:{Dust:3360,Sharpodonty:1140},18:{Dust:3540,Sharpodonty:1200},19:{Dust:3720,Sharpodonty:1260},20:{Dust:3900,Sharpodonty:1320},21:{Dust:4080,Sharpodonty:1380},22:{Dust:4260,Sharpodonty:1440},23:{Dust:4440,Sharpodonty:1500},24:{Dust:4620,Sharpodonty:1560},25:{Dust:4800,Sharpodonty:1620},26:{Dust:4980,Sharpodonty:1680},27:{Dust:5160,Sharpodonty:1740},28:{Dust:5340,Sharpodonty:1800},29:{Dust:5520,Sharpodonty:1860},30:{Dust:5700,Sharpodonty:1920},31:{Dust:5880,Sharpodonty:1980},32:{Dust:6060,Sharpodonty:2040},33:{Dust:6240,Sharpodonty:2100},34:{Dust:6420,Sharpodonty:2160},35:{Dust:6600,Sharpodonty:2220},36:{Dust:6780,Sharpodonty:2280},37:{Dust:6960,Sharpodonty:2340},38:{Dust:7140,Sharpodonty:2400},39:{Dust:7320,Sharpodonty:2460},40:{Dust:7500,Sharpodonty:2520},41:{Dust:7680,Sharpodonty:2580},42:{Dust:7860,Sharpodonty:2640},43:{Dust:8040,Sharpodonty:2700},44:{Dust:8220,Sharpodonty:2760},45:{Dust:8400,Sharpodonty:2820},46:{Dust:8580,Sharpodonty:2880},47:{Dust:8760,Sharpodonty:2940},48:{Dust:8940,Sharpodonty:3e3},49:{Dust:9120,Sharpodonty:3060},50:{Dust:9300,Sharpodonty:3120}},Total:{Dust:244020,Sharpodonty:82320}}],ke=Xt,Dt=F().items,Ae=F().arcanists,qt={"Base Item":0,"Resonate Material":1,"Insight Material":2,"Build Material":2};function Yt(t){t.sort((s,o)=>{const a=Dt.findIndex(h=>h.Name===s.Material),n=Dt.findIndex(h=>h.Name===o.Material),i=Dt[a],l=Dt[n];if(i&&l){const h=qt[i.Category],r=qt[l.Category];return h!==r?h-r:l.Rarity!==i.Rarity?l.Rarity-i.Rarity:a-n}else return n-a})}function Vt(t){const s={};return t.forEach(a=>{a&&(Array.isArray(a)?a.flat().forEach(({Material:i,Quantity:l})=>{s[i]?s[i]+=l:s[i]=l}):typeof a=="object"&&Object.entries(a).forEach(([n,i])=>{s[n]?s[n]+=i:s[n]=i}))}),W().updateNeededRawMaterialsMapping(s),Object.keys(s).map(a=>({Material:a,Quantity:s[a]}))}function Ce(t){var a,n;Yt(t);const s=((a=t.find(i=>i.Material==="Dust"))==null?void 0:a.Quantity)||0,o=((n=t.find(i=>i.Material==="Sharpodonty"))==null?void 0:n.Quantity)||0;return s===0&&o===0?t.filter(l=>l.Material!=="Dust"&&l.Material!=="Sharpodonty"):t}function Re(t){var r,y,v,u,g,p;const s=((r=t.find(f=>f.Material==="Dust"))==null?void 0:r.Quantity)||0,o=((y=t.find(f=>f.Material==="Sharpodonty"))==null?void 0:y.Quantity)||0;if(s===0&&o===0)return t.filter(_=>_.Material!=="Dust"&&_.Material!=="Sharpodonty");const a=((v=t.find(f=>f.Material==="Sinuous Howl"))==null?void 0:v.Quantity)||0,n=((u=t.find(f=>f.Material==="Interlaced Shudder"))==null?void 0:u.Quantity)||0,i=((g=t.find(f=>f.Material==="Hypocritical Murmur"))==null?void 0:g.Quantity)||0,l=((p=t.find(f=>f.Material==="Hoarse Echo"))==null?void 0:p.Quantity)||0;t.push({Material:"Crystal Casket",Quantity:a+n+i+l});const h=t.filter(f=>f.Material!=="Sinuous Howl"&&f.Material!=="Interlaced Shudder"&&f.Material!=="Hypocritical Murmur"&&f.Material!=="Hoarse Echo");return Yt(h),h}function Et(t){const s=Ae.find(u=>u.Id===t.Id),o=u=>{const g={Dust:0,Sharpodonty:0};if(u.currentInsight===u.goalInsight){const{Dust:f,Sharpodonty:_}=i(u.currentLevel,u.goalLevel,u,u.currentInsight);return g.Dust+=f,g.Sharpodonty+=_,g}for(let f=u.currentInsight;f<=u.goalInsight;f++)if(f<u.goalInsight){const _=n(u,f);if(g.Dust+=_.Total.Dust,g.Sharpodonty+=_.Total.Sharpodonty,f===u.currentInsight){const{Dust:D,Sharpodonty:d}=i(1,u.currentLevel,u,f);g.Dust-=D,g.Sharpodonty-=d}}else{const{Dust:_,Sharpodonty:D}=i(1,u.goalLevel,u,f);g.Dust+=_,g.Sharpodonty+=D}return[{Material:"Dust",Quantity:g.Dust},{Material:"Sharpodonty",Quantity:g.Sharpodonty}]},a=(u,g,p)=>{const f={};if(u===g)return null;for(let D=Number(u+1);D<=g;D++){const d=p.find(b=>b.Id===D);d&&d.Material.forEach((b,m)=>{const c=d.Quantity[m];f[b]?f[b]+=c:f[b]=c})}return Object.keys(f).map(D=>({Material:D,Quantity:f[D]}))},n=(u,g)=>ke.find(f=>f.Rarity.includes(s.Rarity)&&f.Insight===g),i=(u,g,p,f)=>{const _={Dust:0,Sharpodonty:0};for(let D=Number(++u);D<=Number(g);D++){const d=n(p,f),b=D.toString(),m=d.Levels[b];m&&(_.Dust+=m.Dust,_.Sharpodonty+=m.Sharpodonty)}return _},l=a(t.currentInsight,t.goalInsight,s.Insight),h=a(t.currentResonance,t.goalResonance,s.Resonance),r=o(t),y=Vt([l,h,r]);return Ce(y)}const te=F().items,Ne=t=>{const s=te.find(o=>o.Name===t);return s?s.Id:null},Qe=t=>{const s=te.find(o=>o.Name===t);return s?s.Rarity:null},Oe=t=>{const s=Ne(t);return s?`images/items/icon/${s}.png`:""},je=t=>{const s=Qe(t);return s?`images/items/border/${s}.png`:""};function Ve(t){return`images/items/common/${t==="Oneiric Shop"?1:0}.png`}function mt(t){return t>=1e6?`${(t/1e6).toFixed(1)}m`:t>=1e4?`${(t/1e3).toFixed(0)}k`:t.toString()}function _t(t){return{material:t.Material,quantity:mt(t.Quantity),itemImagePath:Oe(t.Material),borderImagePath:je(t.Material)}}const Ee=["data-tip"],Le={class:"relative inline-block"},Pe=["src"],qe=["src"],Ue={class:"absolute text-white bottom-4 right-3 bg-gray-700 rounded-tl px-1 py-px text-xs"},We=H({__name:"ItemIcon",props:{material:{type:Object,required:!0}},setup(t){const s=t,o=R(()=>_t(s.material));return(a,n)=>($(),M("div",{class:"tooltip","data-tip":a.$t(o.value.material)},[e("div",Le,[e("img",{src:o.value.borderImagePath,alt:"Border Image",class:"w-20 h-20 absolute"},null,8,Pe),e("img",{src:o.value.itemImagePath,alt:"Material Image",class:"w-20 h-20"},null,8,qe),e("div",Ue,S(o.value.quantity),1)])],8,Ee))}}),Fe={class:"hidden-scrollbar pt-9 flex flex-wrap justify-center overflow-y-scroll overflow-x-hidden"},Te={__name:"ItemList",props:{materialList:{type:Array,required:!0}},setup(t){const s=t;return(o,a)=>($(),M("div",Fe,[($(!0),M(B,null,et(s.materialList,n=>($(),G(We,{key:n,material:n},null,8,["material"]))),128))]))}},Be=H({__name:"ArcanistCalculate",props:{arcanist:{type:Object,required:!0}},setup(t){const s=t,o=R(()=>{const a=s.arcanist;return Et(a)});return(a,n)=>($(),M("div",null,[Q(Te,{class:"max-h-48",materialList:o.value},null,8,["materialList"])]))}}),Ge={class:"relative w-2/3 md:w-1/3 flex justify-center"},ze={key:0},He=e("i",{class:"fa-regular fa-circle text-white"},null,-1),Ke=[He],Ze={key:1},Je=["src","alt"],Xe=e("div",{class:"flex items-center justify-center"},[e("i",{class:"fa-solid fa-caret-up text-blue-500"})],-1),Ye={class:"grid grid-cols-4 gap-1 p-3 border border-blue-300 rounded-md shadow-lg options-box custom-gradient-gray-blue"},ts=["onClick"],es={class:"flex items-center justify-center font-semibold rounded-full w-8 h-8 leading-none flex-col bg-blue-500 text-white"},ss={key:0},os=e("i",{class:"fa-regular fa-circle text-white"},null,-1),as=[os],ns={key:1},rs=["src","alt"],tt={__name:"SelectList",props:{label:{type:String,required:!0},options:{type:Array,required:!0},selected:{type:Number}},emits:["update:selected"],setup(t,{emit:s}){const o=t,a=s,n=k(!1),i=k(o.selected),l=k(null),h=()=>{n.value=!0},r=()=>{n.value=!1},y=u=>{i.value=u,a("update:selected",u,o.label),n.value=!1},v=u=>`images/items/common/insight${u}.png`;return ct(l,r),Ht(()=>{o.selected===void 0?(i.value=o.options[0],a("update:selected",o.options[0],o.label)):(i.value=o.selected,a("update:selected",o.selected,o.label))}),(u,g)=>($(),M("div",Ge,[e("button",{onClick:h,class:"btn btn-sm btn-ghost gradient-blue w-1/2 m-2"},[t.label==="Current Insight"||t.label==="Goal Insight"?($(),M(B,{key:0},[i.value===0?($(),M("div",ze,Ke)):($(),M("div",Ze,[e("img",{class:"avatar w-6",src:v(i.value),alt:"Option "+i.value},null,8,Je)]))],64)):($(),M(B,{key:1},[it(S(i.value),1)],64))]),n.value?($(),M("div",{key:0,ref_key:"containerRef",ref:l,class:"absolute mt-14 w-48 lg:w-64 z-50"},[Xe,e("div",Ye,[($(!0),M(B,null,et(t.options,p=>($(),M("button",{key:p,class:"m-1",onClick:f=>y(p)},[e("div",es,[t.label==="Current Insight"||t.label==="Goal Insight"?($(),M(B,{key:0},[p===0?($(),M("div",ss,as)):($(),M("div",ns,[e("img",{src:v(p),alt:"Option "+p},null,8,rs)]))],64)):($(),M(B,{key:1},[it(S(p),1)],64))])],8,ts))),128))])],512)):T("",!0)]))}},is={class:"edit-overlay"},ls={class:"fixed p-4 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 custom-gradient-gray-blue custom-border rounded-md w-11/12 sm:max-w-2xl lg:h-auto"},us={class:"flex items-center p-2 mb-3 shadow-border-b"},cs={class:"flex items-center justify-center mr-2 space-x-3"},ds={class:"text-1xl md:text-2xl text-white font-bold"},hs={class:"text-sm text-white",for:"raritySelect"},ps=["data-tip"],ys={class:"ml-auto flex items-center space-x-3"},vs=["data-tip"],fs=e("i",{class:"fas fa-times"},null,-1),ms=[fs],gs=e("div",{class:"custom-line"},null,-1),bs={class:"custom-label text-blue-100"},_s={class:"mt-2 flex justify-center items-center leading-none"},Ss=e("i",{class:"text-white text-center flex items-center justify-center font-extrabold text-2xl -translate-y-2"},"_",-1),Ds={class:"custom-label text-blue-100"},$s={class:"mt-2 flex justify-center items-center leading-none"},xs=e("i",{class:"text-white text-center flex items-center justify-center font-extrabold text-2xl -translate-y-2"},"_",-1),ws={class:"custom-label text-blue-100"},Ms={class:"mt-2 flex justify-center items-center leading-none"},Is=e("i",{class:"text-white fa-solid fa-angles-right text-center"},null,-1),ks={class:"flex justify-center space-x-4"},As={key:0,class:"toast toast-middle toast-center"},Cs={class:"-translate-x-3 alert alert-info bg-red-300"},Rs={__name:"PlannerEdit",props:{selectedArcanist:{type:Object,required:!0},selectedArcanists:{type:Array,required:!0},listArcanists:{type:Array,required:!0}},emits:{closeOverlay:{type:Function,required:!0},updateSelectedArcanists:{type:Function,required:!0},updateListArcanists:{type:Function,required:!0}},setup(t,{emit:s}){const o=t,a=s,n=F().arcanists,i=k(!1),l=k(0),h=Xt,r=k(n.find(A=>Number(A.Id)===Number(o.selectedArcanist.Id))),y=k(o.selectedArcanists),v=k(o.listArcanists),u=k(o.selectedArcanist.currentInsight),g=k(o.selectedArcanist.currentLevel),p=k(o.selectedArcanist.currentResonance),f=k(o.selectedArcanist.goalInsight),_=k(o.selectedArcanist.goalLevel),D=k(o.selectedArcanist.goalResonance),d=k(o.selectedArcanist.isVisible),b=(A,C,L,ot)=>Number(A)>Number(L)?!0:Number(A)<Number(L)?!1:Number(C)>Number(ot),m=()=>{if(u.value===f.value&&g.value===_.value&&p.value===D.value)return i.value=!0,setTimeout(()=>{i.value=!1},1e3),!0;i.value=!1},c=()=>{if(m())return;const A=y.value.findIndex(C=>Number(C.Id)===Number(O.value.Id));A!==-1?y.value[A]={...y.value[A],...O.value}:y.value.push(O.value),v.value=v.value.filter(C=>C.Id!==O.value.Id),a("updateSelectedArcanists",y.value),a("updateListArcanists",v.value),a("closeOverlay")},w=()=>{const A=y.value.findIndex(C=>Number(C.Id)===Number(O.value.Id));A!==-1&&y.value.splice(A,1),x()},x=()=>{a("closeOverlay")},I=(A,C)=>{switch(C){case"Current Insight":u.value=A;break;case"Current Level":g.value=A;break;case"Current Resonance":p.value=A;break;case"Goal Insight":f.value=A;break;case"Goal Level":_.value=A;break;case"Goal Resonance":D.value=A;break;case"Visible":d.value=A;break}},O=R(()=>({Id:r.value.Id,isVisible:d.value,currentInsight:u.value,currentLevel:g.value,goalInsight:f.value,goalLevel:_.value,currentResonance:p.value,goalResonance:D.value})),N=R(()=>r.value.Rarity),P=R(()=>[0,...r.value.Insight.map(A=>A.Id)]),q=R(()=>P.value.filter(A=>A>=u.value)),U=R(()=>{const A=h.find(C=>C.Rarity.includes(r.value.Rarity)&&C.Insight===u.value);return A?[1,...Object.keys(A.Levels).map(Number).filter(C=>C%5===0)]:[]}),Y=R(()=>{if(f.value===null)return[];const A=h.find(C=>C.Rarity.includes(r.value.Rarity)&&C.Insight===f.value);return A?f.value===u.value?[1,...Object.keys(A.Levels).map(Number).filter(C=>C%5===0)].filter(C=>C>=g.value):[1,...Object.keys(A.Levels).map(Number).filter(C=>C%5===0)]:[]}),st=R(()=>{if(u.value===null)return[];if(u.value===0)return p.value=0,[0];const A=Number(u.value);if(A===0)return p.value=null,null;const C=A*5;return Array.from({length:C},(L,ot)=>Number(ot+1))}),lt=R(()=>{if(f.value===null)return[];if(f.value===0)return D.value=0,[0];const A=Number(f.value),C=Number(p.value);if(A===0)return D.value=null,null;const L=C||1,ot=A*5;return Array.from({length:ot-L+1},(at,rt)=>Number(L+rt))});return gt([u,g,p,f,_,D],()=>{l.value+=1,g.value>U.value[U.value.length-1]&&(g.value=U.value[U.value.length-1]),_.value>Y.value[Y.value.length-1]&&(_.value=Y.value[Y.value.length-1]),Number(p.value)>Number(D.value)&&(D.value=p.value),p.value<st.value[0]&&(p.value=st.value[0]),D.value<lt.value[0]&&(D.value=lt.value[0]),b(u.value,g.value,f.value,_.value)&&(f.value=u.value,_.value=g.value)}),(A,C)=>($(),M("div",is,[e("div",ls,[e("div",us,[e("div",cs,[Q(Kt,{class:"ml-2",arcanist:r.value},null,8,["arcanist"]),e("h2",ds,S(A.$t(r.value.Name)),1),e("label",hs,[it(S(N.value)+" ",1),e("i",{class:z(["fa-solid fa-star",{"text-orange-300":N.value===6,"text-yellow-100":N.value===5,"text-purple-400":N.value===4,"text-sky-200":N.value===3,"text-green-200":N.value===2}])},null,2)]),e("div",{class:"tooltip","data-tip":A.$t("remove-arcanist")},[e("i",{onClick:w,class:"fas fa-trash-alt text-gray-500"})],8,ps)]),e("div",ys,[e("div",{class:"tooltip","data-tip":A.$t("hidden-show")},[e("div",{onClick:C[0]||(C[0]=L=>d.value=!d.value),class:z(["badge badge-ghost",d.value?"green-badge":"red-badge"])},[e("i",{class:z(d.value?"fa-regular fa-eye":"fa-regular fa-eye-slash")},null,2)],2)],8,vs),e("button",{onClick:x,class:"text-white"},ms)])]),gs,e("div",bs,S(A.$t("current-level")),1),e("div",_s,[($(),G(tt,{key:l.value,modelValue:u.value,"onUpdate:modelValue":C[1]||(C[1]=L=>u.value=L),selected:u.value,label:"Current Insight",options:P.value,"onUpdate:selected":I},null,8,["modelValue","selected","options"])),Ss,($(),G(tt,{key:l.value,modelValue:g.value,"onUpdate:modelValue":C[2]||(C[2]=L=>g.value=L),selected:g.value,label:"Current Level",options:U.value,"onUpdate:selected":I},null,8,["modelValue","selected","options"]))]),e("div",Ds,S(A.$t("goal-level")),1),e("div",$s,[($(),G(tt,{key:l.value,modelValue:f.value,"onUpdate:modelValue":C[3]||(C[3]=L=>f.value=L),selected:f.value,label:"Goal Insight",options:q.value,"onUpdate:selected":I},null,8,["modelValue","selected","options"])),xs,($(),G(tt,{key:l.value,modelValue:_.value,"onUpdate:modelValue":C[4]||(C[4]=L=>_.value=L),selected:_.value,label:"Goal Level",options:Y.value,"onUpdate:selected":I},null,8,["modelValue","selected","options"]))]),e("div",ws,S(A.$t("resonance")),1),e("div",Ms,[($(),G(tt,{key:l.value,modelValue:p.value,"onUpdate:modelValue":C[5]||(C[5]=L=>p.value=L),selected:p.value,label:"Current Resonance",options:st.value,"onUpdate:selected":I},null,8,["modelValue","selected","options"])),Is,($(),G(tt,{key:l.value,modelValue:D.value,"onUpdate:modelValue":C[6]||(C[6]=L=>D.value=L),selected:D.value,label:"Goal Resonance",options:lt.value,"onUpdate:selected":I},null,8,["modelValue","selected","options"]))]),e("div",ks,[e("button",{onClick:c,class:"btn btn-success"},S(A.$t("save")),1),i.value?($(),M("div",As,[e("div",Cs,[e("span",null,S(A.$t("current-and-goal-are-the-same")),1)])])):T("",!0)]),Q(Be,{arcanist:O.value},null,8,["arcanist"])])]))}},Ns=["data-tip"],Qs={class:"rounded-md overflow-hidden w-12 h-12"},Os={class:"avatar"},js=["src","alt"],Vs=H({__name:"ArcanistIconToggle",props:{arcanist:{type:Number,required:!0},visible:{type:Boolean,required:!0}},setup(t){const s=t,o=F().arcanists.find(n=>n.Id===s.arcanist),a=n=>`images/arcanists/icon/${n}.png`;return(n,i)=>{var l,h,r,y,v,u,g,p;return $(),M("div",{class:"tooltip","data-tip":n.$t(String((l=E(o))==null?void 0:l.Name))},[e("div",Qs,[e("div",Os,[e("div",{class:z(["w-12 rounded",{"filter-grayscale opacity-50":!t.visible,"bg-orange-300":((h=E(o))==null?void 0:h.Rarity)===6,"bg-yellow-100":((r=E(o))==null?void 0:r.Rarity)===5,"bg-purple-400":((y=E(o))==null?void 0:y.Rarity)===4,"bg-sky-200":((v=E(o))==null?void 0:v.Rarity)===3,"bg-green-200":((u=E(o))==null?void 0:u.Rarity)===2}])},[e("img",{src:a(((g=E(o))==null?void 0:g.Id)??10024),alt:(p=E(o))==null?void 0:p.Name},null,8,js)],2)])])],8,Ns)}}}),Es=nt(Vs,[["__scopeId","data-v-c4b9a495"]]),j=vt("warehouse",{state:()=>({data:[]}),actions:{initItem(t,s){this.data.push({Material:t,Quantity:0,Category:s})},removeItem(t){this.data=this.data.filter(s=>s.Material!==t)},addItem(t,s){this.data=this.data.map(o=>o.Material===t?{...o,Quantity:o.Quantity+s}:{...o})},reduceItem(t,s){this.data=this.data.map(o=>o.Material===t?{...o,Quantity:o.Quantity>=s?o.Quantity-s:o.Quantity}:{...o})},updateItem(t,s){this.data=this.data.map(o=>o.Material===t?{...o,Quantity:s}:{...o})},hasItem(t){return this.data.some(s=>s.Material===t)},getItemQuantity(t){var s;return((s=this.data.find(o=>o.Material===t))==null?void 0:s.Quantity)||0},resetAll(){this.data=this.data.map(t=>({...t,Quantity:0}))},resetCategory(t){this.data=this.data.map(s=>s.Category===t?{...s,Quantity:0}:{...s})}},persist:!0}),Ls=["data-tip"],Ps={class:"relative inline-block"},qs=["src"],Us=["src"],Ws={__name:"ItemGoalIcon",props:{material:{type:Object,required:!0}},setup(t){const s=t,o=()=>s.material.Quantity>99||j().getItemQuantity(s.material.Material)>99,a=R(()=>_t(s.material));return(n,i)=>($(),M("div",{class:"tooltip","data-tip":n.$t(a.value.material)},[e("div",Ps,[e("img",{src:a.value.borderImagePath,alt:"Border Image",class:z(["w-20 h-20 absolute",{"w-36":o()}])},null,10,qs),e("img",{src:a.value.itemImagePath,alt:"Material Image",class:z(["w-20 h-20",{"mx-5":o()}])},null,10,Us),e("div",{class:z(["flex items-center justify-center small-text text-white absolute -bottom-3 left-3 input input-xs rounded-t-none",{"left-[17px] w-[85px]":o(),"w-14":!o(),"bg-green-800/80":E(j)().getItemQuantity(s.material.Material)>=s.material.Quantity,"bg-red-500/60":E(j)().getItemQuantity(s.material.Material)<s.material.Quantity}])},S(E(mt)(E(j)().getItemQuantity(a.value.material)))+" / "+S(a.value.quantity),3)])],8,Ls))}},Fs=nt(Ws,[["__scopeId","data-v-d939ba2e"]]),Ts={class:"p-2"},Bs={class:"flex flex-wrap justify-center space-x-2"},Gs={class:"flex justify-center items-center"},zs={class:"btn btn-ghost custom-gradient-button btn-sm text-white",onclick:"goalMaterials.showModal()"},Hs={id:"goalMaterials",class:"modal"},Ks={class:"modal-box custom-gradient-gray-blue custom-border hidden-scrollbar"},Zs=e("form",{method:"dialog"},[e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),Js={class:"font-bold text-lg text-white text-center"},Xs={class:"hidden-scrollbar pt-9 custom-item-list"},Ys={method:"dialog",class:"flex justify-center pt-5"},to={class:"btn btn-sm btn-success text-black"},eo=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"close")],-1),so={class:"text-center text-slate-300 text-sm opacity-70"},oo={__name:"PlannerSelector",props:{selectedArcanists:{type:Array,required:!0}},emits:["open-edit-overlay"],setup(t,{emit:s}){const o=t,a=s,n=k(o.selectedArcanists),i=r=>{a("open-edit-overlay",r)},l=r=>{r.isVisible=!r.isVisible},h=R(()=>{const r=n.value.map(u=>u.isVisible?Et(u):[]),y=Vt(r);return Re(y)});return(r,y)=>($(),M("div",Ts,[e("div",Bs,[($(!0),M(B,null,et(n.value,v=>($(),G(Es,{key:v.Id,arcanist:v.Id,visible:v.isVisible,onClick:u=>i(v),onContextmenu:de(u=>l(v),["prevent"]),class:"mb-2"},null,8,["arcanist","visible","onClick","onContextmenu"]))),128)),e("div",Gs,[e("button",zs,S(r.$t("goal")),1),e("dialog",Hs,[e("div",Ks,[Zs,e("h3",Js,S(r.$t("total-goal-materials")),1),e("div",Xs,[($(!0),M(B,null,et(h.value,v=>($(),G(Fs,{class:"py-2",key:v,material:v},null,8,["material"]))),128))]),e("form",Ys,[e("button",to,S(r.$t("close")),1)])]),eo])])]),e("p",so,S(r.$t("left-click-to-edit-right-click-to-show-hide")),1)]))}},J=(t,s,o)=>t.matrix[Math.imul(s,t.width)+o],K=(t,s,o,a)=>{t.matrix[Math.imul(s,t.width)+o]=a},Rt=t=>typeof t[Symbol.iterator]=="function"?t:Object.entries(t),Ut=t=>t===!0?!0:t===!1?new Set:t instanceof Set?t:new Set(t),ao=t=>{const{direction:s,objective:o,integers:a,binaries:n}=t,i=s==="minimize"?-1:1,l=Rt(t.constraints),h=Rt(t.variables),r=Array.isArray(h)?h:Array.from(h),y=[],v=[];if(a!=null||n!=null){const c=Ut(n),w=c===!0?!0:Ut(a);for(let x=1;x<=r.length;x++){const[I]=r[x-1];c===!0||c.has(I)?(y.push(x),v.push(x)):(w===!0||w.has(I))&&v.push(x)}}const u=new Map;for(const[c,w]of l){const x=u.get(c)??{row:NaN,lower:-1/0,upper:1/0};x.lower=Math.max(x.lower,w.equal??w.min??-1/0),x.upper=Math.min(x.upper,w.equal??w.max??1/0),u.has(c)||u.set(c,x)}let g=1;for(const c of u.values())c.row=g,g+=(Number.isFinite(c.lower)?1:0)+(Number.isFinite(c.upper)?1:0);const p=r.length+1,f=g+y.length,_=p+f,D=new Float64Array(p*f),d=new Int32Array(_),b=new Int32Array(_),m={matrix:D,width:p,height:f,positionOfVariable:d,variableAtPosition:b};for(let c=0;c<_;c++)d[c]=c,b[c]=c;for(let c=1;c<p;c++)for(const[w,x]of Rt(r[c-1][1])){w===o&&K(m,0,c,i*x);const I=u.get(w);I!=null&&(Number.isFinite(I.upper)?(K(m,I.row,c,x),Number.isFinite(I.lower)&&K(m,I.row+1,c,-x)):Number.isFinite(I.lower)&&K(m,I.row,c,-x))}for(const c of u.values())Number.isFinite(c.upper)?(K(m,c.row,0,c.upper),Number.isFinite(c.lower)&&K(m,c.row+1,0,-c.lower)):Number.isFinite(c.lower)&&K(m,c.row,0,-c.lower);for(let c=0;c<y.length;c++){const w=g+c;K(m,w,0,1),K(m,w,y[c],1)}return{tableau:m,sign:i,variables:r,integers:v}},ee=(t,s)=>{const o=Math.round(1/s);return Math.round((t+Number.EPSILON)*o)/o},se=(t,s,o)=>{const a=J(t,s,o),n=t.variableAtPosition[t.width+s],i=t.variableAtPosition[o];t.variableAtPosition[t.width+s]=i,t.variableAtPosition[o]=n,t.positionOfVariable[n]=o,t.positionOfVariable[i]=t.width+s;const l=[];for(let h=0;h<t.width;h++){const r=J(t,s,h);Math.abs(r)>1e-16?(K(t,s,h,r/a),l.push(h)):K(t,s,h,0)}K(t,s,o,1/a);for(let h=0;h<t.height;h++){if(h===s)continue;const r=J(t,h,o);if(Math.abs(r)>1e-16){for(let y=0;y<l.length;y++){const v=l[y];K(t,h,v,J(t,h,v)-r*J(t,s,v))}K(t,h,o,-r/a)}}},oe=(t,s,o,a)=>{t.push([s.variableAtPosition[s.width+o],s.variableAtPosition[a]]);for(let n=6;n<=Math.trunc(t.length/2);n++){let i=!0;for(let l=0;l<n;l++){const h=t.length-1-l,[r,y]=t[h],[v,u]=t[h-n];if(r!==v||y!==u){i=!1;break}}if(i)return!0}return!1},no=(t,s)=>{const o=[],{precision:a,maxPivots:n,checkCycles:i}=s;for(let l=0;l<n;l++){let h=0,r=a;for(let u=1;u<t.width;u++){const g=J(t,0,u);g>r&&(r=g,h=u)}if(h===0)return["optimal",ee(J(t,0,0),a)];let y=0,v=1/0;for(let u=1;u<t.height;u++){const g=J(t,u,h);if(g<=a)continue;const f=J(t,u,0)/g;if(f<v&&(y=u,v=f,f<=a))break}if(y===0)return["unbounded",h];if(i&&oe(o,t,y,h))return["cycled",NaN];se(t,y,h)}return["cycled",NaN]},ae=(t,s)=>{const o=[],{precision:a,maxPivots:n,checkCycles:i}=s;for(let l=0;l<n;l++){let h=0,r=-a;for(let u=1;u<t.height;u++){const g=J(t,u,0);g<r&&(r=g,h=u)}if(h===0)return no(t,s);let y=0,v=-1/0;for(let u=1;u<t.width;u++){const g=J(t,h,u);if(g<-a){const p=-J(t,0,u)/g;p>v&&(v=p,y=u)}}if(y===0)return["infeasible",NaN];if(i&&oe(o,t,h,y))return["cycled",NaN];se(t,h,y)}return["cycled",NaN]};var ne={exports:{}};(function(t,s){(function(){var o,a,n,i,l,h,r,y,v,u,g,p,f,_,D;n=Math.floor,u=Math.min,a=function(d,b){return d<b?-1:d>b?1:0},v=function(d,b,m,c,w){var x;if(m==null&&(m=0),w==null&&(w=a),m<0)throw new Error("lo must be non-negative");for(c==null&&(c=d.length);m<c;)x=n((m+c)/2),w(b,d[x])<0?c=x:m=x+1;return[].splice.apply(d,[m,m-m].concat(b)),b},h=function(d,b,m){return m==null&&(m=a),d.push(b),_(d,0,d.length-1,m)},l=function(d,b){var m,c;return b==null&&(b=a),m=d.pop(),d.length?(c=d[0],d[0]=m,D(d,0,b)):c=m,c},y=function(d,b,m){var c;return m==null&&(m=a),c=d[0],d[0]=b,D(d,0,m),c},r=function(d,b,m){var c;return m==null&&(m=a),d.length&&m(d[0],b)<0&&(c=[d[0],b],b=c[0],d[0]=c[1],D(d,0,m)),b},i=function(d,b){var m,c,w,x,I,O;for(b==null&&(b=a),x=(function(){O=[];for(var N=0,P=n(d.length/2);0<=P?N<P:N>P;0<=P?N++:N--)O.push(N);return O}).apply(this).reverse(),I=[],c=0,w=x.length;c<w;c++)m=x[c],I.push(D(d,m,b));return I},f=function(d,b,m){var c;if(m==null&&(m=a),c=d.indexOf(b),c!==-1)return _(d,0,c,m),D(d,c,m)},g=function(d,b,m){var c,w,x,I,O;if(m==null&&(m=a),w=d.slice(0,b),!w.length)return w;for(i(w,m),O=d.slice(b),x=0,I=O.length;x<I;x++)c=O[x],r(w,c,m);return w.sort(m).reverse()},p=function(d,b,m){var c,w,x,I,O,N,P,q,U;if(m==null&&(m=a),b*10<=d.length){if(x=d.slice(0,b).sort(m),!x.length)return x;for(w=x[x.length-1],P=d.slice(b),I=0,N=P.length;I<N;I++)c=P[I],m(c,w)<0&&(v(x,c,0,null,m),x.pop(),w=x[x.length-1]);return x}for(i(d,m),U=[],O=0,q=u(b,d.length);0<=q?O<q:O>q;0<=q?++O:--O)U.push(l(d,m));return U},_=function(d,b,m,c){var w,x,I;for(c==null&&(c=a),w=d[m];m>b;){if(I=m-1>>1,x=d[I],c(w,x)<0){d[m]=x,m=I;continue}break}return d[m]=w},D=function(d,b,m){var c,w,x,I,O;for(m==null&&(m=a),w=d.length,O=b,x=d[b],c=2*b+1;c<w;)I=c+1,I<w&&!(m(d[c],d[I])<0)&&(c=I),d[b]=d[c],b=c,c=2*b+1;return d[b]=x,_(d,O,b,m)},o=function(){d.push=h,d.pop=l,d.replace=y,d.pushpop=r,d.heapify=i,d.updateItem=f,d.nlargest=g,d.nsmallest=p;function d(b){this.cmp=b??a,this.nodes=[]}return d.prototype.push=function(b){return h(this.nodes,b,this.cmp)},d.prototype.pop=function(){return l(this.nodes,this.cmp)},d.prototype.peek=function(){return this.nodes[0]},d.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},d.prototype.replace=function(b){return y(this.nodes,b,this.cmp)},d.prototype.pushpop=function(b){return r(this.nodes,b,this.cmp)},d.prototype.heapify=function(){return i(this.nodes,this.cmp)},d.prototype.updateItem=function(b){return f(this.nodes,b,this.cmp)},d.prototype.clear=function(){return this.nodes=[]},d.prototype.empty=function(){return this.nodes.length===0},d.prototype.size=function(){return this.nodes.length},d.prototype.clone=function(){var b;return b=new d,b.nodes=this.nodes.slice(0),b},d.prototype.toArray=function(){return this.nodes.slice(0)},d.prototype.insert=d.prototype.push,d.prototype.top=d.prototype.peek,d.prototype.front=d.prototype.peek,d.prototype.has=d.prototype.contains,d.prototype.copy=d.prototype.clone,d}(),function(d,b){return t.exports=b()}(this,function(){return o})}).call(pe)})(ne);var ro=ne.exports,io=ro;const lo=ye(io),Wt=(t,s)=>({matrix:new Float64Array(t),positionOfVariable:new Int32Array(s),variableAtPosition:new Int32Array(s)}),uo=(t,{matrix:s,positionOfVariable:o,variableAtPosition:a},n)=>{const{width:i,height:l}=t;s.set(t.matrix);for(let r=0;r<n.length;r++){const[y,v,u]=n[r],g=(l+r)*i,p=t.positionOfVariable[v];if(p<i)s[g]=y*u,s.fill(0,g+1,g+i),s[g+p]=y;else{const f=(p-i)*i;s[g]=y*(u-s[f]);for(let _=1;_<i;_++)s[g+_]=-y*s[f+_]}}o.set(t.positionOfVariable),a.set(t.variableAtPosition);const h=i+l+n.length;for(let r=i+l;r<h;r++)o[r]=r,a[r]=r;return{matrix:s.subarray(0,t.matrix.length+i*n.length),width:i,height:l+n.length,positionOfVariable:o.subarray(0,h),variableAtPosition:a.subarray(0,h)}},Ft=(t,s)=>{let o=0,a=0,n=0;for(let i=0;i<s.length;i++){const l=s[i],h=t.positionOfVariable[l]-t.width;if(h<0)continue;const r=J(t,h,0),y=Math.abs(r-Math.round(r));y>o&&(o=y,a=l,n=r)}return[a,n,o]},co=(t,s,o)=>{const{tableau:a,sign:n,integers:i}=t,{precision:l,maxIterations:h,tolerance:r,timeout:y}=o,[v,u,g]=Ft(a,i);if(g<=l)return[t,"optimal",s];const p=new lo((U,Y)=>U[0]-Y[0]);p.push([s,[[-1,v,Math.ceil(u)]]]),p.push([s,[[1,v,Math.floor(u)]]]);const f=i.length*2,_=a.matrix.length+f*a.width,D=a.positionOfVariable.length+f;let d=Wt(_,D),b=Wt(_,D);const m=s*(1-n*r),c=y+Date.now();let w=Date.now()>=c,x=!1,I=1/0,O=a,N=0;for(;N<h&&!p.empty()&&I>=m&&!w;){const[U,Y]=p.pop();if(U>I)break;const st=uo(a,d,Y),[lt,A]=ae(st,o);if(lt==="optimal"&&A<I){const[C,L,ot]=Ft(st,i);if(ot<=l){x=!0,I=A,O=st;const at=b;b=d,d=at}else{const at=[],rt=[];for(let ft=0;ft<Y.length;ft++){const ut=Y[ft],[It,kt]=ut;kt===C?It<0?rt.push(ut):at.push(ut):(at.push(ut),rt.push(ut))}rt.push([1,C,Math.floor(L)]),at.push([-1,C,Math.ceil(L)]),p.push([A,at]),p.push([A,rt])}}w=Date.now()>=c,N++}const q=(w||N>=h)&&!p.empty()&&I>=m?"timedout":x?"optimal":"infeasible";return[{...t,tableau:O},q,x?I:NaN]},Tt=({tableau:t,sign:s,variables:o},a,n,{precision:i,includeZeroVariables:l})=>{if(a==="optimal"||a==="timedout"&&!Number.isNaN(n)){const h=[];for(let r=0;r<o.length;r++){const[y]=o[r],v=t.positionOfVariable[r+1]-t.width,u=v>=0?J(t,v,0):0;u>i?h.push([y,ee(u,i)]):l&&h.push([y,0])}return{status:a,result:-s*n,variables:h}}else if(a==="unbounded"){const h=t.variableAtPosition[n]-1;return{status:"unbounded",result:s*(1/0),variables:0<=h&&h<o.length?[[o[h][0],1/0]]:[]}}else return{status:a,result:NaN,variables:[]}},ho={precision:1e-8,checkCycles:!1,maxPivots:8192,tolerance:0,timeout:1/0,maxIterations:32768,includeZeroVariables:!1},re=(t,s)=>{const o=ao(t),a={...ho,...s},[n,i]=ae(o.tableau,a);if(o.integers.length===0||n!=="optimal")return Tt(o,n,i,a);{const[l,h,r]=co(o,i,a);return Tt(l,h,r,a)}},ie=F().formulas;function Nt(t){const s=bt().settings.activity;return Number((t/s).toFixed(1))}function po(t){const s=ce(),o=j().data,a={},n={},i=["Sinuous Howl","Interlaced Shudder","Hypocritical Murmur","Hoarse Echo","Sonorous Knell","Brief Cacophony","Moment of Dissonance","Crystal Casket"];t.forEach(({Material:f,Quantity:_})=>{i.includes(f)||(n[f]={min:_})});const l={},h=[];for(const{Name:f,Material:_,Quantity:D}of ie){if(a[f]={min:0},_.length===0)continue;const d={};_.forEach((m,c)=>{d[m]=-D[c]});const b=`Wilderness Wishing Spring - ${f}`;l[b]={[f]:1,...d,cost:0},h.includes(b)||h.push(b)}const r={};for(const f in s){const _=s[f],{count:D,cost:d,drops:b}=_;r[f]={cost:d};for(const m in b)r[f][m]=b[m]/D}const y={...a,...n};o.forEach(f=>{const{Material:_,Quantity:D}=f,d=D;d>0&&(y[_]?y[_]={min:y[_].min-d}:y[_]={min:-d})});const v=Object.assign({},l,r),p=re({objective:"cost",direction:"minimize",constraints:y,variables:v,integers:h},{maxIterations:1048576,tolerance:.25});return p.status!=="optimal"&&(console.log(`%cStatus: ${p.status}`,"background-color: yellow; color: black;"),console.log("constraints: ",y),console.log("variables: ",v)),p}function yo(t){var I,O;let s=0;const o=t.find(N=>N.stage==="Wilderness Wishing Spring");o&&o.materials.forEach(({Material:N,Quantity:P})=>{const q=ie.find(U=>U.Name===N);q!=null&&q.Quantity.length&&(s+=(q==null?void 0:q.Quantity[(q==null?void 0:q.Quantity.length)-1])*P)});const a=W().getNeededMaterialsQuantity("Sharpodonty")+s,n=W().getNeededMaterialsQuantity("Dust");let i=0;const l=t.filter(N=>N.stage!=="The Poussiere VI"&&N.stage!=="Mintage Aesthetics VI");l.forEach(N=>{N.stage!=="Oneiric Shop"&&(i+=N.activity)});const h=bt().settings.activity,r=Nt(i),y=((I=j().data.find(N=>N.Material==="Sharpodonty"))==null?void 0:I.Quantity)||0,v=((O=j().data.find(N=>N.Material==="Dust"))==null?void 0:O.Quantity)||0,u=Jt().settings.wildernessOutput,g=Math.max(a-u.gold*r-y,0),p=Math.max(n-u.dust*r-v,0),f={"The Poussiere VI":{Dust:12e3+Number((u.dust*25/h).toFixed(1)),Sharpodonty:250+Number((u.gold*25/h).toFixed(1)),Cost:25},"Mintage Aesthetics VI":{Dust:0+Number((u.dust*25/h).toFixed(1)),Sharpodonty:9e3+Number((u.gold*25/h).toFixed(1)),Cost:25}},d=re({objective:"Cost",direction:"minimize",constraints:{Sharpodonty:{min:g},Dust:{min:p}},variables:f,integers:!0});let b=0,m=0;d.variables.forEach(([N,P])=>{N==="Mintage Aesthetics VI"?b=P:m=P});const c={stage:"Mintage Aesthetics VI",activityImagePath:"images/items/common/0.png",runs:b,activity:25*b,days:Nt(25*b),materials:[{Material:"Sharpodonty",Quantity:9e3*b}]},w={stage:"The Poussiere VI",activityImagePath:"images/items/common/0.png",runs:m,activity:25*m,days:Nt(25*m),materials:[{Material:"Dust",Quantity:12e3*m},{Material:"Sharpodonty",Quantity:250*m}]},x=[...l];return m>0&&x.push(w),b>0&&x.push(c),x}const Lt=F().items,vo=F().formulas;function fo(t){const s=Lt.find(o=>o.Name===t.Material);if(s){const o=s.Rarity,a=t.Quantity;if(o===3)return a*40;if(o===4)return a*100;if(o===5)return a*250;if(o===6)return a*1500}return 0}function mo(t,s){var n;if(t.Quantity<=0||((n=Lt.find(i=>i.Name===t.Material))==null?void 0:n.Category)!=="Resonate Material")return;const a=ue("Oneiric Shop",s);a.materials.push(t),a.activity+=fo(t)}function go(t){const s=j().data;return t.forEach(o=>{const a=s.find(n=>n.Category==="Resonate Material"&&n.Material===o.Material);a&&(o.Quantity-=a.Quantity)}),t}function bo(t,s){let o=0;if(t.forEach(a=>{const n=Lt.find(i=>i.Name===a.Material);(n==null?void 0:n.Category)!=="Resonate Material"||(n==null?void 0:n.Rarity)!==6||(o+=a.Quantity,a.Quantity=0)}),o>0){const a={Material:"Crystal Casket",Quantity:o};t.unshift(a)}go(t),t.forEach(a=>{mo(a,s)})}function le(t,s,o,a,n){return{stage:t,runs:s||0,activity:o||0,days:a||0,materials:n,activityImagePath:Ve(t)}}function ue(t,s){let o=s.find(a=>a.stage===t);return o||(o=le(t,null,t==="Oneiric Shop"?0:null,null,[]),s.push(o)),o}function Bt(t,s){return t.sort((o,a)=>{if(o.stage==="Oneiric Shop")return-1;if(a.stage==="Oneiric Shop")return 1;const n=s[o.stage],i=s[a.stage];return n&&i?n.id-i.id:n?-1:i?1:0})}function _o(t){return t.sort((s,o)=>s.stage==="Unreleased"?1:o.stage==="Unreleased"?-1:o.runs-s.runs)}function So(t){const s={...W().neededRawMaterialsMapping};t.filter(([o])=>o.startsWith("Wilderness Wishing Spring")).forEach(([o,a])=>{const n=o.split("-")[1].trim(),i=vo.find(l=>l.Name===n);i!=null&&i.Material.length&&(i==null||i.Material.forEach((l,h)=>{const r=i==null?void 0:i.Quantity[h];s[l]?s[l]+=r*a:s[l]=r*a}))}),W().updateNeededMaterialsMapping(s)}function ce(){const{enableGreedyMethod:t,enabledUnreleasedStages:s}=yt().settings,o=F();return t?o[s?"stages1_4_greedy":"stages_greedy"]||{}:o[s?"stages1_4":"stages"]||{}}function Do(t){const s=[],o=ce();bo(t,s);const a=po(t);So(a.variables),a.variables.forEach(v=>{const u=o[v[0]];if(u){const g=Math.ceil(v[1]),p=Math.ceil(g*u.cost),f=Number((p/bt().settings.activity).toFixed(1));let _=Object.entries(u.drops).map(([d,b])=>{let m=b/u.count*g;return m=m%1>=.9?Math.ceil(m):Math.floor(m),{Material:d,Quantity:m}});_=_.filter(d=>d.Quantity>0);const D=le(v[0],g,p,f,_);s.push(D)}else{const f={Material:v[0].split("-")[1].trim(),Quantity:v[1]};ue("Wilderness Wishing Spring",s).materials.push(f)}});const n=yo(s),i=n.filter(v=>["The Poussiere VI","Mintage Aesthetics VI","Oneiric Shop"].includes(v.stage)&&v.materials.length>0),l=n.filter(v=>(v.stage.endsWith("II")||v.stage.endsWith("IV")||v.stage.endsWith("VI"))&&!i.some(u=>u.stage===v.stage)&&v.materials.length>0),h=n.filter(v=>!["Wilderness Wishing Spring",...i.map(u=>u.stage),...l.map(u=>u.stage)].includes(v.stage)&&v.materials.length>0),r=n.filter(v=>["Wilderness Wishing Spring"].includes(v.stage)&&v.materials.length>0);return[{id:0,cards:Bt(i,o)},{id:1,cards:Bt(l,o)},{id:2,cards:_o(h)},{id:3,cards:r}]}function $o(t){let s=0,o=0;return t.forEach(a=>{a.cards.forEach(n=>{n.days!==0&&(s+=n.activity,o+=parseFloat(n.days))})}),[s,o.toFixed(0)]}const xo={class:"pb-4"},wo={class:"relative flex flex-col"},Mo={class:"relative"},Io=["src"],ko=["src"],Ao={class:"flex items-center justify-center font-bold w-20 mt-3"},Co=["disabled"],Ro=H({__name:"WarehouseItemEditor",props:{normalizedMaterial:{type:Object,required:!0},material:{type:Object,required:!0}},setup(t){var v;const s=t,o=j(),{data:a}=xt(o),n=R(()=>a.value.find(u=>u.Material===s.material.Material)),i=k(((v=n.value)==null?void 0:v.Quantity)||0),l=()=>{const u=Number(i.value);isNaN(u)||j().updateItem(s.material.Material,u)},h=()=>{j().reduceItem(s.material.Material,1)},r=()=>{j().addItem(s.material.Material,1)},y=R(()=>i.value>0);return Ot(()=>{var u;i.value=((u=n.value)==null?void 0:u.Quantity)||0}),(u,g)=>($(),M("div",xo,[e("div",wo,[e("div",Mo,[e("img",{src:t.normalizedMaterial.borderImagePath,alt:"Border Image",class:"w-20 h-20 absolute"},null,8,Io),e("img",{src:t.normalizedMaterial.itemImagePath,alt:"Material Image",class:"w-20 h-20"},null,8,ko)]),X(e("input",{"onUpdate:modelValue":g[0]||(g[0]=p=>i.value=p),onInput:l,type:"text",placeholder:"",class:"bg-slate-600 text-white w-14 input input-xs rounded-none text-center absolute right-3 bottom-6"},null,544),[[$t,i.value]]),e("div",Ao,[e("button",{class:"btn btn-ghost custom-gradient-gray-blue-light btn-xs w-7 text-base rounded-t-none rounded-r-none text-white",disabled:!y.value,onClick:h},"-",8,Co),e("button",{class:"btn btn-ghost custom-gradient-gray-blue-light btn-xs w-7 text-base rounded-t-none rounded-l-none text-white",onClick:r},"+")])])]))}}),No=nt(Ro,[["__scopeId","data-v-31c77836"]]),Qo={class:"relative inline-block"},Oo=["src"],jo=["src"],Vo={class:"absolute text-white bottom-4 right-3 bg-gray-700 rounded-tl px-1 py-px text-xs"},Eo=H({__name:"MaterialFormulaItem",props:{material:{type:Object,required:!0}},setup(t){const s=t,o=j(),{data:a}=xt(o),n=R(()=>_t(s.material)),i=R(()=>{var l;return((l=a.value.find(h=>h.Material===s.material.Material))==null?void 0:l.Quantity)||0});return(l,h)=>($(),M("div",Qo,[e("img",{src:n.value.borderImagePath,alt:"Border Image",class:"w-20 h-20 absolute"},null,8,Oo),e("img",{src:n.value.itemImagePath,alt:"Material Image",class:"w-20 h-20"},null,8,jo),e("div",Vo,S(i.value>=1e3?n.value.quantity:`${i.value}/${n.value.quantity}`),1)]))}}),Lo={class:"flex flex-col bg-slate-300/10 rounded py-2"},Po={class:"text-center text-white/95 text-sm opacity-80"},qo={class:"grid grid-cols-2 sm:flex flex-row m-auto"},Uo={class:"flex px-3 items-center justify-center gap-3"},Wo=["disabled"],Fo=["disabled"],To=H({__name:"MaterialCraftingRecipe",props:{normalizedMaterial:{type:Object,required:!0},material:{type:Object,required:!0},formula:{type:Object,required:!0}},setup(t){const s=t,o=j(),{data:a}=xt(o),n=()=>{if(s.formula){const r=s.formula;j().addItem(r.Name,1),r.Material.forEach((y,v)=>{const u=r.Quantity[v]||0;j().reduceItem(y,u)})}},i=()=>{if(s.formula){const r=s.formula;j().reduceItem(r.Name,1),r.Material.forEach((y,v)=>{const u=r.Quantity[v]||0;j().addItem(y,u)})}},l=R(()=>{var r,y;return(r=s.formula)!=null&&r.Material?!((y=s.formula)==null?void 0:y.Material.some((u,g)=>{var _,D;const p=((_=a.value.find(d=>d.Material===u))==null?void 0:_.Quantity)||0,f=(D=s.formula)==null?void 0:D.Quantity[g];return p<f})):!1}),h=R(()=>{var v;const r=s.material.Material;return(((v=a.value.find(u=>u.Material===r))==null?void 0:v.Quantity)||0)>0});return(r,y)=>{var v;return $(),M("div",Lo,[e("p",Po,S(r.$t("crafting-recipe")),1),e("div",qo,[($(!0),M(B,null,et((v=t.formula)==null?void 0:v.Material,(u,g)=>{var p;return $(),M("div",{key:g},[Q(Eo,{material:{Material:u,Quantity:(p=t.formula)==null?void 0:p.Quantity[g]}},null,8,["material"])])}),128))]),e("div",Uo,[e("button",{class:"btn btn-ghost custom-gradient-gray-blue-light btn-xs font-bold text-white/95",onClick:n,disabled:!l.value},S(r.$t("craft")),9,Wo),e("button",{class:"btn btn-ghost custom-gradient-gray-blue-light btn-xs font-bold text-white/95",onClick:i,disabled:!h.value},S(r.$t("reverse")),9,Fo)])])}}}),Bo=nt(To,[["__scopeId","data-v-91c7232e"]]),Go={class:"relative inline-block"},zo=["src"],Ho=["src"],Ko={class:"absolute text-white bottom-4 right-3 bg-gray-700 rounded-tl px-1 py-px text-xs cursor-default"},Zo={class:"flex items-center justify-center flex-col"},Jo={key:0,class:"text-center text-slate-300 text-sm opacity-80"},Xo={class:"text-white"},Yo={key:1,class:"text-center text-slate-300 text-sm opacity-80"},ta={class:"text-white"},ea={class:"text-center text-slate-300 text-sm opacity-80"},sa={class:"text-white"},oa={key:2,class:"text-center text-slate-300 text-sm opacity-80"},aa={class:"text-white"},na={class:"flex pt-2 justify-center items-center"},ra=H({__name:"MaterialItem",props:{material:{type:Object,required:!0},layerId:{type:Number,required:!0}},setup(t){var m;const s=t,o=k(s.material.Quantity),a=F().items,n=j(),{data:i}=xt(n),l=R(()=>_t(s.material)),h=R(()=>a.find(c=>c.Name===s.material.Material)),r=R(()=>i.value.find(c=>c.Material===s.material.Material)),y=R(()=>{if(s.material.Material==="Crystal Casket"){let w=0;return F().items.filter(x=>x.Category==="Resonate Material"&&x.Rarity===6).forEach(x=>{w+=W().getNeededRawMaterialsQuantity(x.Name)}),w}return W().getNeededRawMaterialsQuantity(l.value.material)}),v=R(()=>s.material.Material==="Crystal Casket"?y.value:W().getNeededMaterialsQuantity(l.value.material)),u=R(()=>Math.max(v.value-y.value,0)),g=R(()=>{var c;return(((c=r.value)==null?void 0:c.Quantity)||0)>=v.value}),p=R(()=>F().formulas.find(c=>c.Name===s.material.Material));gt(()=>s.material,c=>{o.value=c.Quantity});const f=k(r.value?(m=r.value)==null?void 0:m.Quantity:0),_=k(0);gt(r,c=>{if(W().isEditingMaterial===s.material.Material){const w=c?c.Quantity:0;_.value=w-f.value}});const D=()=>{var c;f.value=r.value?(c=r.value)==null?void 0:c.Quantity:0,_.value=0,W().setIsEditingWarehouse(!0),W().setIsEditingMaterial(s.material.Material)},d=()=>{var c;W().setIsEditingWarehouse(!1),W().setIsEditingMaterial(),f.value=r.value?(c=r.value)==null?void 0:c.Quantity:0,_.value=0},b=R(()=>{var c,w;return((c=h.value)==null?void 0:c.Category)==="Build Material"&&((w=h.value)==null?void 0:w.Rarity)<6});return(c,w)=>{const x=jt("i18n-t");return $(),G(E(he),{arrow:"",placement:"top",offsetDistance:"2","onOpen:popper":D,"onClose:popper":d},{content:Z(()=>{var I;return[e("div",Zo,[s.layerId===1||s.layerId===2?($(),M("p",Jo,[Q(x,{keypath:"numbers-expected-to-drop"},{numbers:Z(()=>[e("span",Xo,S(s.material.Quantity),1)]),_:1})])):T("",!0),s.layerId===3?($(),M("p",Yo,[Q(x,{keypath:"numbers-expected-to-be-crafted"},{numbers:Z(()=>[e("span",ta,S(Math.max(s.material.Quantity-_.value,0)),1)]),_:1})])):T("",!0),e("p",ea,[Q(x,{keypath:"numbers-needed-to-complete-the-goal"},{numbers:Z(()=>[e("span",sa,S(v.value),1)]),_:1})]),(b.value||s.material.Material==="Sharpodonty")&&u.value>0?($(),M("p",oa,[Q(x,{keypath:"with-numbers-used-in-crafting"},{numbers:Z(()=>[e("span",aa,S(u.value),1)]),_:1})])):T("",!0),e("div",na,[Q(No,{material:t.material,normalizedMaterial:l.value},null,8,["material","normalizedMaterial"]),(I=p.value)!=null&&I.Material.length?($(),G(Bo,{key:0,material:t.material,normalizedMaterial:l.value,formula:p.value},null,8,["material","normalizedMaterial","formula"])):T("",!0)])])]}),default:Z(()=>[e("div",{class:z(["cursor-pointer",g.value?"opacity-40":""])},[e("div",Go,[e("img",{src:l.value.borderImagePath,alt:"Border Image",class:"w-20 h-20 absolute"},null,8,zo),e("img",{src:l.value.itemImagePath,alt:"Material Image",class:"w-20 h-20"},null,8,Ho),e("div",Ko,S(l.value.quantity),1)])],2)]),_:1})}}}),Gt=nt(ra,[["__scopeId","data-v-ce6eda25"]]),ia=t=>(wt("data-v-c32d566a"),t=t(),Mt(),t),la={class:"bg-gray-700/40 shadow rounded flex flex-col items-center justify-between relative"},ua={class:"stage text-white p-2"},ca=["data-tip"],da={class:"calculations flex justify-center items-center bg-gradient-to-r from-blue-800/70 to-blue-900/90 text-white p-2 rounded-md"},ha={key:0,class:"border-blue-700/90 border-r pr-3"},pa=ia(()=>e("i",{class:"fa-solid fa-xmark text-xs mr-0.5"},null,-1)),ya={key:1},va={key:2,class:"pl-2"},fa={key:3},ma={class:"border-blue-700/90 border-r pr-3"},ga={class:"pl-3"},ba=["src"],_a={class:"border-blue-700/90 border-l pl-3"},Sa=H({__name:"PlannerCard",props:{card:{type:Object,required:!0},layerId:{type:Number,required:!0}},setup(t){const s=t,{t:o}=Qt(),a=k(null),n=R(()=>s.card.materials.length<4),i=R(()=>{if(!(s.layerId===3||s.card.stage==="Unreleased"))return s.card.stage==="Oneiric Shop"?o("number-of-oneiric-fluid"):o("number-of-runs")+" | "+o("activities")+" | "+o("uppercase-days")});return gt(n,l=>{l&&a.value&&(a.value.scrollLeft=0)}),(l,h)=>($(),M("div",la,[e("div",ua,[e("p",null,S(l.$t(t.card.stage)),1)]),e("div",{class:"tooltip w-full","data-tip":i.value},[e("div",da,[t.card.stage!=="Unreleased"?($(),M("p",ha,[X(e("span",null,[pa,it(S(t.card.runs),1)],512),[[Ct,t.card.runs>0]])])):($(),M("p",ya,S(l.$t("available-after-1-4-version-update")),1)),t.card.activity!==0?($(),M("p",va,S(t.card.activity),1)):t.layerId===3?($(),M("p",fa,[e("span",ma,S(l.$t("crafted-from-available-materials")),1),e("span",ga,S(l.$t("list-includes-dependencies")),1)])):T("",!0),X(e("img",{src:t.card.activityImagePath,alt:"Activity Image",class:"inline-block w-8 h-8"},null,8,ba),[[Ct,t.card.activity]]),e("p",_a,[X(e("span",null,S(t.card.days)+" "+S(t.card.days===0?"":t.card.days>1?l.$t("days"):l.$t("day")),513),[[Ct,t.card.days>0]])])])],8,ca),t.card.stage==="Unreleased"?($(),M("div",{key:0,ref_key:"scrollDiv",ref:a,class:z([{"hidden-scrollbar":n.value},"flex overflow-y-hidden overflow-x-auto scrollbar m-auto"])},[($(!0),M(B,null,et(t.card.materials.filter(r=>E(W)().neededRawMaterialsMapping[r.Material]>0),(r,y)=>($(),M("div",{key:y,class:"flex-shrink-0"},[Q(Gt,{material:{...r,Quantity:0},layerId:t.layerId},null,8,["material","layerId"])]))),128))],2)):($(),M("div",{key:1,ref_key:"scrollDiv",ref:a,class:z([{"hidden-scrollbar":n.value},"flex overflow-y-hidden overflow-x-auto scrollbar m-auto"])},[($(!0),M(B,null,et(t.card.materials,(r,y)=>($(),M("div",{key:y,class:"flex-shrink-0"},[Q(Gt,{material:r,layerId:t.layerId},null,8,["material","layerId"])]))),128))],2))]))}}),Da=nt(Sa,[["__scopeId","data-v-c32d566a"]]),$a={class:"w-full mb-4 flex flex-col"},xa=H({__name:"PlannerLayer",props:{layer:{type:Object,required:!0}},setup(t){const s=t,{t:o}=Qt(),a=R(()=>s.layer.cards&&s.layer.cards.length>0),n=R(()=>{switch(s.layer.id){case 0:return"yellow-badge";case 1:return"indigo-badge";case 2:return"purple-badge";case 3:return"green-badge";default:return"red-badge"}}),i=R(()=>{switch(s.layer.id){case 0:return o("resources");case 1:return o("insight");case 2:return o("hard-stages");case 3:return o("crafting");default:return"Undefined"}}),l=R(()=>{switch(s.layer.id){case 2:return"mb-2 gap-5 grid grid-cols-1 lg:grid-cols-2";case 3:return"mb-2 gap-5 grid grid-cols-1";default:return"mb-2 gap-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4"}});return(h,r)=>($(),M("div",$a,[a.value?($(),M("div",{key:0,class:z(["badge badge-lg badge-ghost mt-2 mb-2 w-32",n.value])},S(i.value),3)):T("",!0),e("div",{class:z(l.value)},[($(!0),M(B,null,et(t.layer.cards,(y,v)=>($(),G(Da,{key:v,card:y,layerId:s.layer.id},null,8,["card","layerId"]))),128))],2)]))}}),wa={class:"flex flex-wrap"},Ma={class:"text-center text-info font-bold text-sm hover:text-blue-200 opacity-90",onclick:"process_explaination.showModal()"},Ia={id:"process_explaination",class:"modal"},ka={class:"modal-box custom-gradient-gray-blue border border-blue-800"},Aa=e("form",{method:"dialog"},[e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),Ca={class:"py-4 text-white"},Ra=e("br",null,null,-1),Na=e("br",null,null,-1),Qa={class:"text-yellow-500"},Oa={class:"text-blue-500"},ja=e("br",null,null,-1),Va=e("br",null,null,-1),Ea={class:"text-purple-500"},La={class:"text-green-500"},Pa=e("br",null,null,-1),qa=e("br",null,null,-1),Ua=e("br",null,null,-1),Wa=e("br",null,null,-1),Fa={class:"text-red-500"},Ta={class:"text-purple-500"},Ba={class:"text-red-500"},Ga=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"Close")],-1),za=H({__name:"PlannerResult",emits:["update:totalActivityAndDays"],setup(t,{emit:s}){const o=s,a=k([]);return Ot(()=>{if(!W().isEditingWarehouse){const n=Zt().selectedArcanists.map(h=>h.isVisible?Et(h):[]),i=Vt(n),l=Do(i);o("update:totalActivityAndDays",$o(l)),a.value=l}}),(n,i)=>{const l=jt("i18n-t");return $(),M("div",wa,[e("button",Ma,S(n.$t("planner-calculation-explanation")),1),e("dialog",Ia,[e("div",ka,[Aa,e("div",null,[e("p",Ca,[it(S(n.$t("when-you-add-arcanists-to-the-planner-with-their-current-goal-levels-and-resonance-you-will-see-several-sections-appear-below"))+" ",1),Ra,Na,Q(l,{keypath:"the-resources-and-insight-sections-are-straightforward-and-they-show-you-how-many-times-you-need-to-run-each-stage-in-order-to-get-the-materials-based-on-your-intended-arcanist-levels-since-we-cant-farm-resonance-materials-those-are-shown-with-the-cost-associated-in-the-oneiric-shop-found-in-the-bank"},{resources:Z(()=>[e("span",Qa,S(n.$t("resources")),1)]),insight:Z(()=>[e("span",Oa,S(n.$t("insight")),1)]),_:1}),ja,Va,Q(l,{keypath:"the-other-two-sections-are-hard-stages-and-crafting-these-results-have-been-optimized-to-reduce-the-stamina-required-for-farming-these-materials-by-running-the-listed-stages-the-number-of-times-it-suggests-it-is-expected-you-will-receive-all-the-materials-you-need-the-materials-obtained-from-the-hard-stage-farming-will-help-you-make-the-items-listed-in-the-crafting-section"},{hardstages:Z(()=>[e("span",Ea,S(n.$t("hard-stages")),1)]),crafting:Z(()=>[e("span",La,S(n.$t("crafting")),1)]),_:1}),Pa,qa,it(" "+S(n.$t("as-you-obtain-materials-from-farming-hard-stages-its-recommended-that-you-update-your-warehouse-values-so-that-the-planner-remains-up-to-date-and-your-results-are-accurate"))+" ",1),Ua,Wa,Q(l,{keypath:"please-note-that-we-do-not-know-exact-drop-rates-so-we-can-only-show-what-youre-expected-to-get-not-what-you-will-get-exactly-the-hard-stages-section-will-also-show-any-drop-that-you-may-get-rather-than-only-the-items-that-you-need-this-does-not-affect-the-results-of-the-farm-plan"},{expected:Z(()=>[e("span",Fa,S(n.$t("expected")),1)]),hardstages:Z(()=>[e("span",Ta,S(n.$t("hard-stages")),1)]),any:Z(()=>[e("span",Ba,S(n.$t("any")),1)]),_:1})])])]),Ga]),($(!0),M(B,null,et(a.value,(h,r)=>($(),G(xa,{key:r,layer:h},null,8,["layer"]))),128))])}}}),Ha="/Kornblume/images/items/common/0.png",Ka="/Kornblume/images/items/icon/51.png",Za="/Kornblume/images/items/icon/55.png",Ja="/Kornblume/images/items/icon/54.png",St=t=>(wt("data-v-893c559d"),t=t(),Mt(),t),Xa={class:"flex flex-wrap custom-gradient-gray-blue-light px-2 py-2 md:px-4 lg:px-6 rounded-md items-center justify-center"},Ya=St(()=>e("i",{class:"fa-solid fa-calculator text-white mr-3"},null,-1)),tn=["data-tip"],en={class:"text"},sn=St(()=>e("div",{class:"avatar"},[e("div",{class:"w-8 rounded"},[e("img",{src:Ha,alt:"avatar"})])],-1)),on={class:"text pr-3"},an=["data-tip"],nn={class:"text"},rn={key:1,class:"avatar"},ln=St(()=>e("div",{class:"w-8 rounded"},[e("img",{src:Ka,alt:"avatar"})],-1)),un=[ln],cn=["data-tip"],dn={class:"text"},hn=St(()=>e("div",{class:"avatar"},[e("div",{class:"w-8 rounded"},[e("img",{src:Za,alt:"avatar"})])],-1)),pn=["data-tip"],yn={class:"text"},vn=St(()=>e("div",{class:"avatar"},[e("div",{class:"w-8 rounded"},[e("img",{src:Ja,alt:"avatar"})])],-1)),fn={__name:"PlannerTotal",props:{totalActivityAndDays:{type:Array,required:!0},wildernessSettings:{type:Object,required:!0}},setup(t){const s=bt();return(o,a)=>{var n,i,l;return $(),M("div",Xa,[Ya,e("div",{class:"tooltip flex items-center","data-tip":o.$t("estimated-total-activities-and-days")},[e("div",en,S((n=t.totalActivityAndDays)==null?void 0:n[0]),1),sn,e("div",on,S((i=t.totalActivityAndDays)==null?void 0:i[1])+" "+S(((l=t.totalActivityAndDays)==null?void 0:l[1])>1?o.$t("days"):o.$t("day")),1)],8,tn),E(s).settings.cost>0?($(),M("div",{key:0,class:"tooltip","data-tip":o.$t("drops-cost")},[e("div",nn,S(E(mt)(E(s).settings.cost)*t.totalActivityAndDays[1]),1)],8,an)):T("",!0),E(s).settings.cost>0?($(),M("div",rn,un)):T("",!0),e("div",{class:"tooltip tooltip-left","data-tip":o.$t("wilderness-production")},[e("div",dn,S(E(mt)(t.wildernessSettings.wildernessOutput.dust*t.totalActivityAndDays[1])),1)],8,cn),hn,e("div",{class:"tooltip tooltip-left","data-tip":o.$t("wilderness-production")},[e("div",yn,S(E(mt)(t.wildernessSettings.wildernessOutput.gold*t.totalActivityAndDays[1])),1)],8,pn),vn])}}},mn=nt(fn,[["__scopeId","data-v-893c559d"]]),gn={class:"list-overlay"},bn={class:"custom-modal-small h-auto"},_n=e("i",{class:"fas fa-times"},null,-1),Sn=[_n],Dn={class:"text-white text-center text-lg font-bold"},$n={class:"text-info text-center pb-5"},xn={class:"font-bold"},wn={class:"grid grid-cols-1 space-y-3"},Mn={class:"form-control"},In={class:"cursor-pointer label justify-center"},kn={class:"label-text text-white mr-3"},An=["checked"],Cn=["data-tip"],Rn={class:"form-control"},Nn={class:"cursor-pointer label justify-center"},Qn={class:"label-text text-white mr-3"},On=["checked"],jn=["data-tip"],Vn={class:"form-control"},En={class:"cursor-pointer label justify-center"},Ln={class:"label-text text-white mr-3"},Pn=["checked"],qn={class:"flex items-center justify-center translate-x-4"},Un={class:"label-text text-white"},Wn={class:"flex justify-center pt-3"},Fn={__name:"PlannerActivity",props:{settings:{type:Object,required:!0}},emits:{closeOverlay:{type:Function,required:!0},saveActivitySettings:{type:Function,required:!0}},setup(t,{emit:s}){const o=t,a=s,n=[0,1,2,3,4,5,6,7,8],i=[0,60,90,120,120,150,150,200,200],l=k(o.settings.roaringMonth),h=k(o.settings.lazyModo),r=k(o.settings.weeklyActivity),y=k(o.settings.refills),v=_=>{y.value=_},u=()=>{const _={roaringMonth:l.value,lazyModo:h.value,weeklyActivity:r.value,refills:y.value,activity:p.value,cost:f.value};a("saveActivitySettings",_),g()},g=()=>{a("closeOverlay")},p=R(()=>{let _=h.value?190:240;return l.value&&(_+=60),_+=y.value*100,r.value&&(_+=Math.floor(240/7)),_}),f=R(()=>{let _=0;for(let D=0;D<=y.value;D++)_+=i[D];return _});return(_,D)=>($(),M("div",gn,[e("div",bn,[e("button",{onClick:g,class:"absolute top-2 right-4 text-white"},Sn),e("p",Dn,S(_.$t("activity-settings")),1),e("p",$n,[it(S(_.$t("current-per-day"))+" ",1),e("span",xn,S(p.value),1)]),e("div",wn,[e("div",Mn,[e("label",In,[e("span",kn,S(_.$t("roaring-month")),1),X(e("input",{"onUpdate:modelValue":D[0]||(D[0]=d=>l.value=d),type:"checkbox",checked:l.value,class:"checkbox checkbox-info"},null,8,An),[[dt,l.value]])])]),e("div",{class:"tooltip","data-tip":_.$t("240-activities-per-week")},[e("div",Rn,[e("label",Nn,[e("span",Qn,S(_.$t("weekly-activeness")),1),X(e("input",{"onUpdate:modelValue":D[1]||(D[1]=d=>r.value=d),type:"checkbox",checked:r.value,class:"checkbox checkbox-info"},null,8,On),[[dt,r.value]])])])],8,Cn),e("div",{class:"tooltip","data-tip":_.$t("login-once-per-day-for-base-190-activities")},[e("div",Vn,[e("label",En,[e("span",Ln,S(_.$t("lazy-modo")),1),X(e("input",{"onUpdate:modelValue":D[2]||(D[2]=d=>h.value=d),type:"checkbox",checked:h.value,class:"checkbox checkbox-info"},null,8,Pn),[[dt,h.value]])])])],8,jn),e("div",qn,[e("span",Un,S(_.$t("daily-refill")),1),Q(tt,{class:"w-1/3",options:n,selected:y.value,label:"refills","onUpdate:selected":v},null,8,["selected"])])]),e("div",Wn,[e("button",{onClick:u,class:"btn btn-success"},S(_.$t("save")),1)])])]))}},Tn=t=>(wt("data-v-3911d2c2"),t=t(),Mt(),t),Bn={class:"list-overlay"},Gn={class:"custom-modal-small h-auto"},zn=Tn(()=>e("i",{class:"fas fa-times"},null,-1)),Hn=[zn],Kn={class:"custom-label text-yellow-100"},Zn={class:"grid grid-cols-3"},Jn={class:"custom-label text-yellow-100"},Xn={class:"grid grid-cols-3"},Yn={class:"custom-label text-yellow-100"},tr={class:"grid grid-cols-2 p-2 items-center"},er=["placeholder"],sr=["data-tip"],or={class:"form-control"},ar={class:"cursor-pointer label justify-center"},nr={class:"label-text text-yellow-100 mr-3"},rr=["checked"],ir={class:"custom-label text-yellow-100"},lr={class:"grid grid-cols-2 p-2"},ur=["data-tip"],cr={class:"flex items-center justify-center gradient-blue text-center rounded-xl mx-5 lg:mx-2 h-8"},dr=["data-tip"],hr={class:"flex items-center justify-center gradient-blue text-center rounded-xl mx-5 lg:mx-2 h-8"},pr={class:"text-yellow-100 text-sm text-center p-2"},yr={class:"flex justify-center"},vr={__name:"PlannerWilderness",props:{settings:{type:Object,required:!0}},emits:{closeOverlay:{type:Function,required:!0},saveWildernessSettings:{type:Function,required:!0}},setup(t,{emit:s}){const o=t,a=s,n=k(o.settings.dust1),i=k(o.settings.dust2),l=k(o.settings.dust3),h=k(o.settings.gold1),r=k(o.settings.gold2),y=k(o.settings.gold3),v=k(o.settings.vigor),u=k(o.settings.lazyModo),g=[0,1,2,3,4,5,6],p=[0,120,150,175,210,240,270],f=[0,60,75,80,96,108,120],_=()=>{a("closeOverlay")},D=(c,w)=>{switch(w){case"Dust 1":n.value=c;break;case"Dust 2":i.value=c;break;case"Dust 3":l.value=c;break;case"Gold 1":h.value=c;break;case"Gold 2":r.value=c;break;case"Gold 3":y.value=c;break}},d=()=>{const c=parseInt(v.value,10);if(isNaN(c)){v.value=null;return}if(c<0){v.value=0;return}if(c>50){v.value=50;return}v.value=c},b=()=>{const c={dust1:n.value,dust2:i.value,dust3:l.value,gold1:h.value,gold2:r.value,gold3:y.value,vigor:v.value,lazyModo:u.value,wildernessOutput:m.value};a("saveWildernessSettings",c),_()},m=R(()=>{const c=p[n.value]+p[i.value]+p[l.value],w=f[h.value]+f[r.value]+f[y.value],x=v.value?parseFloat(v.value/100):0,I=u.value?20:24,O=Math.ceil(c*(1+x)*I),N=Math.ceil(w*(1+x)*I);return{dust:O,gold:N}});return(c,w)=>($(),M("div",Bn,[e("div",Gn,[e("button",{onClick:_,class:"absolute top-2 right-4 text-white"},Hn),e("div",Kn,S(c.$t("dust-bell-towers")),1),e("div",Zn,[Q(tt,{class:"select-list",options:g,selected:n.value,label:"Dust 1","onUpdate:selected":D},null,8,["selected"]),Q(tt,{class:"select-list",options:g,selected:i.value,label:"Dust 2","onUpdate:selected":D},null,8,["selected"]),Q(tt,{class:"select-list",options:g,selected:l.value,label:"Dust 3","onUpdate:selected":D},null,8,["selected"])]),e("div",Jn,S(c.$t("sharpodonty-markets")),1),e("div",Xn,[Q(tt,{class:"select-list",options:g,selected:h.value,label:"Gold 1","onUpdate:selected":D},null,8,["selected"]),Q(tt,{class:"select-list",options:g,selected:r.value,label:"Gold 2","onUpdate:selected":D},null,8,["selected"]),Q(tt,{class:"select-list",options:g,selected:y.value,label:"Gold 3","onUpdate:selected":D},null,8,["selected"])]),e("div",Yn,S(c.$t("vigor-percent")),1),e("div",tr,[X(e("input",{onInput:d,"onUpdate:modelValue":w[0]||(w[0]=x=>v.value=x),type:"text",placeholder:c.$t("vigor"),class:"input input-bordered input-info input-sm mx-10 lg:mx-5 gradient-blue text-center"},null,40,er),[[$t,v.value]]),e("div",{class:"tooltip","data-tip":c.$t("collect-once-a-day")},[e("div",or,[e("label",ar,[e("span",nr,S(c.$t("lazy-modo")),1),X(e("input",{"onUpdate:modelValue":w[1]||(w[1]=x=>u.value=x),type:"checkbox",checked:u.value,class:"checkbox checkbox-info"},null,8,rr),[[dt,u.value]])])])],8,sr)]),e("div",ir,S(c.$t("output")),1),e("div",lr,[e("div",{class:"tooltip","data-tip":c.$t("Dust")},[e("label",cr,S(m.value.dust),1)],8,ur),e("div",{class:"tooltip","data-tip":c.$t("Sharpodonty")},[e("label",hr,S(m.value.gold),1)],8,dr)]),e("p",pr,S(c.$t("wilderness-output-will-be-considered-for-calculations")),1),e("div",yr,[e("button",{onClick:b,class:"btn btn-success"},S(c.$t("save")),1)])])]))}},fr=nt(vr,[["__scopeId","data-v-3911d2c2"]]),zt={"Base Item":0,"Resonate Material":1,"Insight Material":2,"Build Material":2};function mr(t){const s=F().shops;t in s?s[t].forEach(a=>{const{Material:n,Quantity:i}=a;j().addItem(n,i)}):console.error(`Version ${t} not found in shops data.`)}function gr(t){const s=F().shops;t in s?s[t].forEach(a=>{const{Material:n,Quantity:i}=a;j().reduceItem(n,i)}):console.error(`Version ${t} not found in shops data.`)}const br=()=>{const t=yt().settings.enabledUnreleasedStages;console.log("Initialize warehouse"),F().items.forEach(s=>{(s.IsReleased||t)&&(s.Category==="Build Material"||s.Category==="Insight Material"||s.Category==="Resonate Material"&&s.Rarity<6||s.Name==="Dust"||s.Name==="Sharpodonty"||s.Name==="Crystal Casket")&&j().initItem(s.Name,s.Category)})},_r=()=>{const t=yt().settings.enabledUnreleasedStages;F().items.forEach(s=>{!j().hasItem(s.Name)&&(s.Name==="Crystal Casket"||!s.IsReleased&&t)?j().initItem(s.Name,s.Category):!s.IsReleased&&!t&&j().removeItem(s.Name)})},Sr=t=>{const s=F().items;t.sort((o,a)=>{const n=s.findIndex(r=>r.Name===o.Material),i=s.findIndex(r=>r.Name===a.Material),l=s[n],h=s[i];if(l&&h){const r=zt[l.Category],y=zt[h.Category];return r!==y?r-y:h.Rarity!==l.Rarity?h.Rarity-l.Rarity:n-i}else return i-n})},Dr={class:"pb-6"},$r={class:"relative inline-block"},xr=["src"],wr=["src"],Mr=H({__name:"WarehouseItem",props:{material:{type:Object,required:!0}},emits:["update:quantity"],setup(t,{emit:s}){const o=t,a=s,n=k(o.material.Quantity),i=()=>{const h=Number(n.value);isNaN(h)||a("update:quantity",Number(n.value))},l=R(()=>_t(o.material));return gt(()=>o.material,h=>{n.value=h.Quantity}),(h,r)=>($(),M("div",Dr,[e("div",$r,[e("img",{src:l.value.borderImagePath,alt:"Border Image",class:z(["w-20 h-20 absolute",{"w-36":l.value.material==="Sharpodonty"||l.value.material==="Dust"}])},null,10,xr),e("img",{src:l.value.itemImagePath,alt:"Material Image",class:z(["w-20 h-20",{"mx-5":l.value.material==="Sharpodonty"||l.value.material==="Dust"}])},null,10,wr),X(e("input",{"onUpdate:modelValue":r[0]||(r[0]=y=>n.value=y),onInput:i,type:"text",placeholder:"",class:z(["bg-slate-600 text-white absolute -bottom-3 left-3 w-14 input input-xs rounded-t-none text-center",{"left-[17px] w-[85px]":l.value.material==="Sharpodonty"||l.value.material==="Dust"}])},null,34),[[$t,n.value]])])]))}}),Ir=["data-tip"],kr={class:"modal-box custom-gradient-gray-blue custom-border"},Ar=e("form",{method:"dialog"},[e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),Cr={class:"py-4 text-lg text-white text-center"},Rr={class:"py-4 text-md text-white text-center"},Nr={class:"flex justify-center space-x-5"},Qr=e("form",{method:"dialog",class:"modal-backdrop"},[e("button")],-1),pt=H({__name:"EventShopButton",props:{version:{},text:{},type:{}},emits:["closeOverlay"],setup(t,{emit:s}){const o=t,a=s,n=k(),i=()=>{mr(o.version),a("closeOverlay"),r()},l=()=>{gr(o.version),a("closeOverlay"),r()},h=()=>{var y;return(y=n.value)==null?void 0:y.showModal()},r=()=>{var y;return(y=n.value)==null?void 0:y.close()};return(y,v)=>($(),M(B,null,[e("div",{class:"tooltip","data-tip":y.type},[e("button",{class:"btn btn-info btn-sm",onClick:h},S(y.text),1)],8,Ir),e("dialog",{ref_key:"dialog",ref:n,class:"modal"},[e("div",kr,[Ar,e("p",Cr,S(y.$t("add-materials-from-text",[y.text])),1),e("p",Rr,S(y.$t("you-should-add-once-only")),1),e("div",Nr,[e("button",{class:"btn btn-success btn-md mr-2",onClick:i},S(y.$t("add")),1),e("button",{class:"btn btn-error btn-md",onClick:l},S(y.$t("remove")),1)])]),Qr],512)],64))}}),Or={class:"list-overlay"},jr={class:"custom-modal-big h-5/6 xl:h-3/4 flex flex-col items-center"},Vr=e("i",{class:"fas fa-times"},null,-1),Er=[Vr],Lr={class:"text-white text-center font-bold text-lg"},Pr={class:"grid grid-cols-2 xl:grid-cols-4 justify-center items-center pb-5 text-center"},qr={class:"form-control items-center"},Ur={class:"label cursor-pointer space-x-2"},Wr={class:"label-text text-error text-xs font-bold"},Fr={class:"form-control items-center"},Tr={class:"label cursor-pointer space-x-2"},Br={class:"label-text text-info text-xs font-bold"},Gr={class:"form-control items-center"},zr={class:"label cursor-pointer space-x-2"},Hr={class:"label-text text-success text-xs font-bold"},Kr={class:"form-control items-center"},Zr={class:"label cursor-pointer space-x-2"},Jr={class:"label-text text-warning text-xs font-bold"},Xr={class:"custom-item-list mb-5"},Yr={class:"flex space-x-10"},ti={class:"flex space-x-3"},ei={class:"btn btn-sm btn-success",onclick:"shop_container.showModal()"},si={id:"shop_container",class:"modal"},oi={class:"modal-box custom-gradient-gray-blue custom-border"},ai=e("form",{method:"dialog"},[e("button",{class:"btn btn-sm btn-circle btn-ghost text-white absolute right-2 top-2"},"✕")],-1),ni={class:"py-4 text-base text-white text-center"},ri={class:"grid grid-cols-2 gap-2 p-2"},ii={method:"dialog",class:"flex justify-center"},li={class:"btn btn-sm btn-success text-black"},ui=e("form",{method:"dialog",class:"modal-backdrop"},[e("button")],-1),ci={class:"modal-box custom-gradient-gray-blue custom-border"},di={class:"py-4 text-lg text-white text-center"},hi={class:"text-error"},pi={class:"py-4 text-md text-white text-center"},yi={class:"flex justify-center"},vi=e("form",{method:"dialog",class:"modal-backdrop"},[e("button")],-1),fi=H({__name:"PlannerWarehouse",emits:["closeOverlay"],setup(t,{emit:s}){const o=s,a=k(),n=k({"Base Item":!0,"Build Material":!0,"Insight Material":!0,"Resonate Material":!0}),i=()=>{j().data.length===0?br():_r(),Sr(j().data)},l=(p,f)=>{j().updateItem(p,Number(f))},h=p=>{n.value[p]=!n.value[p]},r=()=>{Object.values(n.value).every(p=>p)?j().resetAll():Object.keys(n.value).forEach(p=>{n.value[p]&&j().resetCategory(p)}),u()},y=()=>{W().setIsEditingWarehouse(!1),o("closeOverlay")},v=()=>{var p;return(p=a.value)==null?void 0:p.showModal()},u=()=>{var p;return(p=a.value)==null?void 0:p.close()},g=R(()=>Object.values(n.value).some(f=>f)?j().data.filter(f=>n.value[f.Category]):j().data);return Ht(()=>{W().setIsEditingWarehouse(!0),i()}),(p,f)=>{const _=jt("i18n-t");return $(),M("div",Or,[e("div",jr,[e("button",{onClick:y,class:"absolute top-2 right-4 text-white"},Er),e("p",Lr,S(p.$t("warehouse-auto-save")),1),e("div",null,[e("div",Pr,[e("div",qr,[e("label",Ur,[e("span",Wr,S(p.$t("base-item")),1),e("input",{type:"checkbox",checked:"",onChange:f[0]||(f[0]=D=>h("Base Item")),class:"checkbox checkbox-error"},null,32)])]),e("div",Fr,[e("label",Tr,[e("span",Br,S(p.$t("build-material")),1),e("input",{type:"checkbox",checked:"",onChange:f[1]||(f[1]=D=>h("Build Material")),class:"checkbox checkbox-info"},null,32)])]),e("div",Gr,[e("label",zr,[e("span",Hr,S(p.$t("insight-material")),1),e("input",{type:"checkbox",checked:"",onChange:f[2]||(f[2]=D=>h("Insight Material")),class:"checkbox checkbox-success"},null,32)])]),e("div",Kr,[e("label",Zr,[e("span",Jr,S(p.$t("resonate-material")),1),e("input",{type:"checkbox",checked:"",onChange:f[3]||(f[3]=D=>h("Resonate Material")),class:"checkbox checkbox-warning"},null,32)])])])]),e("div",Xr,[($(!0),M(B,null,et(g.value,D=>($(),G(Mr,{key:D.Material,material:D,"onUpdate:quantity":d=>l(D.Material,d),class:""},null,8,["material","onUpdate:quantity"]))),128))]),e("div",Yr,[e("div",ti,[e("button",ei,S(p.$t("event-materials")),1),e("dialog",si,[e("div",oi,[ai,e("p",ni,S(p.$t("you-can-quickly-add-materials-from-jukeboxes-and-events-here")),1),e("div",ri,[Q(pt,{version:"jb1",text:p.$t("jukebox-normal"),type:p.$t("jukebox")},null,8,["text","type"]),Q(pt,{version:"jb2",text:p.$t("jukebox-collector"),type:p.$t("jukebox")},null,8,["text","type"]),Q(pt,{version:"1.21",text:p.$t("event-shop-button",{version:"1.2",number:"1"}),type:p.$t("event-shop")},null,8,["text","type"]),Q(pt,{version:"1.22",text:p.$t("event-shop-button",{version:"1.2",number:"2"}),type:p.$t("event-shop")},null,8,["text","type"]),Q(pt,{version:"1.31",text:p.$t("event-shop-button",{version:"1.3",number:"1"}),type:p.$t("event-shop")},null,8,["text","type"]),Q(pt,{version:"1.32",text:p.$t("event-shop-button",{version:"1.3",number:"2"}),type:p.$t("event-shop")},null,8,["text","type"])]),e("form",ii,[e("button",li,S(p.$t("close")),1)])]),ui])]),e("button",{class:"btn btn-error btn-sm",onClick:v},S(p.$t("reset")),1),e("dialog",{ref_key:"dialog",ref:a,class:"modal"},[e("div",ci,[e("p",di,[Q(_,{keypath:"reset-quantity-of-selected-categories"},{highlight:Z(()=>[e("span",hi,S(p.$t("selected")),1)]),_:1})]),e("p",pi,S(p.$t("click-the-buttons-at-the-top-to-select")),1),e("div",yi,[e("button",{class:"btn btn-success btn-md mr-2",onClick:r},S(p.$t("yes")),1),e("button",{class:"btn btn-error btn-md",onClick:u},S(p.$t("no")),1)])]),vi],512)])])])}}}),mi={class:"list-overlay"},gi={class:"custom-modal-small h-auto space-y-5"},bi=e("i",{class:"fas fa-times"},null,-1),_i=[bi],Si={class:"form-control"},Di=["data-tip"],$i={class:"cursor-pointer label justify-center space-x-5 text-center"},xi={class:"label-text text-white text-md"},wi={class:"form-control"},Mi={class:"cursor-pointer label justify-center space-x-5 text-center"},Ii={class:"label-text text-white text-md"},ki={class:"flex justify-center"},Ai=H({__name:"PlannerSettings",props:{settings:{type:Object,required:!0}},emits:["closeOverlay","saveSettings"],setup(t,{emit:s}){const o=t,a=s,n=k(o.settings.enabledUnreleasedStages),i=k(o.settings.enableGreedyMethod),l=()=>{a("closeOverlay")},h=()=>{const r={showUnreleasedArcanists:o.settings.showUnreleasedArcanists,enabledUnreleasedStages:n.value,enableGreedyMethod:i.value};a("saveSettings",r),l()};return(r,y)=>($(),M("div",mi,[e("div",gi,[e("button",{onClick:l,class:"absolute top-2 right-4 text-white"},_i),e("div",Si,[e("div",{class:"tooltip","data-tip":r.$t("prioritize-purple-materials-when-farming")},[e("label",$i,[e("span",xi,S(r.$t("enable-greedy-method")),1),X(e("input",{"onUpdate:modelValue":y[0]||(y[0]=v=>i.value=v),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[dt,i.value]])])],8,Di)]),e("div",wi,[e("label",Mi,[e("span",Ii,S(r.$t("use-1-4-stage-data-experimental")),1),X(e("input",{"onUpdate:modelValue":y[1]||(y[1]=v=>n.value=v),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[dt,n.value]])])]),e("div",ki,[e("button",{onClick:h,class:"btn btn-success"},S(r.$t("save")),1)])])]))}}),ht=t=>(wt("data-v-4bebb64a"),t=t(),Mt(),t),Ci={class:"responsive-spacer"},Ri={class:"flex pb-4"},Ni={class:"text-2xl text-white font-bold"},Qi={class:"flex justify-between items-center mb-2 mt-2"},Oi=ht(()=>e("i",{class:"fa-solid fa-wand-magic-sparkles"},null,-1)),ji={class:"flex space-x-2"},Vi=["data-tip"],Ei=ht(()=>e("i",{class:"fa-solid fa-bolt"},null,-1)),Li=[Ei],Pi=["data-tip"],qi=ht(()=>e("i",{class:"fa-solid fa-tree"},null,-1)),Ui=[qi],Wi=["data-tip"],Fi=ht(()=>e("i",{class:"fa-solid fa-box-archive"},null,-1)),Ti=[Fi],Bi=["data-tip"],Gi=ht(()=>e("i",{class:"fa-solid fa-gear"},null,-1)),zi=[Gi],Hi=ht(()=>e("div",{class:"custom-line"},null,-1)),Ki=ht(()=>e("div",{class:"custom-line"},null,-1)),Zi={key:0,class:"overlay"},Ji={key:1,class:"overlay"},Xi={key:2,class:"overlay"},Yi={key:3,class:"overlay"},tl={key:4,class:"overlay"},el={key:5,class:"overlay"},sl=H({__name:"PlannerView",setup(t){const s=Zt(),o=bt(),a=Jt(),n=F().arcanists,i=yt(),l=k([]),h=R(()=>s.selectedArcanists.map(V=>V.Id)),r=k(null),y=k([]),v=k(!1),u=k(!1),g=k(!1),p=k(!1),f=k(!1),_=k(!1),D=k(null),d=k(null),b=k(null),m=k(null),c=k(null),w=k(null),x=()=>{v.value=!0},I=()=>{v.value=!1},O=()=>{u.value=!0},N=V=>{r.value=V,O()},P=()=>{u.value=!1},q=()=>{g.value=!0},U=()=>{g.value=!1},Y=()=>{p.value=!0},st=()=>{p.value=!1},lt=()=>{f.value=!0},A=()=>{f.value=!1,W().setIsEditingWarehouse(!1)},C=()=>{_.value=!0},L=()=>{_.value=!1},ot=V=>{r.value={Id:V.Id,isVisible:!0,currentInsight:0,currentLevel:1,currentResonance:0,goalInsight:0,goalLevel:1,goalResonance:0},O()},at=V=>{s.selectedArcanists=V,P()},rt=V=>{l.value=V},ft=V=>{y.value=V},ut=V=>{o.settings=V},It=V=>{a.settings=V},kt=V=>{i.settings=V};return Ot(()=>{l.value=n.filter(V=>!h.value.includes(V.Id)&&(i.settings.showUnreleasedArcanists?!0:V.IsReleased)),l.value.sort((V,At)=>{const Pt=At.Rarity-V.Rarity;return Pt!==0?Pt:V.Name.localeCompare(At.Name)})}),ct(D,U),ct(d,I),ct(b,P),ct(m,st),ct(c,A),ct(w,L),(V,At)=>($(),M("div",Ci,[e("div",Ri,[e("h2",Ni,S(V.$t("planner")),1)]),Q(oo,{selectedArcanists:E(s).selectedArcanists,onOpenEditOverlay:N},null,8,["selectedArcanists"]),e("div",Qi,[e("button",{onClick:x,class:"btn btn-ghost btn-sm custom-gradient-button"},[Oi,it(" "+S(V.$t("add-arcanist")),1)]),e("div",ji,[e("div",{class:"tooltip","data-tip":V.$t("activity-settings")},[e("button",{onClick:q,class:"btn btn-ghost btn-sm custom-gradient-button"},Li)],8,Vi),e("div",{class:"tooltip","data-tip":V.$t("wilderness-settings")},[e("button",{onClick:Y,class:"btn btn-ghost btn-sm custom-gradient-button"},Ui)],8,Pi),e("div",{class:"tooltip","data-tip":V.$t("manage-warehouse")},[e("button",{onClick:lt,class:"btn btn-ghost btn-sm custom-gradient-button"},Ti)],8,Wi),e("div",{class:"tooltip","data-tip":V.$t("settings")},[e("button",{onClick:C,class:"btn btn-ghost btn-sm custom-gradient-button"},zi)],8,Bi)])]),Hi,Q(mn,{totalActivityAndDays:y.value,wildernessSettings:E(a).settings},null,8,["totalActivityAndDays","wildernessSettings"]),Ki,v.value?($(),M("div",Zi,[Q(Ie,{ref_key:"arcanistListRef",ref:d,arcanists:l.value,onCloseOverlay:I,onSelectArcanist:ot},null,8,["arcanists"])])):T("",!0),u.value?($(),M("div",Ji,[r.value?($(),G(Rs,{key:0,ref_key:"plannerEditRef",ref:b,selectedArcanist:r.value,selectedArcanists:E(s).selectedArcanists,listArcanists:l.value,onCloseOverlay:P,onUpdateSelectedArcanists:at,onUpdateListArcanists:rt},null,8,["selectedArcanist","selectedArcanists","listArcanists"])):T("",!0)])):T("",!0),g.value?($(),M("div",Xi,[Q(Fn,{ref_key:"activityRef",ref:D,settings:E(o).settings,onCloseOverlay:U,onSaveActivitySettings:ut},null,8,["settings"])])):T("",!0),p.value?($(),M("div",Yi,[Q(fr,{ref_key:"wildernessRef",ref:m,settings:E(a).settings,onCloseOverlay:st,onSaveWildernessSettings:It},null,8,["settings"])])):T("",!0),f.value?($(),M("div",tl,[Q(fi,{ref_key:"warehouseRef",ref:c,onCloseOverlay:A},null,512)])):T("",!0),_.value?($(),M("div",el,[Q(Ai,{ref_key:"settingsRef",ref:w,settings:E(i).settings,onCloseOverlay:L,onSaveSettings:kt},null,8,["settings"])])):T("",!0),Q(za,{"onUpdate:totalActivityAndDays":ft})]))}}),rl=nt(sl,[["__scopeId","data-v-4bebb64a"]]);export{rl as default};
