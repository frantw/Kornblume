import{u}from"./pullsRecordStore-5jHEJncI.js";import{d as b,e as p,c as m,a as t,o as h}from"./index-XWJ06ahS.js";const d=["plannerSettings","planner","wilderness","warehouse","pulls"];function g(){const o=new Date,e=o.getDate().toString().padStart(2,"0"),a=(o.getMonth()+1).toString().padStart(2,"0"),r=o.getFullYear(),s=`${e}${a}${r}`,n=o.getHours().toString().padStart(2,"0"),l=o.getMinutes().toString().padStart(2,"0"),c=`${n}${l}`;return{date:s,time:c}}function f(o){const e=new Blob([o],{type:"application/json"}),{date:a,time:r}=g(),s=`kornblume_data_${a}_${r}.json`,n=document.createElement("a");n.download=s,n.href=URL.createObjectURL(e),document.body.appendChild(n),n.click(),setTimeout(()=>document.body.removeChild(n))}function x(){const o={};d.forEach(e=>{o[e]=localStorage.getItem(e)});try{const e=JSON.stringify(o,null,2);f(e)}catch(e){console.error("Error exporting data:",e)}}function _(o){const e=new FileReader;e.onload=async a=>{var r;try{const s=JSON.parse((r=a.target)==null?void 0:r.result);d.forEach(n=>{localStorage.setItem(n,s==null?void 0:s[n])}),console.log("Import successful!"),setTimeout(()=>window.location.reload())}catch(s){console.error("Error importing data:",s)}},e.readAsText(o)}function y(){d.forEach(o=>localStorage.removeItem(o)),setTimeout(()=>window.location.reload())}const k={class:"responsive-spacer"},w={class:"pb-6"},S=t("h2",{class:"text-2xl text-white font-bold mb-2 lg:mb-4"},"Profile",-1),D=t("p",{class:"text-white"}," You can export or import your data here.",-1),v={class:"flex justify-center items-center p-2 space-x-5"},T=t("h2",{class:"text-2xl text-white font-bold mb-2 lg:mb-4"},"Danger Zone",-1),j=t("p",{class:"text-white"},"If you encounter any unexpected issues with the site, you can reset your data. Sorry for the inconvenience.",-1),I=t("div",{class:"flex justify-center items-center p-2 space-x-5"},[t("button",{onclick:"resetTracker.showModal()",class:"btn btn-error text-black font-bold py-2 px-4 rounded ml-2"}," Reset Tracker "),t("button",{onclick:"resetAll.showModal()",class:"btn btn-error text-black font-bold py-2 px-4 rounded ml-2"}," Reset Data ")],-1),C=t("form",{method:"dialog"},[t("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),E=t("p",{class:"pb-4 text-white text-center"},"Once you delete your Summon Tracker data, there is no going back.",-1),R=t("p",{class:"pb-4 text-white text-center"},"Please be certain.",-1),$=t("form",{method:"dialog",class:"modal-backdrop"},[t("button",null,"close")],-1),O=t("form",{method:"dialog"},[t("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),P=t("p",{class:"pb-4 text-white text-center"},"Once you delete your data, there is no going back.",-1),A=t("p",{class:"pb-4 text-white text-center"},"Please be certain.",-1),B=t("form",{method:"dialog",class:"modal-backdrop"},[t("button",null,"close")],-1),N=b({__name:"ProfileView",setup(o){const e=p(null),a=()=>{x()},r=()=>{var c;(c=e.value)==null||c.click()},s=c=>{const i=c.target.files[0];i&&_(i)},n=()=>{y()},l=()=>{u().reset(),window.location.reload()};return(c,i)=>(h(),m("div",k,[t("div",w,[S,D,t("div",v,[t("button",{onClick:a,class:"btn btn-info text-black font-bold py-2 px-4 rounded"}," Export Data "),t("input",{type:"file",ref_key:"fileInput",ref:e,onChange:s,accept:".json",class:"ml-4",style:{display:"none"}},null,544),t("button",{onClick:r,class:"btn btn-success text-black font-bold py-2 px-4 rounded ml-2"}," Import Data ")])]),t("div",{class:"pb-6"},[T,j,I,t("dialog",{id:"resetTracker",class:"modal"},[t("div",{class:"modal-box custom-gradient-gray-blue flex flex-col justify-center items-center"},[C,E,R,t("button",{onClick:l,class:"btn btn-error text-black font-bold py-2 px-4 rounded ml-2"}," Reset Tracker ")]),$]),t("dialog",{id:"resetAll",class:"modal"},[t("div",{class:"modal-box custom-gradient-gray-blue flex flex-col justify-center items-center"},[O,P,A,t("button",{onClick:n,class:"btn btn-error text-black font-bold py-2 px-4 rounded ml-2"}," Reset All ")]),B])])]))}});export{N as default};
