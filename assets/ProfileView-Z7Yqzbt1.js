import{d as u,o as m,c as h,a as e}from"./index-wUUSrlUB.js";function b(){const l={plannerSettings:localStorage.getItem("plannerSettings"),planner:localStorage.getItem("planner"),wilderness:localStorage.getItem("wilderness"),warehouse:localStorage.getItem("warehouse")},o=JSON.stringify(l,null,2),s=new Blob([o],{type:"application/json"}),t=new Date,c=t.getDate().toString().padStart(2,"0"),i=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear(),n=`${c}${i}${r}`,d=t.getHours().toString().padStart(2,"0"),p=t.getMinutes().toString().padStart(2,"0"),g=`${d}${p}`,a=document.createElement("a");a.href=URL.createObjectURL(s),a.download=`kornblume_data_${n}_${g}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function f(l){const o=new FileReader;o.onload=async s=>{try{const t=JSON.parse(s.target.result);localStorage.setItem("plannerSettings",t.plannerSettings),localStorage.setItem("planner",t.planner),localStorage.setItem("wilderness",t.wilderness),localStorage.setItem("warehouse",t.warehouse),console.log("Import successful!"),window.location.reload()}catch(t){console.error("Error importing data:",t)}},o.readAsText(l)}const _={class:"responsive-spacer"},y=e("h2",{class:"text-2xl text-white font-bold mb-4 lg:mb-6"},"Profile",-1),S=e("p",{class:"text-white"}," You can export or import your data here.",-1),x={class:"flex justify-center items-center p-2"},w=e("h2",{class:"text-2xl text-white font-bold my-4 lg:my-6"},"Danger Zone",-1),I=e("p",{class:"text-white"},"If you encounter any unexpected issues with the site, you can reset your data. Sorry for the inconvenience.",-1),k=e("div",{class:"flex justify-center items-center p-2"},[e("button",{onclick:"my_modal_2.showModal()",class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"}," Reset Data ")],-1),v=e("p",{class:"pb-4 text-white text-center"},"Once you delete your data, there is no going back.",-1),D=e("p",{class:"pb-4 text-white text-center"},"Please be certain.",-1),j=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"close")],-1),C={__name:"ProfileView",setup(l){const o=u(null),s=()=>{b()},t=()=>{o.value.click()},c=r=>{const n=r.target.files[0];n&&f(n)},i=()=>{["plannerSettings","planner","wilderness","warehouse"].forEach(n=>localStorage.removeItem(n)),window.location.reload()};return(r,n)=>(m(),h("div",_,[y,S,e("div",x,[e("button",{onClick:s,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Export Data "),e("input",{type:"file",ref_key:"fileInput",ref:o,onChange:c,accept:".json",class:"ml-4",style:{display:"none"}},null,544),e("button",{onClick:t,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-2"}," Import Data ")]),w,I,k,e("dialog",{id:"my_modal_2",class:"modal"},[e("div",{class:"modal-box custom-gradient-gray-blue flex flex-col justify-center items-center"},[v,D,e("button",{onClick:i,class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"}," Reset ")]),j])]))}};export{C as default};
