import{o as Mt}from"./index-eFdAsMsf.js";import{s as Pt,x as ks,e as k,i as R,o as w,c as M,a as n,l as tt,y as ae,z as kt,m as j,F as Z,r as ht,g as B,t as Q,u as X,d as nt,A as J,k as qt,b as q,h as K,B as gt,n as et,_ as It,C as Is,D as ne,j as Bt,p as Ut,q as Ft,E as As,G as Cs,H as Xe,I as Pe,J as Os,w as pe,v as ee,T as Rs,K as Ns,L as ve,M as Es,N as Ps,O as js}from"./index-A_q9wZj9.js";import{_ as Je,c as Qs,a as Ls}from"./ArcanistIcon.vue_vue_type_script_setup_true_name_ArcanistIcon_lang-fnlN5dVc.js";const Y=Pt("global",{state:()=>({isEditingWarehouse:!1,isEditingMaterial:"",neededRawMaterialsMapping:{},neededMaterialsMapping:{}}),actions:{setIsEditingWarehouse(t){this.isEditingWarehouse=t},setIsEditingMaterial(t){this.isEditingMaterial=t||""},getNeededRawMaterialsQuantity(t){return this.neededRawMaterialsMapping[t]||0},updateNeededRawMaterialsMapping(t){this.neededRawMaterialsMapping={...t}},getNeededMaterialsQuantity(t){return this.neededMaterialsMapping[t]||0},updateNeededMaterialsMapping(t){this.neededMaterialsMapping={...t}}}}),Ze=Pt("planner",{state:()=>({selectedArcanists:[]}),persist:!0}),zt=Pt("activity",{state:()=>({settings:{roaringMonth:!1,lazyModo:!1,weeklyActivity:!1,refills:0,activity:240,cost:0}}),persist:!0}),ts=Pt("wilderness",{state:()=>({settings:{dust1:6,dust2:6,dust3:6,gold1:6,gold2:6,gold3:6,vigor:0,lazyModo:!1,wildernessOutput:{dust:19440,gold:8640}}}),persist:!0}),Ot=Pt("plannerSettings",{state:()=>({settings:{showUnreleasedArcanists:!1,enabledUnreleasedStages:!1,enableGreedyMethod:!0}}),persist:!0}),Bs={class:"list-overlay"},Ts={class:"custom-modal-small h-5/6 lg:h-3/4"},Vs={class:"relative"},Ws=n("i",{class:"fas fa-times"},null,-1),qs=[Ws],Us={class:"form-control"},Fs={class:"cursor-pointer label justify-center space-x-5"},zs=n("span",{class:"label-text text-white text-md"},"Show Unreleased Arcanists",-1),Gs={class:"p-2 overflow-y-auto h-5/6"},Hs=["onClick"],Ys={class:"text-white ml-8"},Ks={__name:"ArcanistList",props:{arcanists:{type:Array,required:!0}},emits:{closeOverlay:{type:Function,required:!0},selectArcanist:{type:Function,required:!0}},setup(t,{emit:e}){const{locale:s,t:o}=ks(),a=t,r=e,c=p=>{r("selectArcanist",p),l()},l=()=>{r("closeOverlay")},i=k(""),f=R(()=>s.value==="en-US"?a.arcanists.filter(p=>p.Name.toLowerCase().includes(i.value.toLowerCase())):a.arcanists.filter(p=>o(p.Name).includes(i.value)));return(p,d)=>(w(),M("div",Bs,[n("div",Ts,[n("div",Vs,[tt(n("input",{"onUpdate:modelValue":d[0]||(d[0]=S=>i.value=S),type:"text",placeholder:"Search Arcanists",class:"bg-gray-800 text-white p-2 rounded-md w-11/12 focus:outline-none"},null,512),[[ae,i.value]]),n("button",{onClick:l,class:"absolute top-2 right-0 text-white"},qs),n("div",Us,[n("label",Fs,[zs,tt(n("input",{"onUpdate:modelValue":d[1]||(d[1]=S=>j(Ot)().settings.showUnreleasedArcanists=S),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[kt,j(Ot)().settings.showUnreleasedArcanists]])])])]),n("div",Gs,[(w(!0),M(Z,null,ht(f.value,S=>(w(),M("div",{key:S.Id,onClick:y=>c(S),class:"p-4 flex items-center cursor-pointer hover:bg-gray-700 transition-colors"},[B(Je,{arcanist:S},null,8,["arcanist"]),n("span",Ys,Q(p.$t(S.Name)),1)],8,Hs))),128))])])]))}};function Xs(t){return`images/items/common/${t==="Oneiric Shop"?1:0}.png`}const es=X().items,Js=t=>{const e=es.find(s=>s.Name===t);return e?e.Id:null},Zs=t=>{const e=es.find(s=>s.Name===t);return e?e.Rarity:null},to=t=>{const e=Js(t);return e?`images/items/icon/${e}.png`:""},eo=t=>{const e=Zs(t);return e?`images/items/border/${e}.png`:""};function Qt(t){return t>=1e6?`${(t/1e6).toFixed(1)}m`:t>=1e4?`${(t/1e3).toFixed(0)}k`:(console.log("quantity",t),t.toString())}function Gt(t){return{material:t.Material,quantity:Qt(t.Quantity),itemImagePath:to(t.Material),borderImagePath:eo(t.Material)}}const so=["data-tip"],oo={class:"relative inline-block"},ao=["src"],no=["src"],ro={class:"absolute text-white bottom-4 right-3 bg-gray-700 rounded-tl px-1 py-px text-xs"},io=nt({__name:"ItemIcon",props:{material:{type:Object,required:!0}},setup(t){const e=t,s=R(()=>Gt(e.material));return(o,a)=>(w(),M("div",{class:"tooltip","data-tip":o.$t(s.value.material)},[n("div",oo,[n("img",{src:s.value.borderImagePath,alt:"Border Image",class:"w-20 h-20 absolute"},null,8,ao),n("img",{src:s.value.itemImagePath,alt:"Material Image",class:"w-20 h-20"},null,8,no),n("div",ro,Q(s.value.quantity),1)])],8,so))}}),lo={class:"hidden-scrollbar pt-9 flex flex-wrap justify-center overflow-y-scroll overflow-x-hidden"},co={__name:"ItemList",props:{materialList:{type:Array,required:!0}},setup(t){const e=t;return(s,o)=>(w(),M("div",lo,[(w(!0),M(Z,null,ht(e.materialList,a=>(w(),J(io,{key:a,material:a},null,8,["material"]))),128))]))}},ss=[{Rarity:[5,6],Insight:0,Levels:{2:{Dust:100,Sharpodonty:100},3:{Dust:150,Sharpodonty:130},4:{Dust:200,Sharpodonty:160},5:{Dust:250,Sharpodonty:190},6:{Dust:350,Sharpodonty:220},7:{Dust:400,Sharpodonty:250},8:{Dust:450,Sharpodonty:280},9:{Dust:500,Sharpodonty:310},10:{Dust:550,Sharpodonty:340},11:{Dust:600,Sharpodonty:370},12:{Dust:650,Sharpodonty:400},13:{Dust:700,Sharpodonty:430},14:{Dust:750,Sharpodonty:460},15:{Dust:800,Sharpodonty:490},16:{Dust:850,Sharpodonty:520},17:{Dust:900,Sharpodonty:550},18:{Dust:950,Sharpodonty:580},19:{Dust:1e3,Sharpodonty:610},20:{Dust:1050,Sharpodonty:640},21:{Dust:1200,Sharpodonty:670},22:{Dust:1300,Sharpodonty:700},23:{Dust:1400,Sharpodonty:730},24:{Dust:1500,Sharpodonty:760},25:{Dust:1600,Sharpodonty:790},26:{Dust:1700,Sharpodonty:820},27:{Dust:1800,Sharpodonty:850},28:{Dust:1900,Sharpodonty:880},29:{Dust:2e3,Sharpodonty:910},30:{Dust:2100,Sharpodonty:940}},Total:{Dust:27700,Sharpodonty:15080}},{Rarity:[5,6],Insight:1,Levels:{2:{Dust:400,Sharpodonty:200},3:{Dust:500,Sharpodonty:250},4:{Dust:600,Sharpodonty:300},5:{Dust:700,Sharpodonty:350},6:{Dust:900,Sharpodonty:400},7:{Dust:1e3,Sharpodonty:450},8:{Dust:1100,Sharpodonty:500},9:{Dust:1200,Sharpodonty:550},10:{Dust:1300,Sharpodonty:600},11:{Dust:1500,Sharpodonty:650},12:{Dust:1600,Sharpodonty:700},13:{Dust:1700,Sharpodonty:750},14:{Dust:1800,Sharpodonty:800},15:{Dust:1900,Sharpodonty:850},16:{Dust:2100,Sharpodonty:900},17:{Dust:2200,Sharpodonty:950},18:{Dust:2300,Sharpodonty:1e3},19:{Dust:2400,Sharpodonty:1050},20:{Dust:2500,Sharpodonty:1100},21:{Dust:2600,Sharpodonty:1150},22:{Dust:2700,Sharpodonty:1200},23:{Dust:2800,Sharpodonty:1250},24:{Dust:2900,Sharpodonty:1300},25:{Dust:3e3,Sharpodonty:1350},26:{Dust:3100,Sharpodonty:1400},27:{Dust:3200,Sharpodonty:1450},28:{Dust:3300,Sharpodonty:1500},29:{Dust:3400,Sharpodonty:1550},30:{Dust:3500,Sharpodonty:1600},31:{Dust:3700,Sharpodonty:1800},32:{Dust:3800,Sharpodonty:2e3},33:{Dust:3900,Sharpodonty:2200},34:{Dust:4e3,Sharpodonty:2400},35:{Dust:4100,Sharpodonty:2600},36:{Dust:4300,Sharpodonty:2800},37:{Dust:4400,Sharpodonty:3e3},38:{Dust:4500,Sharpodonty:3200},39:{Dust:4600,Sharpodonty:3400},40:{Dust:4700,Sharpodonty:3600}},Total:{Dust:100200,Sharpodonty:53100}},{Rarity:[5,6],Insight:2,Levels:{2:{Dust:1100,Sharpodonty:400},3:{Dust:1400,Sharpodonty:500},4:{Dust:1700,Sharpodonty:600},5:{Dust:2e3,Sharpodonty:700},6:{Dust:2300,Sharpodonty:800},7:{Dust:2600,Sharpodonty:900},8:{Dust:2900,Sharpodonty:1e3},9:{Dust:3200,Sharpodonty:1100},10:{Dust:3500,Sharpodonty:1200},11:{Dust:3800,Sharpodonty:1300},12:{Dust:4100,Sharpodonty:1400},13:{Dust:4400,Sharpodonty:1500},14:{Dust:4700,Sharpodonty:1600},15:{Dust:5e3,Sharpodonty:1700},16:{Dust:5300,Sharpodonty:1800},17:{Dust:5600,Sharpodonty:1900},18:{Dust:5900,Sharpodonty:2e3},19:{Dust:6200,Sharpodonty:2100},20:{Dust:6500,Sharpodonty:2200},21:{Dust:6800,Sharpodonty:2300},22:{Dust:7100,Sharpodonty:2400},23:{Dust:7400,Sharpodonty:2500},24:{Dust:7700,Sharpodonty:2600},25:{Dust:8e3,Sharpodonty:2700},26:{Dust:8300,Sharpodonty:2800},27:{Dust:8600,Sharpodonty:2900},28:{Dust:8900,Sharpodonty:3e3},29:{Dust:9200,Sharpodonty:3100},30:{Dust:9500,Sharpodonty:3200},31:{Dust:9800,Sharpodonty:3300},32:{Dust:10100,Sharpodonty:3400},33:{Dust:10400,Sharpodonty:3500},34:{Dust:10700,Sharpodonty:3600},35:{Dust:11e3,Sharpodonty:3700},36:{Dust:11300,Sharpodonty:3800},37:{Dust:11600,Sharpodonty:3900},38:{Dust:11900,Sharpodonty:4e3},39:{Dust:12200,Sharpodonty:4100},40:{Dust:12500,Sharpodonty:4200},41:{Dust:12800,Sharpodonty:4300},42:{Dust:13100,Sharpodonty:4400},43:{Dust:13400,Sharpodonty:4500},44:{Dust:13700,Sharpodonty:4600},45:{Dust:14e3,Sharpodonty:4700},46:{Dust:14300,Sharpodonty:4800},47:{Dust:14600,Sharpodonty:4900},48:{Dust:14900,Sharpodonty:5e3},49:{Dust:15200,Sharpodonty:5100},50:{Dust:15500,Sharpodonty:5200}},Total:{Dust:406700,Sharpodonty:137200}},{Rarity:[5,6],Insight:3,Levels:{2:{Dust:5640,Sharpodonty:2500},3:{Dust:5760,Sharpodonty:2600},4:{Dust:5880,Sharpodonty:2700},5:{Dust:6e3,Sharpodonty:2800},6:{Dust:6240,Sharpodonty:2900},7:{Dust:6380,Sharpodonty:3e3},8:{Dust:6520,Sharpodonty:3100},9:{Dust:6660,Sharpodonty:3200},10:{Dust:6800,Sharpodonty:3300},11:{Dust:7160,Sharpodonty:3400},12:{Dust:7320,Sharpodonty:3500},13:{Dust:7480,Sharpodonty:3600},14:{Dust:7640,Sharpodonty:3700},15:{Dust:7800,Sharpodonty:3800},16:{Dust:8280,Sharpodonty:3900},17:{Dust:8460,Sharpodonty:4e3},18:{Dust:8640,Sharpodonty:4100},19:{Dust:8820,Sharpodonty:4200},20:{Dust:9e3,Sharpodonty:4300},21:{Dust:9600,Sharpodonty:4500},22:{Dust:9800,Sharpodonty:4700},23:{Dust:1e4,Sharpodonty:4900},24:{Dust:10200,Sharpodonty:5100},25:{Dust:10400,Sharpodonty:5300},26:{Dust:11100,Sharpodonty:5500},27:{Dust:11300,Sharpodonty:5700},28:{Dust:11600,Sharpodonty:5900},29:{Dust:11800,Sharpodonty:6100},30:{Dust:12e3,Sharpodonty:6300},31:{Dust:12800,Sharpodonty:6500},32:{Dust:13100,Sharpodonty:6700},33:{Dust:13300,Sharpodonty:6900},34:{Dust:13600,Sharpodonty:7100},35:{Dust:13800,Sharpodonty:7300},36:{Dust:14800,Sharpodonty:7500},37:{Dust:15e3,Sharpodonty:7700},38:{Dust:15300,Sharpodonty:7900},39:{Dust:15500,Sharpodonty:8100},40:{Dust:15800,Sharpodonty:8300},41:{Dust:16900,Sharpodonty:8500},42:{Dust:17200,Sharpodonty:8700},43:{Dust:17400,Sharpodonty:8900},44:{Dust:17700,Sharpodonty:9100},45:{Dust:18e3,Sharpodonty:9300},46:{Dust:19200,Sharpodonty:9500},47:{Dust:19500,Sharpodonty:9700},48:{Dust:19800,Sharpodonty:9900},49:{Dust:20100,Sharpodonty:10100},50:{Dust:20400,Sharpodonty:10300},51:{Dust:21700,Sharpodonty:10500},52:{Dust:22e3,Sharpodonty:10700},53:{Dust:22400,Sharpodonty:10900},54:{Dust:22700,Sharpodonty:11100},55:{Dust:23e3,Sharpodonty:11300},56:{Dust:24400,Sharpodonty:11500},57:{Dust:24800,Sharpodonty:11700},58:{Dust:25100,Sharpodonty:11900},59:{Dust:25500,Sharpodonty:12100},60:{Dust:25800,Sharpodonty:12300}},Total:{Dust:810880,Sharpodonty:400600}},{Rarity:[4],Insight:0,Levels:{2:{Dust:70,Sharpodonty:70},3:{Dust:110,Sharpodonty:90},4:{Dust:150,Sharpodonty:120},5:{Dust:180,Sharpodonty:140},6:{Dust:260,Sharpodonty:160},7:{Dust:300,Sharpodonty:180},8:{Dust:330,Sharpodonty:210},9:{Dust:370,Sharpodonty:230},10:{Dust:410,Sharpodonty:250},11:{Dust:450,Sharpodonty:270},12:{Dust:480,Sharpodonty:300},13:{Dust:520,Sharpodonty:320},14:{Dust:560,Sharpodonty:340},15:{Dust:600,Sharpodonty:360},16:{Dust:630,Sharpodonty:390},17:{Dust:670,Sharpodonty:410},18:{Dust:710,Sharpodonty:430},19:{Dust:750,Sharpodonty:450},20:{Dust:780,Sharpodonty:480},21:{Dust:900,Sharpodonty:500},22:{Dust:970,Sharpodonty:520},23:{Dust:1050,Sharpodonty:540},24:{Dust:1120,Sharpodonty:570},25:{Dust:1200,Sharpodonty:590},26:{Dust:1270,Sharpodonty:610},27:{Dust:1350,Sharpodonty:630},28:{Dust:1420,Sharpodonty:660},29:{Dust:1500,Sharpodonty:680},30:{Dust:1570,Sharpodonty:700}},Total:{Dust:20680,Sharpodonty:11200}},{Rarity:[4],Insight:1,Levels:{2:{Dust:300,Sharpodonty:150},3:{Dust:370,Sharpodonty:180},4:{Dust:450,Sharpodonty:220},5:{Dust:520,Sharpodonty:260},6:{Dust:670,Sharpodonty:300},7:{Dust:750,Sharpodonty:330},8:{Dust:820,Sharpodonty:370},9:{Dust:900,Sharpodonty:410},10:{Dust:970,Sharpodonty:450},11:{Dust:1120,Sharpodonty:480},12:{Dust:1200,Sharpodonty:520},13:{Dust:1270,Sharpodonty:560},14:{Dust:1350,Sharpodonty:600},15:{Dust:1420,Sharpodonty:630},16:{Dust:1570,Sharpodonty:670},17:{Dust:1650,Sharpodonty:710},18:{Dust:1720,Sharpodonty:750},19:{Dust:1800,Sharpodonty:780},20:{Dust:1870,Sharpodonty:820},21:{Dust:1950,Sharpodonty:860},22:{Dust:2020,Sharpodonty:900},23:{Dust:2100,Sharpodonty:930},24:{Dust:2170,Sharpodonty:970},25:{Dust:2250,Sharpodonty:1010},26:{Dust:2320,Sharpodonty:1050},27:{Dust:2400,Sharpodonty:1080},28:{Dust:2470,Sharpodonty:1120},29:{Dust:2550,Sharpodonty:1160},30:{Dust:2620,Sharpodonty:1200},31:{Dust:2770,Sharpodonty:1350},32:{Dust:2850,Sharpodonty:1500},33:{Dust:2920,Sharpodonty:1650},34:{Dust:3e3,Sharpodonty:1800},35:{Dust:3070,Sharpodonty:1950},36:{Dust:3220,Sharpodonty:2100},37:{Dust:3300,Sharpodonty:2250},38:{Dust:3370,Sharpodonty:2400},39:{Dust:3450,Sharpodonty:2550},40:{Dust:3520,Sharpodonty:2700}},Total:{Dust:75040,Sharpodonty:39720}},{Rarity:[4],Insight:2,Levels:{2:{Dust:820,Sharpodonty:300},3:{Dust:1050,Sharpodonty:370},4:{Dust:1270,Sharpodonty:450},5:{Dust:1500,Sharpodonty:520},6:{Dust:1720,Sharpodonty:600},7:{Dust:1950,Sharpodonty:670},8:{Dust:2170,Sharpodonty:750},9:{Dust:2400,Sharpodonty:820},10:{Dust:2620,Sharpodonty:900},11:{Dust:2850,Sharpodonty:970},12:{Dust:3070,Sharpodonty:1050},13:{Dust:3300,Sharpodonty:1120},14:{Dust:3520,Sharpodonty:1200},15:{Dust:3750,Sharpodonty:1270},16:{Dust:3970,Sharpodonty:1350},17:{Dust:4200,Sharpodonty:1420},18:{Dust:4420,Sharpodonty:1500},19:{Dust:4650,Sharpodonty:1570},20:{Dust:4870,Sharpodonty:1650},21:{Dust:5100,Sharpodonty:1720},22:{Dust:5320,Sharpodonty:1800},23:{Dust:5550,Sharpodonty:1870},24:{Dust:5770,Sharpodonty:1950},25:{Dust:6e3,Sharpodonty:2020},26:{Dust:6220,Sharpodonty:2100},27:{Dust:6450,Sharpodonty:2170},28:{Dust:6670,Sharpodonty:2250},29:{Dust:6900,Sharpodonty:2320},30:{Dust:7120,Sharpodonty:2400},31:{Dust:7350,Sharpodonty:2470},32:{Dust:7570,Sharpodonty:2550},33:{Dust:7800,Sharpodonty:2620},34:{Dust:8020,Sharpodonty:2700},35:{Dust:8250,Sharpodonty:2770},36:{Dust:8470,Sharpodonty:2850},37:{Dust:8700,Sharpodonty:2920},38:{Dust:8920,Sharpodonty:3e3},39:{Dust:9150,Sharpodonty:3070},40:{Dust:9370,Sharpodonty:3150},41:{Dust:9600,Sharpodonty:3230},42:{Dust:9820,Sharpodonty:3300},43:{Dust:10050,Sharpodonty:3370},44:{Dust:10270,Sharpodonty:3450},45:{Dust:10500,Sharpodonty:3520},46:{Dust:10720,Sharpodonty:3600},47:{Dust:10950,Sharpodonty:3670},48:{Dust:11170,Sharpodonty:3750},49:{Dust:11400,Sharpodonty:3820},50:{Dust:11620,Sharpodonty:3900}},Total:{Dust:304900,Sharpodonty:102790}},{Rarity:[2,3],Insight:0,Levels:{2:{Dust:60,Sharpodonty:60},3:{Dust:90,Sharpodonty:70},4:{Dust:120,Sharpodonty:90},5:{Dust:150,Sharpodonty:110},6:{Dust:210,Sharpodonty:130},7:{Dust:240,Sharpodonty:150},8:{Dust:270,Sharpodonty:160},9:{Dust:300,Sharpodonty:180},10:{Dust:330,Sharpodonty:200},11:{Dust:360,Sharpodonty:220},12:{Dust:390,Sharpodonty:240},13:{Dust:420,Sharpodonty:250},14:{Dust:450,Sharpodonty:270},15:{Dust:480,Sharpodonty:290},16:{Dust:510,Sharpodonty:310},17:{Dust:540,Sharpodonty:330},18:{Dust:570,Sharpodonty:340},19:{Dust:600,Sharpodonty:350},20:{Dust:630,Sharpodonty:360},21:{Dust:720,Sharpodonty:400},22:{Dust:780,Sharpodonty:420},23:{Dust:840,Sharpodonty:430},24:{Dust:900,Sharpodonty:450},25:{Dust:960,Sharpodonty:470},26:{Dust:1020,Sharpodonty:490},27:{Dust:1080,Sharpodonty:510},28:{Dust:1140,Sharpodonty:520},29:{Dust:1200,Sharpodonty:540},30:{Dust:1260,Sharpodonty:560}},Total:{Dust:16620,Sharpodonty:8900}},{Rarity:[2,3],Insight:1,Levels:{2:{Dust:240,Sharpodonty:120},3:{Dust:300,Sharpodonty:150},4:{Dust:360,Sharpodonty:180},5:{Dust:420,Sharpodonty:210},6:{Dust:540,Sharpodonty:240},7:{Dust:600,Sharpodonty:270},8:{Dust:660,Sharpodonty:300},9:{Dust:720,Sharpodonty:330},10:{Dust:780,Sharpodonty:360},11:{Dust:900,Sharpodonty:390},12:{Dust:960,Sharpodonty:420},13:{Dust:1020,Sharpodonty:450},14:{Dust:1080,Sharpodonty:480},15:{Dust:1140,Sharpodonty:510},16:{Dust:1260,Sharpodonty:540},17:{Dust:1320,Sharpodonty:570},18:{Dust:1380,Sharpodonty:600},19:{Dust:1440,Sharpodonty:630},20:{Dust:1500,Sharpodonty:660},21:{Dust:1560,Sharpodonty:690},22:{Dust:1620,Sharpodonty:720},23:{Dust:1680,Sharpodonty:750},24:{Dust:1740,Sharpodonty:780},25:{Dust:1800,Sharpodonty:810},26:{Dust:1860,Sharpodonty:840},27:{Dust:1920,Sharpodonty:870},28:{Dust:1980,Sharpodonty:900},29:{Dust:2040,Sharpodonty:930},30:{Dust:2100,Sharpodonty:960},31:{Dust:2220,Sharpodonty:1080},32:{Dust:2280,Sharpodonty:1200},33:{Dust:2340,Sharpodonty:1320},34:{Dust:2400,Sharpodonty:1440},35:{Dust:2460,Sharpodonty:1560},36:{Dust:2520,Sharpodonty:1680},37:{Dust:2580,Sharpodonty:1800},38:{Dust:2700,Sharpodonty:1920},39:{Dust:2760,Sharpodonty:2040},40:{Dust:2820,Sharpodonty:2160}},Total:{Dust:6e4,Sharpodonty:31860}},{Rarity:[2,3],Insight:2,Levels:{2:{Dust:660,Sharpodonty:240},3:{Dust:840,Sharpodonty:300},4:{Dust:1020,Sharpodonty:360},5:{Dust:1200,Sharpodonty:420},6:{Dust:1380,Sharpodonty:480},7:{Dust:1560,Sharpodonty:540},8:{Dust:1740,Sharpodonty:600},9:{Dust:1920,Sharpodonty:660},10:{Dust:2100,Sharpodonty:720},11:{Dust:2280,Sharpodonty:780},12:{Dust:2460,Sharpodonty:840},13:{Dust:2640,Sharpodonty:900},14:{Dust:2820,Sharpodonty:960},15:{Dust:3e3,Sharpodonty:1020},16:{Dust:3180,Sharpodonty:1080},17:{Dust:3360,Sharpodonty:1140},18:{Dust:3540,Sharpodonty:1200},19:{Dust:3720,Sharpodonty:1260},20:{Dust:3900,Sharpodonty:1320},21:{Dust:4080,Sharpodonty:1380},22:{Dust:4260,Sharpodonty:1440},23:{Dust:4440,Sharpodonty:1500},24:{Dust:4620,Sharpodonty:1560},25:{Dust:4800,Sharpodonty:1620},26:{Dust:4980,Sharpodonty:1680},27:{Dust:5160,Sharpodonty:1740},28:{Dust:5340,Sharpodonty:1800},29:{Dust:5520,Sharpodonty:1860},30:{Dust:5700,Sharpodonty:1920},31:{Dust:5880,Sharpodonty:1980},32:{Dust:6060,Sharpodonty:2040},33:{Dust:6240,Sharpodonty:2100},34:{Dust:6420,Sharpodonty:2160},35:{Dust:6600,Sharpodonty:2220},36:{Dust:6780,Sharpodonty:2280},37:{Dust:6960,Sharpodonty:2340},38:{Dust:7140,Sharpodonty:2400},39:{Dust:7320,Sharpodonty:2460},40:{Dust:7500,Sharpodonty:2520},41:{Dust:7680,Sharpodonty:2580},42:{Dust:7860,Sharpodonty:2640},43:{Dust:8040,Sharpodonty:2700},44:{Dust:8220,Sharpodonty:2760},45:{Dust:8400,Sharpodonty:2820},46:{Dust:8580,Sharpodonty:2880},47:{Dust:8760,Sharpodonty:2940},48:{Dust:8940,Sharpodonty:3e3},49:{Dust:9120,Sharpodonty:3060},50:{Dust:9300,Sharpodonty:3120}},Total:{Dust:244020,Sharpodonty:82320}}],uo=ss,Jt=X().items,po=X().arcanists,je={"Base Item":0,"Resonate Material":1,"Insight Material":2,"Build Material":2};function os(t){t.sort((e,s)=>{const o=Jt.findIndex(l=>l.Name===e.Material),a=Jt.findIndex(l=>l.Name===s.Material),r=Jt[o],c=Jt[a];if(r&&c){const l=je[r.Category],i=je[c.Category];return l!==i?l-i:c.Rarity!==r.Rarity?c.Rarity-r.Rarity:o-a}else return a-o})}function ye(t){const e={};return t.forEach(o=>{o&&(Array.isArray(o)?o.flat().forEach(({Material:r,Quantity:c})=>{e[r]?e[r]+=c:e[r]=c}):typeof o=="object"&&Object.entries(o).forEach(([a,r])=>{e[a]?e[a]+=r:e[a]=r}))}),Y().updateNeededRawMaterialsMapping(e),Object.keys(e).map(o=>({Material:o,Quantity:e[o]}))}function ho(t){var o,a;os(t);const e=((o=t.find(r=>r.Material==="Dust"))==null?void 0:o.Quantity)||0,s=((a=t.find(r=>r.Material==="Sharpodonty"))==null?void 0:a.Quantity)||0;return e===0&&s===0?t.filter(c=>c.Material!=="Dust"&&c.Material!=="Sharpodonty"):t}function fo(t){var i,f,p,d,S,y;const e=((i=t.find(v=>v.Material==="Dust"))==null?void 0:i.Quantity)||0,s=((f=t.find(v=>v.Material==="Sharpodonty"))==null?void 0:f.Quantity)||0;if(e===0&&s===0)return t.filter(g=>g.Material!=="Dust"&&g.Material!=="Sharpodonty");const o=((p=t.find(v=>v.Material==="Sinuous Howl"))==null?void 0:p.Quantity)||0,a=((d=t.find(v=>v.Material==="Interlaced Shudder"))==null?void 0:d.Quantity)||0,r=((S=t.find(v=>v.Material==="Hypocritical Murmur"))==null?void 0:S.Quantity)||0,c=((y=t.find(v=>v.Material==="Hoarse Echo"))==null?void 0:y.Quantity)||0;t.push({Material:"Crystal Casket",Quantity:o+a+r+c});const l=t.filter(v=>v.Material!=="Sinuous Howl"&&v.Material!=="Interlaced Shudder"&&v.Material!=="Hypocritical Murmur"&&v.Material!=="Hoarse Echo");return os(l),l}function me(t){const e=po.find(d=>d.Id===t.Id),s=d=>{const S={Dust:0,Sharpodonty:0};if(d.currentInsight===d.goalInsight){const{Dust:v,Sharpodonty:g}=r(d.currentLevel,d.goalLevel,d,d.currentInsight);return S.Dust+=v,S.Sharpodonty+=g,S}for(let v=d.currentInsight;v<=d.goalInsight;v++)if(v<d.goalInsight){const g=a(d,v);if(S.Dust+=g.Total.Dust,S.Sharpodonty+=g.Total.Sharpodonty,v===d.currentInsight){const{Dust:_,Sharpodonty:h}=r(1,d.currentLevel,d,v);S.Dust-=_,S.Sharpodonty-=h}}else{const{Dust:g,Sharpodonty:_}=r(1,d.goalLevel,d,v);S.Dust+=g,S.Sharpodonty+=_}return[{Material:"Dust",Quantity:S.Dust},{Material:"Sharpodonty",Quantity:S.Sharpodonty}]},o=(d,S,y)=>{const v={};if(d===S)return null;for(let _=Number(d+1);_<=S;_++){const h=y.find(b=>b.Id===_);h&&h.Material.forEach((b,m)=>{const u=h.Quantity[m];v[b]?v[b]+=u:v[b]=u})}return Object.keys(v).map(_=>({Material:_,Quantity:v[_]}))},a=(d,S)=>uo.find(v=>v.Rarity.includes(e.Rarity)&&v.Insight===S),r=(d,S,y,v)=>{const g={Dust:0,Sharpodonty:0};for(let _=Number(++d);_<=Number(S);_++){const h=a(y,v),b=_.toString(),m=h.Levels[b];m&&(g.Dust+=m.Dust,g.Sharpodonty+=m.Sharpodonty)}return g},c=o(t.currentInsight,t.goalInsight,e.Insight),l=o(t.currentResonance,t.goalResonance,e.Resonance),i=s(t),f=ye([c,l,i]);return ho(f)}const vo={__name:"ArcanistCalculate",props:{arcanist:{type:Object,required:!0}},setup(t){const e=t,s=R(()=>{const o=e.arcanist;return me(o)});return(o,a)=>(w(),M("div",null,[B(co,{class:"max-h-48",materialList:s.value},null,8,["materialList"])]))}},yo={class:"relative w-2/3 md:w-1/3 flex justify-center"},mo={key:0},go=n("i",{class:"fa-regular fa-circle text-white"},null,-1),bo=[go],So={key:1},_o=["src","alt"],xo=n("div",{class:"flex items-center justify-center"},[n("i",{class:"fa-solid fa-caret-up text-blue-500"})],-1),Do={class:"grid grid-cols-4 gap-1 p-3 border border-blue-300 rounded-md shadow-lg options-box custom-gradient-gray-blue"},wo=["onClick"],$o={class:"flex items-center justify-center font-semibold rounded-full w-8 h-8 leading-none flex-col bg-blue-500 text-white"},Mo={key:0},ko=n("i",{class:"fa-regular fa-circle text-white"},null,-1),Io=[ko],Ao={key:1},Co=["src","alt"],rt={__name:"SelectList",props:{label:{type:String,required:!0},options:{type:Array,required:!0},selected:{type:Number}},emits:["update:selected"],setup(t,{emit:e}){const s=t,o=e,a=k(!1),r=k(s.selected),c=k(null),l=()=>{a.value=!0},i=()=>{a.value=!1},f=d=>{r.value=d,o("update:selected",d,s.label),a.value=!1},p=d=>`images/items/common/insight${d}.png`;return Mt(c,i),qt(()=>{s.selected===void 0?(r.value=s.options[0],o("update:selected",s.options[0],s.label)):(r.value=s.selected,o("update:selected",s.selected,s.label))}),(d,S)=>(w(),M("div",yo,[n("button",{onClick:l,class:"btn btn-sm btn-ghost gradient-blue w-1/2 m-2"},[t.label==="Current Insight"||t.label==="Goal Insight"?(w(),M(Z,{key:0},[r.value===0?(w(),M("div",mo,bo)):(w(),M("div",So,[n("img",{class:"avatar w-6",src:p(r.value),alt:"Option "+r.value},null,8,_o)]))],64)):(w(),M(Z,{key:1},[q(Q(r.value),1)],64))]),a.value?(w(),M("div",{key:0,ref_key:"containerRef",ref:c,class:"absolute mt-14 w-48 lg:w-64 z-50"},[xo,n("div",Do,[(w(!0),M(Z,null,ht(t.options,y=>(w(),M("button",{key:y,class:"m-1",onClick:v=>f(y)},[n("div",$o,[t.label==="Current Insight"||t.label==="Goal Insight"?(w(),M(Z,{key:0},[y===0?(w(),M("div",Mo,Io)):(w(),M("div",Ao,[n("img",{src:p(y),alt:"Option "+y},null,8,Co)]))],64)):(w(),M(Z,{key:1},[q(Q(y),1)],64))])],8,wo))),128))])],512)):K("",!0)]))}},Oo={class:"edit-overlay"},Ro={class:"fixed p-4 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 custom-gradient-gray-blue custom-border rounded-md w-11/12 sm:max-w-2xl lg:h-auto"},No={class:"flex items-center p-2 mb-3 shadow-border-b"},Eo={class:"flex items-center justify-center mr-2 space-x-3"},Po={class:"text-1xl md:text-2xl text-white font-bold"},jo={class:"text-sm text-white",for:"raritySelect"},Qo={class:"ml-auto flex items-center space-x-3"},Lo={class:"tooltip","data-tip":"Hidden / Show"},Bo=n("i",{class:"fas fa-times"},null,-1),To=[Bo],Vo=n("div",{class:"custom-line"},null,-1),Wo=n("div",{class:"custom-label text-blue-100"},"Current Level",-1),qo={class:"mt-2 flex justify-center items-center leading-none"},Uo=n("i",{class:"text-white text-center flex items-center justify-center font-extrabold text-2xl -translate-y-2"},"_",-1),Fo=n("div",{class:"custom-label text-blue-100"},"Goal Level",-1),zo={class:"mt-2 flex justify-center items-center leading-none"},Go=n("i",{class:"text-white text-center flex items-center justify-center font-extrabold text-2xl -translate-y-2"},"_",-1),Ho=n("div",{class:"custom-label text-blue-100"},"Resonance",-1),Yo={class:"mt-2 flex justify-center items-center leading-none"},Ko=n("i",{class:"text-white fa-solid fa-angles-right text-center"},null,-1),Xo={class:"flex justify-center space-x-4"},Jo={key:0,class:"toast toast-middle toast-center"},Zo=n("div",{class:"-translate-x-3 alert alert-info bg-red-300"},[n("span",null,"Current and Goal are the same!")],-1),ta=[Zo],ea={__name:"PlannerEdit",props:{selectedArcanist:{type:Object,required:!0},selectedArcanists:{type:Array,required:!0},listArcanists:{type:Array,required:!0}},emits:{closeOverlay:{type:Function,required:!0},updateSelectedArcanists:{type:Function,required:!0},updateListArcanists:{type:Function,required:!0}},setup(t,{emit:e}){const s=t,o=e,a=X().arcanists,r=k(!1),c=k(0),l=ss,i=k(a.find(A=>Number(A.Id)===Number(s.selectedArcanist.Id))),f=k(s.selectedArcanists),p=k(s.listArcanists),d=k(s.selectedArcanist.currentInsight),S=k(s.selectedArcanist.currentLevel),y=k(s.selectedArcanist.currentResonance),v=k(s.selectedArcanist.goalInsight),g=k(s.selectedArcanist.goalLevel),_=k(s.selectedArcanist.goalResonance),h=k(s.selectedArcanist.isVisible),b=R(()=>({Id:i.value.Id,isVisible:h.value,currentInsight:d.value,currentLevel:S.value,goalInsight:v.value,goalLevel:g.value,currentResonance:y.value,goalResonance:_.value})),m=R(()=>i.value.Rarity),u=R(()=>[0,...i.value.Insight.map(A=>A.Id)]),D=R(()=>u.value.filter(A=>A>=d.value)),x=R(()=>{const A=l.find(C=>C.Rarity.includes(i.value.Rarity)&&C.Insight===d.value);return A?[1,...Object.keys(A.Levels).map(Number).filter(C=>C%5===0)]:[]}),$=R(()=>{if(v.value===null)return[];const A=l.find(C=>C.Rarity.includes(i.value.Rarity)&&C.Insight===v.value);return A?v.value===d.value?[1,...Object.keys(A.Levels).map(Number).filter(C=>C%5===0)].filter(C=>C>=S.value):[1,...Object.keys(A.Levels).map(Number).filter(C=>C%5===0)]:[]}),O=R(()=>{if(d.value===null)return[];if(d.value===0)return y.value=0,[0];const A=Number(d.value);if(A===0)return y.value=null,null;const C=A*5;return Array.from({length:C},(N,U)=>Number(U+1))}),I=R(()=>{if(v.value===null)return[];if(v.value===0)return _.value=0,[0];const A=Number(v.value),C=Number(y.value);if(A===0)return _.value=null,null;const N=C||1,U=A*5;return Array.from({length:U-N+1},(W,H)=>Number(N+H))}),P=(A,C,N,U)=>Number(A)>Number(N)?!0:Number(A)<Number(N)?!1:Number(C)>Number(U),E=()=>{if(d.value===v.value&&S.value===g.value&&y.value===_.value)return r.value=!0,setTimeout(()=>{r.value=!1},1e3),!0;r.value=!1},F=()=>{if(E())return;const A=f.value.findIndex(C=>Number(C.Id)===Number(b.value.Id));A!==-1?f.value[A]={...f.value[A],...b.value}:f.value.push(b.value),p.value=p.value.filter(C=>C.Id!==b.value.Id),o("updateSelectedArcanists",f.value),o("updateListArcanists",p.value),o("closeOverlay")},V=()=>{const A=f.value.findIndex(C=>Number(C.Id)===Number(b.value.Id));A!==-1&&f.value.splice(A,1),G()},G=()=>{o("closeOverlay")},z=(A,C)=>{switch(C){case"Current Insight":d.value=A;break;case"Current Level":S.value=A;break;case"Current Resonance":y.value=A;break;case"Goal Insight":v.value=A;break;case"Goal Level":g.value=A;break;case"Goal Resonance":_.value=A;break;case"Visible":h.value=A;break}};return gt([d,S,y,v,g,_],()=>{c.value+=1,S.value>x.value[x.value.length-1]&&(S.value=x.value[x.value.length-1]),g.value>$.value[$.value.length-1]&&(g.value=$.value[$.value.length-1]),Number(y.value)>Number(_.value)&&(_.value=y.value),y.value<O.value[0]&&(y.value=O.value[0]),_.value<I.value[0]&&(_.value=I.value[0]),P(d.value,S.value,v.value,g.value)&&(v.value=d.value,g.value=S.value)}),(A,C)=>(w(),M("div",Oo,[n("div",Ro,[n("div",No,[n("div",Eo,[B(Je,{class:"ml-2",arcanist:i.value},null,8,["arcanist"]),n("h2",Po,Q(i.value.Name),1),n("label",jo,[q(Q(m.value)+" ",1),n("i",{class:et(["fa-solid fa-star",{"text-orange-300":m.value===6,"text-yellow-100":m.value===5,"text-purple-400":m.value===4,"text-sky-200":m.value===3,"text-green-200":m.value===2}])},null,2)]),n("div",{class:"tooltip","data-tip":"Remove Arcanist"},[n("i",{onClick:V,class:"fas fa-trash-alt text-gray-500"})])]),n("div",Qo,[n("div",Lo,[n("div",{onClick:C[0]||(C[0]=N=>h.value=!h.value),class:et(["badge badge-ghost",h.value?"green-badge":"red-badge"])},[n("i",{class:et(h.value?"fa-regular fa-eye":"fa-regular fa-eye-slash")},null,2)],2)]),n("button",{onClick:G,class:"text-white"},To)])]),Vo,Wo,n("div",qo,[(w(),J(rt,{key:c.value,modelValue:d.value,"onUpdate:modelValue":C[1]||(C[1]=N=>d.value=N),selected:d.value,label:"Current Insight",options:u.value,"onUpdate:selected":z},null,8,["modelValue","selected","options"])),Uo,(w(),J(rt,{key:c.value,modelValue:S.value,"onUpdate:modelValue":C[2]||(C[2]=N=>S.value=N),selected:S.value,label:"Current Level",options:x.value,"onUpdate:selected":z},null,8,["modelValue","selected","options"]))]),Fo,n("div",zo,[(w(),J(rt,{key:c.value,modelValue:v.value,"onUpdate:modelValue":C[3]||(C[3]=N=>v.value=N),selected:v.value,label:"Goal Insight",options:D.value,"onUpdate:selected":z},null,8,["modelValue","selected","options"])),Go,(w(),J(rt,{key:c.value,modelValue:g.value,"onUpdate:modelValue":C[4]||(C[4]=N=>g.value=N),selected:g.value,label:"Goal Level",options:$.value,"onUpdate:selected":z},null,8,["modelValue","selected","options"]))]),Ho,n("div",Yo,[(w(),J(rt,{key:c.value,modelValue:y.value,"onUpdate:modelValue":C[5]||(C[5]=N=>y.value=N),selected:y.value,label:"Current Resonance",options:O.value,"onUpdate:selected":z},null,8,["modelValue","selected","options"])),Ko,(w(),J(rt,{key:c.value,modelValue:_.value,"onUpdate:modelValue":C[6]||(C[6]=N=>_.value=N),selected:_.value,label:"Goal Resonance",options:I.value,"onUpdate:selected":z},null,8,["modelValue","selected","options"]))]),n("div",Xo,[n("button",{onClick:F,class:"btn btn-success"},"Save"),r.value?(w(),M("div",Jo,ta)):K("",!0)]),B(vo,{arcanist:b.value},null,8,["arcanist"])])]))}},sa=["data-tip"],oa={class:"rounded-md overflow-hidden w-12 h-12"},aa={class:"avatar"},na=["src","alt"],ra={__name:"ArcanistIconToggle",props:{arcanist:{type:Number,required:!0},visible:{type:Boolean,required:!0}},setup(t){const e=t,s=X().arcanists.find(a=>a.Id===e.arcanist),o=a=>`images/arcanists/icon/${a}.png`;return(a,r)=>(w(),M("div",{class:"tooltip","data-tip":a.$t(j(s).Name)},[n("div",oa,[n("div",aa,[n("div",{class:et(["w-12 rounded",{"filter-grayscale opacity-50":!t.visible,"bg-orange-300":j(s).Rarity===6,"bg-yellow-100":j(s).Rarity===5,"bg-purple-400":j(s).Rarity===4,"bg-sky-200":j(s).Rarity===3,"bg-green-200":j(s).Rarity===2}])},[n("img",{src:o(j(s).Id),alt:j(s).Name},null,8,na)],2)])])],8,sa))}},ia=It(ra,[["__scopeId","data-v-cc3c920e"]]),L=Pt("warehouse",{state:()=>({data:[]}),actions:{initItem(t,e){this.data.push({Material:t,Quantity:0,Category:e})},removeItem(t){this.data=this.data.filter(e=>e.Material!==t)},addItem(t,e){this.data=this.data.map(s=>s.Material===t?{...s,Quantity:s.Quantity+e}:{...s})},reduceItem(t,e){this.data=this.data.map(s=>s.Material===t?{...s,Quantity:s.Quantity>=e?s.Quantity-e:s.Quantity}:{...s})},updateItem(t,e){this.data=this.data.map(s=>s.Material===t?{...s,Quantity:e}:{...s})},hasItem(t){return this.data.some(e=>e.Material===t)},getItemQuantity(t){var e;return((e=this.data.find(s=>s.Material===t))==null?void 0:e.Quantity)||0},resetAll(){this.data=this.data.map(t=>({...t,Quantity:0}))},resetCategory(t){this.data=this.data.map(e=>e.Category===t?{...e,Quantity:0}:{...e})}},persist:!0}),la=["data-tip"],ca={class:"relative inline-block"},ua=["src"],da=["src"],pa=nt({__name:"ItemGoalIcon",props:{material:{type:Object,required:!0}},setup(t){const e=t,s=R(()=>Gt(e.material)),o=()=>e.material.Quantity>99||L().getItemQuantity(e.material.Material)>99;return(a,r)=>(w(),M("div",{class:"tooltip","data-tip":s.value.material},[n("div",ca,[n("img",{src:s.value.borderImagePath,alt:"Border Image",class:et(["w-20 h-20 absolute",{"w-36":o()}])},null,10,ua),n("img",{src:s.value.itemImagePath,alt:"Material Image",class:et(["w-20 h-20",{"mx-5":o()}])},null,10,da),n("div",{class:et(["text-white absolute -bottom-3 left-3 input input-xs rounded-t-none text-center",{"left-[17px] w-[85px]":o(),"w-14":!o(),"bg-green-800/80":j(L)().getItemQuantity(e.material.Material)>e.material.Quantity,"bg-red-500/60":j(L)().getItemQuantity(e.material.Material)<=e.material.Quantity}])},Q(j(Qt)(j(L)().getItemQuantity(s.value.material)))+" / "+Q(s.value.quantity),3)])],8,la))}}),ha={class:"p-2"},fa={class:"flex flex-row flex-wrap justify-center space-x-2"},va={class:"flex justify-center items-center"},ya=n("button",{class:"btn btn-ghost custom-gradient-button btn-sm text-white",onclick:"goalMaterials.showModal()"},"Goal",-1),ma={id:"goalMaterials",class:"modal"},ga={class:"modal-box custom-gradient-gray-blue custom-border hidden-scrollbar"},ba=n("form",{method:"dialog"},[n("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),Sa=n("h3",{class:"font-bold text-lg text-white text-center"},"Total Goal Materials",-1),_a={class:"hidden-scrollbar pt-9 custom-item-list"},xa=n("form",{method:"dialog",class:"flex justify-center pt-5"},[n("button",{class:"btn btn-sm btn-success text-black"},"Close")],-1),Da=n("form",{method:"dialog",class:"modal-backdrop"},[n("button",null,"close")],-1),wa=n("p",{class:"text-center text-slate-300 text-sm opacity-70 mt-2"},"Left click to edit, right click to show / hide.",-1),$a={__name:"PlannerSelector",props:{selectedArcanists:{type:Array,required:!0}},emits:["open-edit-overlay"],setup(t,{emit:e}){const s=t,o=e,a=k(s.selectedArcanists),r=i=>{o("open-edit-overlay",i)},c=i=>{i.isVisible=!i.isVisible},l=R(()=>{const i=a.value.map(d=>d.isVisible?me(d):[]),f=ye(i);return fo(f)});return(i,f)=>(w(),M("div",ha,[n("div",fa,[(w(!0),M(Z,null,ht(a.value,p=>(w(),J(ia,{key:p.Id,arcanist:p.Id,visible:p.isVisible,onClick:d=>r(p),onContextmenu:Is(d=>c(p),["prevent"])},null,8,["arcanist","visible","onClick","onContextmenu"]))),128)),n("div",va,[ya,n("dialog",ma,[n("div",ga,[ba,Sa,n("div",_a,[(w(!0),M(Z,null,ht(l.value,p=>(w(),J(pa,{class:"py-2",key:p,material:p},null,8,["material"]))),128))]),xa]),Da])])]),wa]))}},at=(t,e,s)=>t.matrix[Math.imul(e,t.width)+s],ot=(t,e,s,o)=>{t.matrix[Math.imul(e,t.width)+s]=o},le=t=>typeof t[Symbol.iterator]=="function"?t:Object.entries(t),Qe=t=>t===!0?!0:t===!1?new Set:t instanceof Set?t:new Set(t),Ma=t=>{const{direction:e,objective:s,integers:o,binaries:a}=t,r=e==="minimize"?-1:1,c=le(t.constraints),l=le(t.variables),i=Array.isArray(l)?l:Array.from(l),f=[],p=[];if(o!=null||a!=null){const u=Qe(a),D=u===!0?!0:Qe(o);for(let x=1;x<=i.length;x++){const[$]=i[x-1];u===!0||u.has($)?(f.push(x),p.push(x)):(D===!0||D.has($))&&p.push(x)}}const d=new Map;for(const[u,D]of c){const x=d.get(u)??{row:NaN,lower:-1/0,upper:1/0};x.lower=Math.max(x.lower,D.equal??D.min??-1/0),x.upper=Math.min(x.upper,D.equal??D.max??1/0),d.has(u)||d.set(u,x)}let S=1;for(const u of d.values())u.row=S,S+=(Number.isFinite(u.lower)?1:0)+(Number.isFinite(u.upper)?1:0);const y=i.length+1,v=S+f.length,g=y+v,_=new Float64Array(y*v),h=new Int32Array(g),b=new Int32Array(g),m={matrix:_,width:y,height:v,positionOfVariable:h,variableAtPosition:b};for(let u=0;u<g;u++)h[u]=u,b[u]=u;for(let u=1;u<y;u++)for(const[D,x]of le(i[u-1][1])){D===s&&ot(m,0,u,r*x);const $=d.get(D);$!=null&&(Number.isFinite($.upper)?(ot(m,$.row,u,x),Number.isFinite($.lower)&&ot(m,$.row+1,u,-x)):Number.isFinite($.lower)&&ot(m,$.row,u,-x))}for(const u of d.values())Number.isFinite(u.upper)?(ot(m,u.row,0,u.upper),Number.isFinite(u.lower)&&ot(m,u.row+1,0,-u.lower)):Number.isFinite(u.lower)&&ot(m,u.row,0,-u.lower);for(let u=0;u<f.length;u++){const D=S+u;ot(m,D,0,1),ot(m,D,f[u],1)}return{tableau:m,sign:r,variables:i,integers:p}},as=(t,e)=>{const s=Math.round(1/e);return Math.round((t+Number.EPSILON)*s)/s},ns=(t,e,s)=>{const o=at(t,e,s),a=t.variableAtPosition[t.width+e],r=t.variableAtPosition[s];t.variableAtPosition[t.width+e]=r,t.variableAtPosition[s]=a,t.positionOfVariable[a]=s,t.positionOfVariable[r]=t.width+e;const c=[];for(let l=0;l<t.width;l++){const i=at(t,e,l);Math.abs(i)>1e-16?(ot(t,e,l,i/o),c.push(l)):ot(t,e,l,0)}ot(t,e,s,1/o);for(let l=0;l<t.height;l++){if(l===e)continue;const i=at(t,l,s);if(Math.abs(i)>1e-16){for(let f=0;f<c.length;f++){const p=c[f];ot(t,l,p,at(t,l,p)-i*at(t,e,p))}ot(t,l,s,-i/o)}}},rs=(t,e,s,o)=>{t.push([e.variableAtPosition[e.width+s],e.variableAtPosition[o]]);for(let a=6;a<=Math.trunc(t.length/2);a++){let r=!0;for(let c=0;c<a;c++){const l=t.length-1-c,[i,f]=t[l],[p,d]=t[l-a];if(i!==p||f!==d){r=!1;break}}if(r)return!0}return!1},ka=(t,e)=>{const s=[],{precision:o,maxPivots:a,checkCycles:r}=e;for(let c=0;c<a;c++){let l=0,i=o;for(let d=1;d<t.width;d++){const S=at(t,0,d);S>i&&(i=S,l=d)}if(l===0)return["optimal",as(at(t,0,0),o)];let f=0,p=1/0;for(let d=1;d<t.height;d++){const S=at(t,d,l);if(S<=o)continue;const v=at(t,d,0)/S;if(v<p&&(f=d,p=v,v<=o))break}if(f===0)return["unbounded",l];if(r&&rs(s,t,f,l))return["cycled",NaN];ns(t,f,l)}return["cycled",NaN]},is=(t,e)=>{const s=[],{precision:o,maxPivots:a,checkCycles:r}=e;for(let c=0;c<a;c++){let l=0,i=-o;for(let d=1;d<t.height;d++){const S=at(t,d,0);S<i&&(i=S,l=d)}if(l===0)return ka(t,e);let f=0,p=-1/0;for(let d=1;d<t.width;d++){const S=at(t,l,d);if(S<-o){const y=-at(t,0,d)/S;y>p&&(p=y,f=d)}}if(f===0)return["infeasible",NaN];if(r&&rs(s,t,l,f))return["cycled",NaN];ns(t,l,f)}return["cycled",NaN]};var ls={exports:{}};(function(t,e){(function(){var s,o,a,r,c,l,i,f,p,d,S,y,v,g,_;a=Math.floor,d=Math.min,o=function(h,b){return h<b?-1:h>b?1:0},p=function(h,b,m,u,D){var x;if(m==null&&(m=0),D==null&&(D=o),m<0)throw new Error("lo must be non-negative");for(u==null&&(u=h.length);m<u;)x=a((m+u)/2),D(b,h[x])<0?u=x:m=x+1;return[].splice.apply(h,[m,m-m].concat(b)),b},l=function(h,b,m){return m==null&&(m=o),h.push(b),g(h,0,h.length-1,m)},c=function(h,b){var m,u;return b==null&&(b=o),m=h.pop(),h.length?(u=h[0],h[0]=m,_(h,0,b)):u=m,u},f=function(h,b,m){var u;return m==null&&(m=o),u=h[0],h[0]=b,_(h,0,m),u},i=function(h,b,m){var u;return m==null&&(m=o),h.length&&m(h[0],b)<0&&(u=[h[0],b],b=u[0],h[0]=u[1],_(h,0,m)),b},r=function(h,b){var m,u,D,x,$,O;for(b==null&&(b=o),x=(function(){O=[];for(var I=0,P=a(h.length/2);0<=P?I<P:I>P;0<=P?I++:I--)O.push(I);return O}).apply(this).reverse(),$=[],u=0,D=x.length;u<D;u++)m=x[u],$.push(_(h,m,b));return $},v=function(h,b,m){var u;if(m==null&&(m=o),u=h.indexOf(b),u!==-1)return g(h,0,u,m),_(h,u,m)},S=function(h,b,m){var u,D,x,$,O;if(m==null&&(m=o),D=h.slice(0,b),!D.length)return D;for(r(D,m),O=h.slice(b),x=0,$=O.length;x<$;x++)u=O[x],i(D,u,m);return D.sort(m).reverse()},y=function(h,b,m){var u,D,x,$,O,I,P,E,F;if(m==null&&(m=o),b*10<=h.length){if(x=h.slice(0,b).sort(m),!x.length)return x;for(D=x[x.length-1],P=h.slice(b),$=0,I=P.length;$<I;$++)u=P[$],m(u,D)<0&&(p(x,u,0,null,m),x.pop(),D=x[x.length-1]);return x}for(r(h,m),F=[],O=0,E=d(b,h.length);0<=E?O<E:O>E;0<=E?++O:--O)F.push(c(h,m));return F},g=function(h,b,m,u){var D,x,$;for(u==null&&(u=o),D=h[m];m>b;){if($=m-1>>1,x=h[$],u(D,x)<0){h[m]=x,m=$;continue}break}return h[m]=D},_=function(h,b,m){var u,D,x,$,O;for(m==null&&(m=o),D=h.length,O=b,x=h[b],u=2*b+1;u<D;)$=u+1,$<D&&!(m(h[u],h[$])<0)&&(u=$),h[b]=h[u],b=u,u=2*b+1;return h[b]=x,g(h,O,b,m)},s=function(){h.push=l,h.pop=c,h.replace=f,h.pushpop=i,h.heapify=r,h.updateItem=v,h.nlargest=S,h.nsmallest=y;function h(b){this.cmp=b??o,this.nodes=[]}return h.prototype.push=function(b){return l(this.nodes,b,this.cmp)},h.prototype.pop=function(){return c(this.nodes,this.cmp)},h.prototype.peek=function(){return this.nodes[0]},h.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},h.prototype.replace=function(b){return f(this.nodes,b,this.cmp)},h.prototype.pushpop=function(b){return i(this.nodes,b,this.cmp)},h.prototype.heapify=function(){return r(this.nodes,this.cmp)},h.prototype.updateItem=function(b){return v(this.nodes,b,this.cmp)},h.prototype.clear=function(){return this.nodes=[]},h.prototype.empty=function(){return this.nodes.length===0},h.prototype.size=function(){return this.nodes.length},h.prototype.clone=function(){var b;return b=new h,b.nodes=this.nodes.slice(0),b},h.prototype.toArray=function(){return this.nodes.slice(0)},h.prototype.insert=h.prototype.push,h.prototype.top=h.prototype.peek,h.prototype.front=h.prototype.peek,h.prototype.has=h.prototype.contains,h.prototype.copy=h.prototype.clone,h}(),function(h,b){return t.exports=b()}(this,function(){return s})}).call(Qs)})(ls);var Ia=ls.exports,Aa=Ia;const Ca=Ls(Aa),Le=(t,e)=>({matrix:new Float64Array(t),positionOfVariable:new Int32Array(e),variableAtPosition:new Int32Array(e)}),Oa=(t,{matrix:e,positionOfVariable:s,variableAtPosition:o},a)=>{const{width:r,height:c}=t;e.set(t.matrix);for(let i=0;i<a.length;i++){const[f,p,d]=a[i],S=(c+i)*r,y=t.positionOfVariable[p];if(y<r)e[S]=f*d,e.fill(0,S+1,S+r),e[S+y]=f;else{const v=(y-r)*r;e[S]=f*(d-e[v]);for(let g=1;g<r;g++)e[S+g]=-f*e[v+g]}}s.set(t.positionOfVariable),o.set(t.variableAtPosition);const l=r+c+a.length;for(let i=r+c;i<l;i++)s[i]=i,o[i]=i;return{matrix:e.subarray(0,t.matrix.length+r*a.length),width:r,height:c+a.length,positionOfVariable:s.subarray(0,l),variableAtPosition:o.subarray(0,l)}},Be=(t,e)=>{let s=0,o=0,a=0;for(let r=0;r<e.length;r++){const c=e[r],l=t.positionOfVariable[c]-t.width;if(l<0)continue;const i=at(t,l,0),f=Math.abs(i-Math.round(i));f>s&&(s=f,o=c,a=i)}return[o,a,s]},Ra=(t,e,s)=>{const{tableau:o,sign:a,integers:r}=t,{precision:c,maxIterations:l,tolerance:i,timeout:f}=s,[p,d,S]=Be(o,r);if(S<=c)return[t,"optimal",e];const y=new Ca((F,V)=>F[0]-V[0]);y.push([e,[[-1,p,Math.ceil(d)]]]),y.push([e,[[1,p,Math.floor(d)]]]);const v=r.length*2,g=o.matrix.length+v*o.width,_=o.positionOfVariable.length+v;let h=Le(g,_),b=Le(g,_);const m=e*(1-a*i),u=f+Date.now();let D=Date.now()>=u,x=!1,$=1/0,O=o,I=0;for(;I<l&&!y.empty()&&$>=m&&!D;){const[F,V]=y.pop();if(F>$)break;const G=Oa(o,h,V),[z,A]=is(G,s);if(z==="optimal"&&A<$){const[C,N,U]=Be(G,r);if(U<=c){x=!0,$=A,O=G;const W=b;b=h,h=W}else{const W=[],H=[];for(let it=0;it<V.length;it++){const lt=V[it],[pt,st]=lt;st===C?pt<0?H.push(lt):W.push(lt):(W.push(lt),H.push(lt))}H.push([1,C,Math.floor(N)]),W.push([-1,C,Math.ceil(N)]),y.push([A,W]),y.push([A,H])}}D=Date.now()>=u,I++}const E=(D||I>=l)&&!y.empty()&&$>=m?"timedout":x?"optimal":"infeasible";return[{...t,tableau:O},E,x?$:NaN]},Te=({tableau:t,sign:e,variables:s},o,a,{precision:r,includeZeroVariables:c})=>{if(o==="optimal"||o==="timedout"&&!Number.isNaN(a)){const l=[];for(let i=0;i<s.length;i++){const[f]=s[i],p=t.positionOfVariable[i+1]-t.width,d=p>=0?at(t,p,0):0;d>r?l.push([f,as(d,r)]):c&&l.push([f,0])}return{status:o,result:-e*a,variables:l}}else if(o==="unbounded"){const l=t.variableAtPosition[a]-1;return{status:"unbounded",result:e*(1/0),variables:0<=l&&l<s.length?[[s[l][0],1/0]]:[]}}else return{status:o,result:NaN,variables:[]}},Na={precision:1e-8,checkCycles:!1,maxPivots:8192,tolerance:0,timeout:1/0,maxIterations:32768,includeZeroVariables:!1},cs=(t,e)=>{const s=Ma(t),o={...Na,...e},[a,r]=is(s.tableau,o);if(s.integers.length===0||a!=="optimal")return Te(s,a,r,o);{const[c,l,i]=Ra(s,r,o);return Te(c,l,i,o)}},us=X().formulas;function Ea(t){const e=ds(),s=L().data,o={},a={},r=["Sinuous Howl","Interlaced Shudder","Hypocritical Murmur","Hoarse Echo","Sonorous Knell","Brief Cacophony","Moment of Dissonance","Crystal Casket"];t.forEach(({Material:v,Quantity:g})=>{r.includes(v)||(a[v]={min:g})});const c={},l=[];for(const{Name:v,Material:g,Quantity:_}of us){if(o[v]={min:0},g.length===0)continue;const h={};g.forEach((m,u)=>{h[m]=-_[u]});const b=`Wilderness Wishing Spring - ${v}`;c[b]={[v]:1,...h,cost:0},l.includes(b)||l.push(b)}const i={};for(const v in e){const g=e[v],{count:_,cost:h,drops:b}=g;i[v]={cost:h};for(const m in b)i[v][m]=b[m]/_}const f={...o,...a};s.forEach(v=>{const{Material:g,Quantity:_}=v,h=_;h>0&&(f[g]?f[g]={min:f[g].min-h}:f[g]={min:-h})});const p=Object.assign({},c,i),y=cs({objective:"cost",direction:"minimize",constraints:f,variables:p,integers:l},{maxIterations:1048576,tolerance:.25});return y.status!=="optimal"&&(console.log(`%cStatus: ${y.status}`,"background-color: yellow; color: black;"),console.log("constraints: ",f),console.log("variables: ",p)),y}function ce(t){const e=zt().settings.activity;return Number((t/e).toFixed(1))}function Pa(t){var $,O;let e=0;const s=t.find(I=>I.stage==="Wilderness Wishing Spring");s&&s.materials.forEach(({Material:I,Quantity:P})=>{const E=us.find(F=>F.Name===I);E!=null&&E.Quantity.length&&(e+=(E==null?void 0:E.Quantity[(E==null?void 0:E.Quantity.length)-1])*P)});const o=Y().getNeededMaterialsQuantity("Sharpodonty")+e,a=Y().getNeededMaterialsQuantity("Dust");let r=0;const c=t.filter(I=>I.stage!=="The Poussiere VI"&&I.stage!=="Mintage Aesthetics VI");c.forEach(I=>{I.stage!=="Oneiric Shop"&&(r+=I.activity)});const l=zt().settings.activity,i=ce(r),f=(($=L().data.find(I=>I.Material==="Sharpodonty"))==null?void 0:$.Quantity)||0,p=((O=L().data.find(I=>I.Material==="Dust"))==null?void 0:O.Quantity)||0,d=ts().settings.wildernessOutput,S=Math.max(o-d.gold*i-f,0),y=Math.max(a-d.dust*i-p,0),v={"The Poussiere VI":{Dust:12e3+Number((d.dust*25/l).toFixed(1)),Sharpodonty:250+Number((d.gold*25/l).toFixed(1)),Cost:25},"Mintage Aesthetics VI":{Dust:0+Number((d.dust*25/l).toFixed(1)),Sharpodonty:9e3+Number((d.gold*25/l).toFixed(1)),Cost:25}},h=cs({objective:"Cost",direction:"minimize",constraints:{Sharpodonty:{min:S},Dust:{min:y}},variables:v,integers:!0});let b=0,m=0;h.variables.forEach(([I,P])=>{I==="Mintage Aesthetics VI"?b=P:m=P});const u={stage:"Mintage Aesthetics VI",activityImagePath:"images/items/common/0.png",runs:b,activity:25*b,days:ce(25*b),materials:[{Material:"Sharpodonty",Quantity:9e3*b}]},D={stage:"The Poussiere VI",activityImagePath:"images/items/common/0.png",runs:m,activity:25*m,days:ce(25*m),materials:[{Material:"Dust",Quantity:12e3*m},{Material:"Sharpodonty",Quantity:250*m}]},x=[...c];return m>0&&x.push(D),b>0&&x.push(u),x}const ge=X().items,ja=X().formulas;function ds(){const{enableGreedyMethod:t,enabledUnreleasedStages:e}=Ot().settings,s=X();return t?s[e?"stages1_4_greedy":"stages_greedy"]||{}:s[e?"stages1_4":"stages"]||{}}function Qa(t){const e=ge.find(s=>s.Name===t.Material);if(e){const s=e.Rarity,o=t.Quantity;if(s===3)return o*40;if(s===4)return o*100;if(s===5)return o*250;if(s===6)return o*1500}return 0}function La(t,e){var a;if(t.Quantity<=0||((a=ge.find(r=>r.Name===t.Material))==null?void 0:a.Category)!=="Resonate Material")return;const o=hs("Oneiric Shop",e);o.materials.push(t),o.activity+=Qa(t)}function Ba(t){const e=L().data;return t.forEach(s=>{const o=e.find(a=>a.Category==="Resonate Material"&&a.Material===s.Material);o&&(s.Quantity-=o.Quantity)}),t}function Ta(t,e){let s=0;if(t.forEach(o=>{const a=ge.find(r=>r.Name===o.Material);(a==null?void 0:a.Category)!=="Resonate Material"||(a==null?void 0:a.Rarity)!==6||(s+=o.Quantity,o.Quantity=0)}),s>0){const o={Material:"Crystal Casket",Quantity:s};t.unshift(o)}Ba(t),t.forEach(o=>{La(o,e)})}function ps(t,e,s,o,a){return{stage:t,runs:e||0,activity:s||0,days:o||0,materials:a,activityImagePath:Xs(t)}}function hs(t,e){let s=e.find(o=>o.stage===t);return s||(s=ps(t,null,t==="Oneiric Shop"?0:null,null,[]),e.push(s)),s}function Ve(t,e){return t.sort((s,o)=>{if(s.stage==="Oneiric Shop")return-1;if(o.stage==="Oneiric Shop")return 1;const a=e[s.stage],r=e[o.stage];return a&&r?a.id-r.id:a?-1:r?1:0})}function Va(t){return t.sort((e,s)=>e.stage==="Unreleased (Placeholder)"?1:s.stage==="Unreleased (Placeholder)"?-1:s.runs-e.runs)}function Wa(t){const e=[],s=ds();Ta(t,e);const o=Ea(t);Ua(o.variables),o.variables.forEach(p=>{const d=s[p[0]];if(d){const S=Math.ceil(p[1]),y=Math.ceil(S*d.cost),v=Number((y/zt().settings.activity).toFixed(1));let g=Object.entries(d.drops).map(([h,b])=>{let m=b/d.count*S;return m=m%1>=.9?Math.ceil(m):Math.floor(m),{Material:h,Quantity:m}});g=g.filter(h=>h.Quantity>0);const _=ps(p[0],S,y,v,g);e.push(_)}else{const v={Material:p[0].split("-")[1].trim(),Quantity:p[1]};hs("Wilderness Wishing Spring",e).materials.push(v)}});const a=Pa(e),r=a.filter(p=>["The Poussiere VI","Mintage Aesthetics VI","Oneiric Shop"].includes(p.stage)&&p.materials.length>0),c=a.filter(p=>(p.stage.endsWith("II")||p.stage.endsWith("IV")||p.stage.endsWith("VI"))&&!r.some(d=>d.stage===p.stage)&&p.materials.length>0),l=a.filter(p=>!["Wilderness Wishing Spring",...r.map(d=>d.stage),...c.map(d=>d.stage)].includes(p.stage)&&p.materials.length>0),i=a.filter(p=>["Wilderness Wishing Spring"].includes(p.stage)&&p.materials.length>0);return[{id:0,cards:Ve(r,s)},{id:1,cards:Ve(c,s)},{id:2,cards:Va(l)},{id:3,cards:i}]}function qa(t){let e=0,s=0;return t.forEach(o=>{o.cards.forEach(a=>{a.days!==0&&(e+=a.activity,s+=parseFloat(a.days))})}),[e,s.toFixed(0)]}function Ua(t){const e={...Y().neededRawMaterialsMapping};t.filter(([s])=>s.startsWith("Wilderness Wishing Spring")).forEach(([s,o])=>{const a=s.split("-")[1].trim(),r=ja.find(c=>c.Name===a);r!=null&&r.Material.length&&(r==null||r.Material.forEach((c,l)=>{const i=r==null?void 0:r.Quantity[l];e[c]?e[c]+=i*o:e[c]=i*o}))}),Y().updateNeededMaterialsMapping(e)}const Fa={class:"pb-4"},za={class:"relative flex flex-col"},Ga={class:"relative"},Ha=["src"],Ya=["src"],Ka={class:"flex items-center justify-center font-bold w-20 mt-3"},Xa=["disabled"],Ja=nt({__name:"WarehouseItemEditor",props:{normalizedMaterial:{type:Object,required:!0},material:{type:Object,required:!0}},setup(t){var p;const e=L(),{data:s}=ne(e),o=t,a=R(()=>s.value.find(d=>d.Material===o.material.Material)),r=k(((p=a.value)==null?void 0:p.Quantity)||0),c=()=>{const d=Number(r.value);isNaN(d)||L().updateItem(o.material.Material,d)},l=R(()=>r.value>0),i=()=>{L().reduceItem(o.material.Material,1)},f=()=>{L().addItem(o.material.Material,1)};return Bt(()=>{var d;r.value=((d=a.value)==null?void 0:d.Quantity)||0}),(d,S)=>(w(),M("div",Fa,[n("div",za,[n("div",Ga,[n("img",{src:t.normalizedMaterial.borderImagePath,alt:"Border Image",class:"w-20 h-20 absolute"},null,8,Ha),n("img",{src:t.normalizedMaterial.itemImagePath,alt:"Material Image",class:"w-20 h-20"},null,8,Ya)]),tt(n("input",{"onUpdate:modelValue":S[0]||(S[0]=y=>r.value=y),onInput:c,type:"text",placeholder:"",class:"bg-slate-600 text-white w-14 input input-xs rounded-none text-center absolute right-3 bottom-6"},null,544),[[ae,r.value]]),n("div",Ka,[n("button",{class:"btn btn-ghost custom-gradient-gray-blue-light btn-xs w-7 text-base rounded-t-none rounded-r-none text-white",disabled:!l.value,onClick:i},"-",8,Xa),n("button",{class:"btn btn-ghost custom-gradient-gray-blue-light btn-xs w-7 text-base rounded-t-none rounded-l-none text-white",onClick:f},"+")])])]))}}),Za=It(Ja,[["__scopeId","data-v-ebe2bb1a"]]),tn={class:"relative inline-block"},en=["src"],sn=["src"],on={class:"absolute text-white bottom-4 right-3 bg-gray-700 rounded-tl px-1 py-px text-xs"},an=nt({__name:"MaterialFormulaItem",props:{material:{type:Object,required:!0}},setup(t){const e=L(),{data:s}=ne(e),o=t,a=R(()=>Gt(o.material)),r=R(()=>{var c;return((c=s.value.find(l=>l.Material===o.material.Material))==null?void 0:c.Quantity)||0});return(c,l)=>(w(),M("div",tn,[n("img",{src:a.value.borderImagePath,alt:"Border Image",class:"w-20 h-20 absolute"},null,8,en),n("img",{src:a.value.itemImagePath,alt:"Material Image",class:"w-20 h-20"},null,8,sn),n("div",on,Q(r.value>=1e3?a.value.quantity:`${r.value}/${a.value.quantity}`),1)]))}}),nn=t=>(Ut("data-v-fb11925e"),t=t(),Ft(),t),rn={class:"flex flex-col bg-slate-300/10 rounded py-2"},ln=nn(()=>n("p",{class:"text-center text-white/95 text-sm opacity-80"},"Crafting Recipe",-1)),cn={class:"grid grid-cols-2 sm:flex flex-row m-auto"},un={class:"flex px-3 items-center justify-center gap-3"},dn=["disabled"],pn=["disabled"],hn=nt({__name:"MaterialCraftingRecipe",props:{normalizedMaterial:{type:Object,required:!0},material:{type:Object,required:!0},formula:{type:Object,required:!0}},setup(t){const e=L(),{data:s}=ne(e),o=t,a=()=>{if(o.formula){const i=o.formula;L().addItem(i.Name,1),i.Material.forEach((f,p)=>{const d=i.Quantity[p]||0;L().reduceItem(f,d)})}},r=R(()=>{var i,f;return(i=o.formula)!=null&&i.Material?!((f=o.formula)==null?void 0:f.Material.some((d,S)=>{var g,_;const y=((g=s.value.find(h=>h.Material===d))==null?void 0:g.Quantity)||0,v=(_=o.formula)==null?void 0:_.Quantity[S];return y<v})):!1}),c=()=>{if(o.formula){const i=o.formula;L().reduceItem(i.Name,1),i.Material.forEach((f,p)=>{const d=i.Quantity[p]||0;L().addItem(f,d)})}},l=R(()=>{var p;const i=o.material.Material;return(((p=s.value.find(d=>d.Material===i))==null?void 0:p.Quantity)||0)>0});return(i,f)=>{var p;return w(),M("div",rn,[ln,n("div",cn,[(w(!0),M(Z,null,ht((p=t.formula)==null?void 0:p.Material,(d,S)=>{var y;return w(),M("div",{key:S},[B(an,{material:{Material:d,Quantity:(y=t.formula)==null?void 0:y.Quantity[S]}},null,8,["material"])])}),128))]),n("div",un,[n("button",{class:"btn btn-ghost custom-gradient-gray-blue-light btn-xs font-bold text-white/95",onClick:a,disabled:!r.value},"Craft",8,dn),n("button",{class:"btn btn-ghost custom-gradient-gray-blue-light btn-xs font-bold text-white/95",onClick:c,disabled:!l.value},"Reverse",8,pn)])])}}}),fn=It(hn,[["__scopeId","data-v-fb11925e"]]);function he(t,e,s){var o,a,r,c,l;e==null&&(e=100);function i(){var p=Date.now()-c;p<e&&p>=0?o=setTimeout(i,e-p):(o=null,s||(l=t.apply(r,a),r=a=null))}var f=function(){r=this,a=arguments,c=Date.now();var p=s&&!o;return o||(o=setTimeout(i,e)),p&&(l=t.apply(r,a),r=a=null),l};return f.clear=function(){o&&(clearTimeout(o),o=null)},f.flush=function(){o&&(l=t.apply(r,a),r=a=null,clearTimeout(o),o=null)},f}he.debounce=he;var ue=he;function vn(t,e,s){js(t)?gt(t,(o,a)=>{a==null||a.removeEventListener(e,s),o==null||o.addEventListener(e,s)}):qt(()=>{t.addEventListener(e,s)}),ve(()=>{var o;(o=j(t))===null||o===void 0||o.removeEventListener(e,s)})}function yn(t,e){const s="pointerdown";return typeof window>"u"||!window?void 0:vn(window,s,a=>{const r=j(t);r&&(r===a.target||a.composedPath().includes(r)||e(a))})}function mn(t,e,s){let o=null;const a=k(!1);qt(()=>{(t.content!==void 0||s.value)&&(a.value=!0),o=new MutationObserver(r),o.observe(e.value,{childList:!0,subtree:!0})}),ve(()=>o.disconnect()),gt(s,c=>{c?a.value=!0:a.value=!1});const r=()=>{t.content?a.value=!0:a.value=!1};return{hasContent:a}}function Rt(t,e){var s=t.getBoundingClientRect(),o=1,a=1;return{width:s.width/o,height:s.height/a,top:s.top/a,right:s.right/o,bottom:s.bottom/a,left:s.left/o,x:s.left/o,y:s.top/a}}function yt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function be(t){var e=yt(t),s=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:s,scrollTop:o}}function Tt(t){var e=yt(t).Element;return t instanceof e||t instanceof Element}function ct(t){var e=yt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function fs(t){if(typeof ShadowRoot>"u")return!1;var e=yt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function gn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function bn(t){return t===yt(t)||!ct(t)?be(t):gn(t)}function bt(t){return t?(t.nodeName||"").toLowerCase():null}function Dt(t){return((Tt(t)?t.ownerDocument:t.document)||window.document).documentElement}function Se(t){return Rt(Dt(t)).left+be(t).scrollLeft}function _t(t){return yt(t).getComputedStyle(t)}function _e(t){var e=_t(t),s=e.overflow,o=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+o)}function Sn(t){var e=t.getBoundingClientRect(),s=e.width/t.offsetWidth||1,o=e.height/t.offsetHeight||1;return s!==1||o!==1}function _n(t,e,s){s===void 0&&(s=!1);var o=ct(e);ct(e)&&Sn(e);var a=Dt(e),r=Rt(t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!s)&&((bt(e)!=="body"||_e(a))&&(c=bn(e)),ct(e)?(l=Rt(e),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Se(a))),{x:r.left+c.scrollLeft-l.x,y:r.top+c.scrollTop-l.y,width:r.width,height:r.height}}function xe(t){var e=Rt(t),s=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-s)<=1&&(s=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:s,height:o}}function re(t){return bt(t)==="html"?t:t.assignedSlot||t.parentNode||(fs(t)?t.host:null)||Dt(t)}function vs(t){return["html","body","#document"].indexOf(bt(t))>=0?t.ownerDocument.body:ct(t)&&_e(t)?t:vs(re(t))}function Lt(t,e){var s;e===void 0&&(e=[]);var o=vs(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),r=yt(o),c=a?[r].concat(r.visualViewport||[],_e(o)?o:[]):o,l=e.concat(c);return a?l:l.concat(Lt(re(c)))}function xn(t){return["table","td","th"].indexOf(bt(t))>=0}function We(t){return!ct(t)||_t(t).position==="fixed"?null:t.offsetParent}function Dn(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,s=navigator.userAgent.indexOf("Trident")!==-1;if(s&&ct(t)){var o=_t(t);if(o.position==="fixed")return null}for(var a=re(t);ct(a)&&["html","body"].indexOf(bt(a))<0;){var r=_t(a);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return a;a=a.parentNode}return null}function Ht(t){for(var e=yt(t),s=We(t);s&&xn(s)&&_t(s).position==="static";)s=We(s);return s&&(bt(s)==="html"||bt(s)==="body"&&_t(s).position==="static")?e:s||Dn(t)||e}var ut="top",ft="bottom",vt="right",dt="left",De="auto",Yt=[ut,ft,vt,dt],Nt="start",Vt="end",wn="clippingParents",ys="viewport",jt="popper",$n="reference",qe=Yt.reduce(function(t,e){return t.concat([e+"-"+Nt,e+"-"+Vt])},[]),ms=[].concat(Yt,[De]).reduce(function(t,e){return t.concat([e,e+"-"+Nt,e+"-"+Vt])},[]),Mn="beforeRead",kn="read",In="afterRead",An="beforeMain",Cn="main",On="afterMain",Rn="beforeWrite",Nn="write",En="afterWrite",Pn=[Mn,kn,In,An,Cn,On,Rn,Nn,En];function jn(t){var e=new Map,s=new Set,o=[];t.forEach(function(r){e.set(r.name,r)});function a(r){s.add(r.name);var c=[].concat(r.requires||[],r.requiresIfExists||[]);c.forEach(function(l){if(!s.has(l)){var i=e.get(l);i&&a(i)}}),o.push(r)}return t.forEach(function(r){s.has(r.name)||a(r)}),o}function Qn(t){var e=jn(t);return Pn.reduce(function(s,o){return s.concat(e.filter(function(a){return a.phase===o}))},[])}function Ln(t){var e;return function(){return e||(e=new Promise(function(s){Promise.resolve().then(function(){e=void 0,s(t())})})),e}}function mt(t){return t.split("-")[0]}function Bn(t){var e=t.reduce(function(s,o){var a=s[o.name];return s[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,s},{});return Object.keys(e).map(function(s){return e[s]})}function Tn(t){var e=yt(t),s=Dt(t),o=e.visualViewport,a=s.clientWidth,r=s.clientHeight,c=0,l=0;return o&&(a=o.width,r=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=o.offsetLeft,l=o.offsetTop)),{width:a,height:r,x:c+Se(t),y:l}}var xt=Math.max,Wt=Math.min,Zt=Math.round;function Vn(t){var e,s=Dt(t),o=be(t),a=(e=t.ownerDocument)==null?void 0:e.body,r=xt(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=xt(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-o.scrollLeft+Se(t),i=-o.scrollTop;return _t(a||s).direction==="rtl"&&(l+=xt(s.clientWidth,a?a.clientWidth:0)-r),{width:r,height:c,x:l,y:i}}function gs(t,e){var s=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(s&&fs(s)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function fe(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Wn(t){var e=Rt(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Ue(t,e){return e===ys?fe(Tn(t)):ct(e)?Wn(e):fe(Vn(Dt(t)))}function qn(t){var e=Lt(re(t)),s=["absolute","fixed"].indexOf(_t(t).position)>=0,o=s&&ct(t)?Ht(t):t;return Tt(o)?e.filter(function(a){return Tt(a)&&gs(a,o)&&bt(a)!=="body"}):[]}function Un(t,e,s){var o=e==="clippingParents"?qn(t):[].concat(e),a=[].concat(o,[s]),r=a[0],c=a.reduce(function(l,i){var f=Ue(t,i);return l.top=xt(f.top,l.top),l.right=Wt(f.right,l.right),l.bottom=Wt(f.bottom,l.bottom),l.left=xt(f.left,l.left),l},Ue(t,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Et(t){return t.split("-")[1]}function we(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function bs(t){var e=t.reference,s=t.element,o=t.placement,a=o?mt(o):null,r=o?Et(o):null,c=e.x+e.width/2-s.width/2,l=e.y+e.height/2-s.height/2,i;switch(a){case ut:i={x:c,y:e.y-s.height};break;case ft:i={x:c,y:e.y+e.height};break;case vt:i={x:e.x+e.width,y:l};break;case dt:i={x:e.x-s.width,y:l};break;default:i={x:e.x,y:e.y}}var f=a?we(a):null;if(f!=null){var p=f==="y"?"height":"width";switch(r){case Nt:i[f]=i[f]-(e[p]/2-s[p]/2);break;case Vt:i[f]=i[f]+(e[p]/2-s[p]/2);break}}return i}function Ss(){return{top:0,right:0,bottom:0,left:0}}function _s(t){return Object.assign({},Ss(),t)}function xs(t,e){return e.reduce(function(s,o){return s[o]=t,s},{})}function $e(t,e){e===void 0&&(e={});var s=e,o=s.placement,a=o===void 0?t.placement:o,r=s.boundary,c=r===void 0?wn:r,l=s.rootBoundary,i=l===void 0?ys:l,f=s.elementContext,p=f===void 0?jt:f,d=s.altBoundary,S=d===void 0?!1:d,y=s.padding,v=y===void 0?0:y,g=_s(typeof v!="number"?v:xs(v,Yt)),_=p===jt?$n:jt,h=t.rects.popper,b=t.elements[S?_:p],m=Un(Tt(b)?b:b.contextElement||Dt(t.elements.popper),c,i),u=Rt(t.elements.reference),D=bs({reference:u,element:h,strategy:"absolute",placement:a}),x=fe(Object.assign({},h,D)),$=p===jt?x:u,O={top:m.top-$.top+g.top,bottom:$.bottom-m.bottom+g.bottom,left:m.left-$.left+g.left,right:$.right-m.right+g.right},I=t.modifiersData.offset;if(p===jt&&I){var P=I[a];Object.keys(O).forEach(function(E){var F=[vt,ft].indexOf(E)>=0?1:-1,V=[ut,ft].indexOf(E)>=0?"y":"x";O[E]+=P[V]*F})}return O}var Fe={placement:"bottom",modifiers:[],strategy:"absolute"};function ze(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Fn(t){t===void 0&&(t={});var e=t,s=e.defaultModifiers,o=s===void 0?[]:s,a=e.defaultOptions,r=a===void 0?Fe:a;return function(l,i,f){f===void 0&&(f=r);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fe,r),modifiersData:{},elements:{reference:l,popper:i},attributes:{},styles:{}},d=[],S=!1,y={state:p,setOptions:function(h){var b=typeof h=="function"?h(p.options):h;g(),p.options=Object.assign({},r,p.options,b),p.scrollParents={reference:Tt(l)?Lt(l):l.contextElement?Lt(l.contextElement):[],popper:Lt(i)};var m=Qn(Bn([].concat(o,p.options.modifiers)));return p.orderedModifiers=m.filter(function(u){return u.enabled}),v(),y.update()},forceUpdate:function(){if(!S){var h=p.elements,b=h.reference,m=h.popper;if(ze(b,m)){p.rects={reference:_n(b,Ht(m),p.options.strategy==="fixed"),popper:xe(m)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(P){return p.modifiersData[P.name]=Object.assign({},P.data)});for(var u=0;u<p.orderedModifiers.length;u++){if(p.reset===!0){p.reset=!1,u=-1;continue}var D=p.orderedModifiers[u],x=D.fn,$=D.options,O=$===void 0?{}:$,I=D.name;typeof x=="function"&&(p=x({state:p,options:O,name:I,instance:y})||p)}}}},update:Ln(function(){return new Promise(function(_){y.forceUpdate(),_(p)})}),destroy:function(){g(),S=!0}};if(!ze(l,i))return y;y.setOptions(f).then(function(_){!S&&f.onFirstUpdate&&f.onFirstUpdate(_)});function v(){p.orderedModifiers.forEach(function(_){var h=_.name,b=_.options,m=b===void 0?{}:b,u=_.effect;if(typeof u=="function"){var D=u({state:p,name:h,instance:y,options:m}),x=function(){};d.push(D||x)}})}function g(){d.forEach(function(_){return _()}),d=[]}return y}}var te={passive:!0};function zn(t){var e=t.state,s=t.instance,o=t.options,a=o.scroll,r=a===void 0?!0:a,c=o.resize,l=c===void 0?!0:c,i=yt(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&f.forEach(function(p){p.addEventListener("scroll",s.update,te)}),l&&i.addEventListener("resize",s.update,te),function(){r&&f.forEach(function(p){p.removeEventListener("scroll",s.update,te)}),l&&i.removeEventListener("resize",s.update,te)}}var Gn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zn,data:{}};function Hn(t){var e=t.state,s=t.name;e.modifiersData[s]=bs({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Yn={name:"popperOffsets",enabled:!0,phase:"read",fn:Hn,data:{}},Kn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xn(t){var e=t.x,s=t.y,o=window,a=o.devicePixelRatio||1;return{x:Zt(Zt(e*a)/a)||0,y:Zt(Zt(s*a)/a)||0}}function Ge(t){var e,s=t.popper,o=t.popperRect,a=t.placement,r=t.variation,c=t.offsets,l=t.position,i=t.gpuAcceleration,f=t.adaptive,p=t.roundOffsets,d=p===!0?Xn(c):typeof p=="function"?p(c):c,S=d.x,y=S===void 0?0:S,v=d.y,g=v===void 0?0:v,_=c.hasOwnProperty("x"),h=c.hasOwnProperty("y"),b=dt,m=ut,u=window;if(f){var D=Ht(s),x="clientHeight",$="clientWidth";D===yt(s)&&(D=Dt(s),_t(D).position!=="static"&&l==="absolute"&&(x="scrollHeight",$="scrollWidth")),D=D,(a===ut||(a===dt||a===vt)&&r===Vt)&&(m=ft,g-=D[x]-o.height,g*=i?1:-1),(a===dt||(a===ut||a===ft)&&r===Vt)&&(b=vt,y-=D[$]-o.width,y*=i?1:-1)}var O=Object.assign({position:l},f&&Kn);if(i){var I;return Object.assign({},O,(I={},I[m]=h?"0":"",I[b]=_?"0":"",I.transform=(u.devicePixelRatio||1)<=1?"translate("+y+"px, "+g+"px)":"translate3d("+y+"px, "+g+"px, 0)",I))}return Object.assign({},O,(e={},e[m]=h?g+"px":"",e[b]=_?y+"px":"",e.transform="",e))}function Jn(t){var e=t.state,s=t.options,o=s.gpuAcceleration,a=o===void 0?!0:o,r=s.adaptive,c=r===void 0?!0:r,l=s.roundOffsets,i=l===void 0?!0:l,f={placement:mt(e.placement),variation:Et(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ge(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:i})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ge(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Zn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jn,data:{}};function tr(t){var e=t.state;Object.keys(e.elements).forEach(function(s){var o=e.styles[s]||{},a=e.attributes[s]||{},r=e.elements[s];!ct(r)||!bt(r)||(Object.assign(r.style,o),Object.keys(a).forEach(function(c){var l=a[c];l===!1?r.removeAttribute(c):r.setAttribute(c,l===!0?"":l)}))})}function er(t){var e=t.state,s={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,s.popper),e.styles=s,e.elements.arrow&&Object.assign(e.elements.arrow.style,s.arrow),function(){Object.keys(e.elements).forEach(function(o){var a=e.elements[o],r=e.attributes[o]||{},c=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:s[o]),l=c.reduce(function(i,f){return i[f]="",i},{});!ct(a)||!bt(a)||(Object.assign(a.style,l),Object.keys(r).forEach(function(i){a.removeAttribute(i)}))})}}var sr={name:"applyStyles",enabled:!0,phase:"write",fn:tr,effect:er,requires:["computeStyles"]},or=[Gn,Yn,Zn,sr],ar=Fn({defaultModifiers:or});function nr(t){return t==="x"?"y":"x"}function se(t,e,s){return xt(t,Wt(e,s))}function rr(t){var e=t.state,s=t.options,o=t.name,a=s.mainAxis,r=a===void 0?!0:a,c=s.altAxis,l=c===void 0?!1:c,i=s.boundary,f=s.rootBoundary,p=s.altBoundary,d=s.padding,S=s.tether,y=S===void 0?!0:S,v=s.tetherOffset,g=v===void 0?0:v,_=$e(e,{boundary:i,rootBoundary:f,padding:d,altBoundary:p}),h=mt(e.placement),b=Et(e.placement),m=!b,u=we(h),D=nr(u),x=e.modifiersData.popperOffsets,$=e.rects.reference,O=e.rects.popper,I=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,P={x:0,y:0};if(x){if(r||l){var E=u==="y"?ut:dt,F=u==="y"?ft:vt,V=u==="y"?"height":"width",G=x[u],z=x[u]+_[E],A=x[u]-_[F],C=y?-O[V]/2:0,N=b===Nt?$[V]:O[V],U=b===Nt?-O[V]:-$[V],W=e.elements.arrow,H=y&&W?xe(W):{width:0,height:0},it=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ss(),lt=it[E],pt=it[F],st=se(0,$[V],H[V]),T=m?$[V]/2-C-st-lt-I:N-st-lt-I,$t=m?-$[V]/2+C+st+pt+I:U+st+pt+I,St=e.elements.arrow&&Ht(e.elements.arrow),ie=St?u==="y"?St.clientTop||0:St.clientLeft||0:0,Ie=e.modifiersData.offset?e.modifiersData.offset[e.placement][u]:0,Ae=x[u]+T-Ie-ie,Ce=x[u]+$t-Ie;if(r){var Oe=se(y?Wt(z,Ae):z,G,y?xt(A,Ce):A);x[u]=Oe,P[u]=Oe-G}if(l){var $s=u==="x"?ut:dt,Ms=u==="x"?ft:vt,Xt=x[D],Re=Xt+_[$s],Ne=Xt-_[Ms],Ee=se(y?Wt(Re,Ae):Re,Xt,y?xt(Ne,Ce):Ne);x[D]=Ee,P[D]=Ee-Xt}}e.modifiersData[o]=P}}var ir={name:"preventOverflow",enabled:!0,phase:"main",fn:rr,requiresIfExists:["offset"]},lr={left:"right",right:"left",bottom:"top",top:"bottom"};function oe(t){return t.replace(/left|right|bottom|top/g,function(e){return lr[e]})}var cr={start:"end",end:"start"};function He(t){return t.replace(/start|end/g,function(e){return cr[e]})}function ur(t,e){e===void 0&&(e={});var s=e,o=s.placement,a=s.boundary,r=s.rootBoundary,c=s.padding,l=s.flipVariations,i=s.allowedAutoPlacements,f=i===void 0?ms:i,p=Et(o),d=p?l?qe:qe.filter(function(v){return Et(v)===p}):Yt,S=d.filter(function(v){return f.indexOf(v)>=0});S.length===0&&(S=d);var y=S.reduce(function(v,g){return v[g]=$e(t,{placement:g,boundary:a,rootBoundary:r,padding:c})[mt(g)],v},{});return Object.keys(y).sort(function(v,g){return y[v]-y[g]})}function dr(t){if(mt(t)===De)return[];var e=oe(t);return[He(t),e,He(e)]}function pr(t){var e=t.state,s=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var a=s.mainAxis,r=a===void 0?!0:a,c=s.altAxis,l=c===void 0?!0:c,i=s.fallbackPlacements,f=s.padding,p=s.boundary,d=s.rootBoundary,S=s.altBoundary,y=s.flipVariations,v=y===void 0?!0:y,g=s.allowedAutoPlacements,_=e.options.placement,h=mt(_),b=h===_,m=i||(b||!v?[oe(_)]:dr(_)),u=[_].concat(m).reduce(function(pt,st){return pt.concat(mt(st)===De?ur(e,{placement:st,boundary:p,rootBoundary:d,padding:f,flipVariations:v,allowedAutoPlacements:g}):st)},[]),D=e.rects.reference,x=e.rects.popper,$=new Map,O=!0,I=u[0],P=0;P<u.length;P++){var E=u[P],F=mt(E),V=Et(E)===Nt,G=[ut,ft].indexOf(F)>=0,z=G?"width":"height",A=$e(e,{placement:E,boundary:p,rootBoundary:d,altBoundary:S,padding:f}),C=G?V?vt:dt:V?ft:ut;D[z]>x[z]&&(C=oe(C));var N=oe(C),U=[];if(r&&U.push(A[F]<=0),l&&U.push(A[C]<=0,A[N]<=0),U.every(function(pt){return pt})){I=E,O=!1;break}$.set(E,U)}if(O)for(var W=v?3:1,H=function(st){var T=u.find(function($t){var St=$.get($t);if(St)return St.slice(0,st).every(function(ie){return ie})});if(T)return I=T,"break"},it=W;it>0;it--){var lt=H(it);if(lt==="break")break}e.placement!==I&&(e.modifiersData[o]._skip=!0,e.placement=I,e.reset=!0)}}var hr={name:"flip",enabled:!0,phase:"main",fn:pr,requiresIfExists:["offset"],data:{_skip:!1}};function fr(t,e,s){var o=mt(t),a=[dt,ut].indexOf(o)>=0?-1:1,r=typeof s=="function"?s(Object.assign({},e,{placement:t})):s,c=r[0],l=r[1];return c=c||0,l=(l||0)*a,[dt,vt].indexOf(o)>=0?{x:l,y:c}:{x:c,y:l}}function vr(t){var e=t.state,s=t.options,o=t.name,a=s.offset,r=a===void 0?[0,0]:a,c=ms.reduce(function(p,d){return p[d]=fr(d,e.rects,r),p},{}),l=c[e.placement],i=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=i,e.modifiersData.popperOffsets.y+=f),e.modifiersData[o]=c}var yr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vr},mr=function(e,s){return e=typeof e=="function"?e(Object.assign({},s.rects,{placement:s.placement})):e,_s(typeof e!="number"?e:xs(e,Yt))};function gr(t){var e,s=t.state,o=t.name,a=t.options,r=s.elements.arrow,c=s.modifiersData.popperOffsets,l=mt(s.placement),i=we(l),f=[dt,vt].indexOf(l)>=0,p=f?"height":"width";if(!(!r||!c)){var d=mr(a.padding,s),S=xe(r),y=i==="y"?ut:dt,v=i==="y"?ft:vt,g=s.rects.reference[p]+s.rects.reference[i]-c[i]-s.rects.popper[p],_=c[i]-s.rects.reference[i],h=Ht(r),b=h?i==="y"?h.clientHeight||0:h.clientWidth||0:0,m=g/2-_/2,u=d[y],D=b-S[p]-d[v],x=b/2-S[p]/2+m,$=se(u,x,D),O=i;s.modifiersData[o]=(e={},e[O]=$,e.centerOffset=$-x,e)}}function br(t){var e=t.state,s=t.options,o=s.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||gs(e.elements.popper,a)&&(e.elements.arrow=a))}var Sr={name:"arrow",enabled:!0,phase:"main",fn:gr,effect:br,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};const de=t=>parseInt(t,10);function _r({arrowPadding:t,emit:e,locked:s,offsetDistance:o,offsetSkid:a,placement:r,popperNode:c,triggerNode:l}){const i=Es({isOpen:!1,popperInstance:null}),f=g=>{var _;(_=i.popperInstance)===null||_===void 0||_.setOptions(h=>({...h,modifiers:[...h.modifiers,{name:"eventListeners",enabled:g}]}))},p=()=>f(!0),d=()=>f(!1),S=()=>{i.isOpen&&(i.isOpen=!1,e("close:popper"))},y=()=>{i.isOpen||(i.isOpen=!0,e("open:popper"))};gt([()=>i.isOpen,r],async([g])=>{g?(await v(),p()):d()});const v=async()=>{await Ps(),i.popperInstance=ar(l.value,c.value,{placement:r.value,modifiers:[ir,hr,{name:"flip",enabled:!s.value},Sr,{name:"arrow",options:{padding:de(t.value)}},yr,{name:"offset",options:{offset:[de(a.value),de(o.value)]}}]}),i.popperInstance.update()};return ve(()=>{var g;(g=i.popperInstance)===null||g===void 0||g.destroy()}),{...Xe(i),open:y,close:S}}const xr={id:"arrow","data-popper-arrow":""};function Dr(t,e){return w(),M("div",xr)}function Ds(t,e){e===void 0&&(e={});var s=e.insertAt;if(!(!t||typeof document>"u")){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s==="top"&&o.firstChild?o.insertBefore(a,o.firstChild):o.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var wr=`
#arrow[data-v-20b7fd4a],
  #arrow[data-v-20b7fd4a]::before {
    transition: background 250ms ease-in-out;
    position: absolute;
    width: calc(10px - var(--popper-theme-border-width, 0px));
    height: calc(10px - var(--popper-theme-border-width, 0px));
    box-sizing: border-box;
    background: var(--popper-theme-background-color);
}
#arrow[data-v-20b7fd4a] {
    visibility: hidden;
}
#arrow[data-v-20b7fd4a]::before {
    visibility: visible;
    content: "";
    transform: rotate(45deg);
}

  /* Top arrow */
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a] {
    bottom: -5px;
}
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-bottom: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Bottom arrow */
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a] {
    top: -5px;
}
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a]::before {
    border-left: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Left arrow */
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a] {
    right: -5px;
}
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Right arrow */
.popper[data-popper-placement^="right"] > #arrow[data-v-20b7fd4a] {
    left: -5px;
}
`;Ds(wr);const Me={};Me.render=Dr;Me.__scopeId="data-v-20b7fd4a";var $r=Me;const Mr=["onKeyup"];var ws={props:{placement:{type:String,default:"bottom",validator:function(t){return["auto","auto-start","auto-end","top","top-start","top-end","bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end"].includes(t)}},disableClickAway:{type:Boolean,default:!1},offsetSkid:{type:String,default:"0"},offsetDistance:{type:String,default:"12"},hover:{type:Boolean,default:!1},show:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:9999},arrow:{type:Boolean,default:!1},arrowPadding:{type:String,default:"0"},interactive:{type:Boolean,default:!0},locked:{type:Boolean,default:!1},content:{type:String,default:null}},emits:["open:popper","close:popper"],setup(t,{emit:e}){const s=t;As(N=>({c81fc0a4:t.zIndex}));const o=Cs(),a=k(null),r=k(null),c=k(null),l=k(!1);qt(()=>{const N=o.default();if(N&&N.length>1)return console.error(`[Popper]: The <Popper> component expects only one child element at its root. You passed ${N.length} child nodes.`)});const{arrowPadding:i,closeDelay:f,content:p,disableClickAway:d,disabled:S,interactive:y,locked:v,offsetDistance:g,offsetSkid:_,openDelay:h,placement:b,show:m}=Xe(s),{isOpen:u,open:D,close:x}=_r({arrowPadding:i,emit:e,locked:v,offsetDistance:g,offsetSkid:_,placement:b,popperNode:r,triggerNode:c}),{hasContent:$}=mn(o,r,p),O=R(()=>m.value!==null),I=R(()=>S.value||!$.value),P=R(()=>u.value&&!I.value),E=R(()=>!d.value&&!O.value),F=R(()=>y.value?`border: ${g.value}px solid transparent; margin: -${g.value}px;`:null),V=ue.debounce(D,h.value),G=ue.debounce(x,f.value),z=async()=>{I.value||O.value||(G.clear(),V())},A=async()=>{O.value||(V.clear(),G())},C=()=>{u.value?A():z()};return gt([$,S],([N,U])=>{u.value&&(!N||U)&&x()}),gt(u,N=>{N?l.value=!0:ue.debounce(()=>{l.value=!1},200)}),Bt(()=>{O.value&&(m.value?V():G())}),Bt(()=>{E.value&&yn(a,A)}),(N,U)=>(w(),M("div",{class:"inline-block",style:Ns(j(F)),onMouseleave:U[2]||(U[2]=W=>t.hover&&A()),ref:(W,H)=>{H.popperContainerNode=W,a.value=W}},[n("div",{ref:(W,H)=>{H.triggerNode=W,c.value=W},onMouseover:U[0]||(U[0]=W=>t.hover&&z()),onClick:C,onFocus:z,onKeyup:Os(A,["esc"])},[Pe(N.$slots,"default")],40,Mr),B(Rs,{name:"fade"},{default:pe(()=>[tt(n("div",{onClick:U[1]||(U[1]=W=>!j(y)&&A()),class:"popper",ref:(W,H)=>{H.popperNode=W,r.value=W}},[Pe(N.$slots,"content",{close:j(x),isOpen:l.value},()=>[q(Q(j(p)),1)]),t.arrow?(w(),J($r,{key:0})):K("",!0)],512),[[ee,j(P)]])]),_:3})],36))}},kr=`
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.popper[data-v-5784ed69] {
    transition: background 250ms ease-in-out;
    background: var(--popper-theme-background-color);
    padding: var(--popper-theme-padding);
    color: var(--popper-theme-text-color);
    border-radius: var(--popper-theme-border-radius);
    border-width: var(--popper-theme-border-width);
    border-style: var(--popper-theme-border-style);
    border-color: var(--popper-theme-border-color);
    box-shadow: var(--popper-theme-box-shadow);
    z-index: var(--c81fc0a4);
}
.popper[data-v-5784ed69]:hover,
  .popper:hover > #arrow[data-v-5784ed69]::before {
    background: var(--popper-theme-background-color-hover);
}
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.fade-enter-active[data-v-5784ed69],
  .fade-leave-active[data-v-5784ed69] {
    transition: opacity 0.2s ease;
}
.fade-enter-from[data-v-5784ed69],
  .fade-leave-to[data-v-5784ed69] {
    opacity: 0;
}
`;Ds(kr);ws.__scopeId="data-v-5784ed69";var Ir=(()=>{const t=ws;return t.install=e=>{e.component("Popper",t)},t})();const Ar={class:"relative inline-block"},Cr=["src"],Or=["src"],Rr={class:"absolute text-white bottom-4 right-3 bg-gray-700 rounded-tl px-1 py-px text-xs cursor-default"},Nr={class:"flex items-center justify-center flex-col"},Er={key:0,class:"text-center text-slate-300 text-sm opacity-80"},Pr={class:"text-white"},jr={key:1,class:"text-center text-slate-300 text-sm opacity-80"},Qr={class:"text-white"},Lr={class:"text-center text-slate-300 text-sm opacity-80"},Br={class:"text-white"},Tr={key:2,class:"text-center text-slate-300 text-sm opacity-80"},Vr={class:"text-white"},Wr={class:"flex pt-2 justify-center items-center"},Ye=nt({__name:"MaterialItem",props:{material:{type:Object,required:!0},layerId:{type:Number,required:!0}},setup(t){var m;const e=t,s=k(e.material.Quantity),o=R(()=>Gt(e.material)),a=X().items,r=L(),{data:c}=ne(r),l=R(()=>a.find(u=>u.Name===e.material.Material)),i=R(()=>c.value.find(u=>u.Material===e.material.Material)),f=R(()=>{if(e.material.Material==="Crystal Casket"){let D=0;return X().items.filter(x=>x.Category==="Resonate Material"&&x.Rarity===6).forEach(x=>{D+=Y().getNeededRawMaterialsQuantity(x.Name)}),D}return Y().getNeededRawMaterialsQuantity(o.value.material)}),p=R(()=>e.material.Material==="Crystal Casket"?f.value:Y().getNeededMaterialsQuantity(o.value.material)),d=R(()=>Math.max(p.value-f.value,0)),S=R(()=>{var u;return(((u=i.value)==null?void 0:u.Quantity)||0)>=p.value}),y=R(()=>X().formulas.find(u=>u.Name===e.material.Material));gt(()=>e.material,u=>{s.value=u.Quantity});const v=k(i.value?(m=i.value)==null?void 0:m.Quantity:0),g=k(0);gt(i,u=>{if(Y().isEditingMaterial===e.material.Material){const D=u?u.Quantity:0;g.value=D-v.value}});const _=()=>{var u;v.value=i.value?(u=i.value)==null?void 0:u.Quantity:0,g.value=0,Y().setIsEditingWarehouse(!0),Y().setIsEditingMaterial(e.material.Material)},h=()=>{var u;Y().setIsEditingWarehouse(!1),Y().setIsEditingMaterial(),v.value=i.value?(u=i.value)==null?void 0:u.Quantity:0,g.value=0},b=R(()=>{var u,D;return((u=l.value)==null?void 0:u.Category)==="Build Material"&&((D=l.value)==null?void 0:D.Rarity)<6});return(u,D)=>(w(),J(j(Ir),{arrow:"",placement:"top",offsetDistance:"2","onOpen:popper":_,"onClose:popper":h},{content:pe(()=>{var x;return[n("div",Nr,[e.layerId===1||e.layerId===2?(w(),M("p",Er,[n("span",Pr,Q(e.material.Quantity),1),q(" expected to drop ")])):K("",!0),e.layerId===3?(w(),M("p",jr,[n("span",Qr,Q(Math.max(e.material.Quantity-g.value,0)),1),q(" expected to be crafted ")])):K("",!0),n("p",Lr,[n("span",Br,Q(p.value),1),q(" needed to complete the goal ")]),(b.value||e.material.Material==="Sharpodonty")&&d.value>0?(w(),M("p",Tr,[q(" (with "),n("span",Vr,Q(d.value),1),q(" used in crafting) ")])):K("",!0),n("div",Wr,[B(Za,{material:t.material,normalizedMaterial:o.value},null,8,["material","normalizedMaterial"]),(x=y.value)!=null&&x.Material.length?(w(),J(fn,{key:0,material:t.material,normalizedMaterial:o.value,formula:y.value},null,8,["material","normalizedMaterial","formula"])):K("",!0)])])]}),default:pe(()=>[n("div",{class:et(["cursor-pointer",S.value?"opacity-40":""])},[n("div",Ar,[n("img",{src:o.value.borderImagePath,alt:"Border Image",class:"w-20 h-20 absolute"},null,8,Cr),n("img",{src:o.value.itemImagePath,alt:"Material Image",class:"w-20 h-20"},null,8,Or),n("div",Rr,Q(o.value.quantity),1)])],2)]),_:1}))}}),ke=t=>(Ut("data-v-263d70d4"),t=t(),Ft(),t),qr={class:"bg-gray-700/40 shadow rounded flex flex-col items-center justify-between relative"},Ur={class:"stage text-white p-2"},Fr=["data-tip"],zr={class:"calculations flex justify-center items-center bg-gradient-to-r from-blue-800/70 to-blue-900/90 text-white p-2 rounded-md"},Gr={key:0,class:"border-blue-700/90 border-r pr-3"},Hr=ke(()=>n("i",{class:"fa-solid fa-xmark text-xs mr-0.5"},null,-1)),Yr={key:1},Kr={key:2,class:"pl-2"},Xr={key:3},Jr=ke(()=>n("span",{class:"border-blue-700/90 border-r pr-3"},"Crafted from available Materials",-1)),Zr=ke(()=>n("span",{class:"pl-3"},"List includes dependencies",-1)),ti=[Jr,Zr],ei=["src"],si={class:"border-blue-700/90 border-l pl-3"},oi=nt({__name:"PlannerCard",props:{card:{type:Object,required:!0},layerId:{type:Number,required:!0}},setup(t){const e=t,s=R(()=>e.card.materials.length<4),o=k(null);gt(s,r=>{r&&o.value&&(o.value.scrollLeft=0)});const a=R(()=>{if(!(e.layerId===3||e.card.stage==="Unreleased (Placeholder)"))return e.card.stage==="Oneiric Shop"?"Number of Oneiric Fluid":"Number of Runs | Activities | Days"});return(r,c)=>(w(),M("div",qr,[n("div",Ur,[n("p",null,Q(t.card.stage),1)]),n("div",{class:"tooltip w-full","data-tip":a.value},[n("div",zr,[t.card.stage!=="Unreleased (Placeholder)"?(w(),M("p",Gr,[tt(n("span",null,[Hr,q(Q(t.card.runs),1)],512),[[ee,t.card.runs>0]])])):(w(),M("p",Yr," Available after 1.4 version update ")),t.card.activity!==0?(w(),M("p",Kr,Q(t.card.activity),1)):t.layerId===3?(w(),M("p",Xr,ti)):K("",!0),tt(n("img",{src:t.card.activityImagePath,alt:"Activity Image",class:"inline-block w-8 h-8"},null,8,ei),[[ee,t.card.activity]]),n("p",si,[tt(n("span",null,Q(t.card.days)+" "+Q(t.card.days===0?"":t.card.days>1?"days":"day"),513),[[ee,t.card.days>0]])])])],8,Fr),t.card.stage==="Unreleased (Placeholder)"?(w(),M("div",{key:0,ref_key:"scrollDiv",ref:o,class:et([{"hidden-scrollbar":s.value},"flex overflow-y-hidden overflow-x-auto scrollbar m-auto"])},[(w(!0),M(Z,null,ht(t.card.materials.filter(l=>j(Y)().neededRawMaterialsMapping[l.Material]>0),(l,i)=>(w(),M("div",{key:i,class:"flex-shrink-0"},[B(Ye,{material:{...l,Quantity:0},layerId:t.layerId},null,8,["material","layerId"])]))),128))],2)):(w(),M("div",{key:1,ref_key:"scrollDiv",ref:o,class:et([{"hidden-scrollbar":s.value},"flex overflow-y-hidden overflow-x-auto scrollbar m-auto"])},[(w(!0),M(Z,null,ht(t.card.materials,(l,i)=>(w(),M("div",{key:i,class:"flex-shrink-0"},[B(Ye,{material:l,layerId:t.layerId},null,8,["material","layerId"])]))),128))],2))]))}}),ai=It(oi,[["__scopeId","data-v-263d70d4"]]),ni={class:"w-full mb-4 flex flex-col"},ri=nt({__name:"PlannerLayer",props:{layer:{type:Object,required:!0}},setup(t){const e=t,s=R(()=>e.layer.cards&&e.layer.cards.length>0),o=R(()=>{switch(e.layer.id){case 0:return"yellow-badge";case 1:return"indigo-badge";case 2:return"purple-badge";case 3:return"green-badge";default:return"red-badge"}}),a=R(()=>{switch(e.layer.id){case 0:return"Resources";case 1:return"Insight";case 2:return"Hard Stages";case 3:return"Crafting";default:return"Undefined"}}),r=R(()=>{switch(e.layer.id){case 2:return"mb-2 gap-5 grid grid-cols-1 lg:grid-cols-2";case 3:return"mb-2 gap-5 grid grid-cols-1";default:return"mb-2 gap-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4"}});return(c,l)=>(w(),M("div",ni,[s.value?(w(),M("div",{key:0,class:et(["badge badge-lg badge-ghost mt-2 mb-2 w-32",o.value])},Q(a.value),3)):K("",!0),n("div",{class:et(r.value)},[(w(!0),M(Z,null,ht(t.layer.cards,(i,f)=>(w(),J(ai,{key:f,card:i,layerId:e.layer.id},null,8,["card","layerId"]))),128))],2)]))}}),ii={class:"flex flex-wrap"},li=n("button",{class:"text-center text-info font-bold text-sm hover:text-blue-200 opacity-90",onclick:"process_explaination.showModal()"},"Planner calculation explanation",-1),ci=n("dialog",{id:"process_explaination",class:"modal"},[n("div",{class:"modal-box custom-gradient-gray-blue border border-blue-800"},[n("form",{method:"dialog"},[n("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")]),n("div",null,[n("p",{class:"py-4 text-white"},[q(" When you add arcanists to the planner with their current/goal levels & resonance, you will see several sections appear below. "),n("br"),n("br"),q(" The "),n("span",{class:"text-yellow-500"},"Resources"),q(" & "),n("span",{class:"text-blue-500"},"Insight"),q(" sections are straightforward, and they show you how many times you need to run each stage in order to get the materials based on your intended arcanist levels. Since we can't farm resonance materials, those are shown with the cost associated in the Oneiric Shop found in the Bank. "),n("br"),n("br"),q(" The other two sections are "),n("span",{class:"text-purple-500"},"Hard Stages"),q(" & "),n("span",{class:"text-green-500"},"Crafting"),q(". These results have been optimized to reduce the stamina required for farming these materials. By running the listed stages the number of times it suggests, it is expected you will receive all the materials you need. The materials obtained from the hard stage farming will help you make the items listed in the crafting section. "),n("br"),n("br"),q(" As you obtain materials from farming hard stages, it's recommended that you update your warehouse values so that the planner remains up-to-date & your results are accurate. "),n("br"),n("br"),q(" Please note that we do not know exact drop rates, so we can only show what you're "),n("span",{class:"text-red-500"}," expected "),q(" to get - not what you will get exactly. The "),n("span",{class:"text-purple-500"},"Hard Stages"),q(" section will also show "),n("span",{class:"text-red-500"}," any "),q(" drop that you may get - rather than only the items that you need. This does not affect the results of the farm plan. ")])])]),n("form",{method:"dialog",class:"modal-backdrop"},[n("button",null,"close")])],-1),ui=nt({__name:"PlannerResult",emits:["update:totalActivityAndDays"],setup(t,{emit:e}){const s=e,o=k([]);return Bt(()=>{if(!Y().isEditingWarehouse){const a=Ze().selectedArcanists.map(l=>l.isVisible?me(l):[]),r=ye(a),c=Wa(r);s("update:totalActivityAndDays",qa(c)),o.value=c}}),(a,r)=>(w(),M("div",ii,[li,ci,(w(!0),M(Z,null,ht(o.value,(c,l)=>(w(),J(ri,{key:l,layer:c},null,8,["layer"]))),128))]))}}),di="/Kornblume/images/items/common/0.png",pi="/Kornblume/images/items/icon/51.png",hi="/Kornblume/images/items/icon/55.png",fi="/Kornblume/images/items/icon/54.png",Kt=t=>(Ut("data-v-781979f5"),t=t(),Ft(),t),vi={class:"flex flex-wrap custom-gradient-gray-blue-light px-2 py-2 md:px-4 lg:px-6 rounded-md items-center justify-center"},yi=Kt(()=>n("i",{class:"fa-solid fa-calculator text-white mr-3"},null,-1)),mi={class:"tooltip flex items-center","data-tip":"Estimated total Activities and Days"},gi={class:"text"},bi=Kt(()=>n("div",{class:"avatar"},[n("div",{class:"w-8 rounded"},[n("img",{src:di,alt:"avatar"})])],-1)),Si={class:"text pr-3"},_i={key:0,class:"tooltip","data-tip":"Drops Cost"},xi={class:"text"},Di={key:1,class:"avatar"},wi=Kt(()=>n("div",{class:"w-8 rounded"},[n("img",{src:pi,alt:"avatar"})],-1)),$i=[wi],Mi={class:"tooltip tooltip-left","data-tip":"Wilderness Production"},ki={class:"text"},Ii=Kt(()=>n("div",{class:"avatar"},[n("div",{class:"w-8 rounded"},[n("img",{src:hi,alt:"avatar"})])],-1)),Ai={class:"tooltip tooltip-left","data-tip":"Wilderness Production"},Ci={class:"text"},Oi=Kt(()=>n("div",{class:"avatar"},[n("div",{class:"w-8 rounded"},[n("img",{src:fi,alt:"avatar"})])],-1)),Ri={__name:"PlannerTotal",props:{totalActivityAndDays:{type:Array,required:!0},wildernessSettings:{type:Object,required:!0}},setup(t){const e=zt();return(s,o)=>{var a,r,c;return w(),M("div",vi,[yi,n("div",mi,[n("div",gi,Q((a=t.totalActivityAndDays)==null?void 0:a[0]),1),bi,n("div",Si,Q((r=t.totalActivityAndDays)==null?void 0:r[1])+" "+Q(((c=t.totalActivityAndDays)==null?void 0:c[1])>1?"days":"day"),1)]),j(e).settings.cost>0?(w(),M("div",_i,[n("div",xi,Q(j(Qt)(j(e).settings.cost)*t.totalActivityAndDays[1]),1)])):K("",!0),j(e).settings.cost>0?(w(),M("div",Di,$i)):K("",!0),n("div",Mi,[n("div",ki,Q(j(Qt)(t.wildernessSettings.wildernessOutput.dust*t.totalActivityAndDays[1])),1)]),Ii,n("div",Ai,[n("div",Ci,Q(j(Qt)(t.wildernessSettings.wildernessOutput.gold*t.totalActivityAndDays[1])),1)]),Oi])}}},Ni=It(Ri,[["__scopeId","data-v-781979f5"]]),Ei={class:"list-overlay"},Pi={class:"custom-modal-small h-auto"},ji=n("i",{class:"fas fa-times"},null,-1),Qi=[ji],Li=n("p",{class:"text-white text-center text-lg font-bold"},"Activity Settings",-1),Bi={class:"text-info text-center pb-5"},Ti={class:"font-bold"},Vi={class:"grid grid-cols-1 space-y-3"},Wi={class:"form-control"},qi={class:"cursor-pointer label justify-center"},Ui=n("span",{class:"label-text text-white mr-3"},"Roaring Month",-1),Fi=["checked"],zi={class:"tooltip","data-tip":"240 Activities per week"},Gi={class:"form-control"},Hi={class:"cursor-pointer label justify-center"},Yi=n("span",{class:"label-text text-white mr-3"},"Weekly Activeness",-1),Ki=["checked"],Xi={class:"tooltip","data-tip":"Login once per day for base 190 Activities"},Ji={class:"form-control"},Zi={class:"cursor-pointer label justify-center"},tl=n("span",{class:"label-text text-white mr-3"},"Lazy Modo",-1),el=["checked"],sl={class:"flex items-center justify-center translate-x-4"},ol=n("span",{class:"label-text text-white"},"Daily Refill",-1),al={__name:"PlannerActivity",props:{settings:{type:Object,required:!0}},emits:{closeOverlay:{type:Function,required:!0},saveActivitySettings:{type:Function,required:!0}},setup(t,{emit:e}){const s=t,o=e,a=[0,1,2,3,4,5,6,7,8],r=[0,60,90,120,120,150,150,200,200],c=k(s.settings.roaringMonth),l=k(s.settings.lazyModo),i=k(s.settings.weeklyActivity),f=k(s.settings.refills),p=R(()=>{let g=l.value?190:240;return c.value&&(g+=60),g+=f.value*100,i.value&&(g+=Math.floor(240/7)),g}),d=R(()=>{let g=0;for(let _=0;_<=f.value;_++)g+=r[_];return g}),S=g=>{f.value=g},y=()=>{const g={roaringMonth:c.value,lazyModo:l.value,weeklyActivity:i.value,refills:f.value,activity:p.value,cost:d.value};o("saveActivitySettings",g),v()},v=()=>{o("closeOverlay")};return(g,_)=>(w(),M("div",Ei,[n("div",Pi,[n("button",{onClick:v,class:"absolute top-2 right-4 text-white"},Qi),Li,n("p",Bi,[q("Current / day: "),n("span",Ti,Q(p.value),1)]),n("div",Vi,[n("div",Wi,[n("label",qi,[Ui,tt(n("input",{"onUpdate:modelValue":_[0]||(_[0]=h=>c.value=h),type:"checkbox",checked:c.value,class:"checkbox checkbox-info"},null,8,Fi),[[kt,c.value]])])]),n("div",zi,[n("div",Gi,[n("label",Hi,[Yi,tt(n("input",{"onUpdate:modelValue":_[1]||(_[1]=h=>i.value=h),type:"checkbox",checked:i.value,class:"checkbox checkbox-info"},null,8,Ki),[[kt,i.value]])])])]),n("div",Xi,[n("div",Ji,[n("label",Zi,[tl,tt(n("input",{"onUpdate:modelValue":_[2]||(_[2]=h=>l.value=h),type:"checkbox",checked:l.value,class:"checkbox checkbox-info"},null,8,el),[[kt,l.value]])])])]),n("div",sl,[ol,B(rt,{class:"w-1/3",options:a,selected:f.value,label:"Refills","onUpdate:selected":S},null,8,["selected"])])]),n("div",{class:"flex justify-center pt-3"},[n("button",{onClick:y,class:"btn btn-success"},"Save")])])]))}},At=t=>(Ut("data-v-c872059d"),t=t(),Ft(),t),nl={class:"list-overlay"},rl={class:"custom-modal-small h-auto"},il=At(()=>n("i",{class:"fas fa-times"},null,-1)),ll=[il],cl=At(()=>n("div",{class:"custom-label text-yellow-100"},"Dust Bell Towers",-1)),ul={class:"grid grid-cols-3"},dl=At(()=>n("div",{class:"custom-label text-yellow-100"},"Sharpodonty Markets",-1)),pl={class:"grid grid-cols-3"},hl=At(()=>n("div",{class:"custom-label text-yellow-100"},"Vigor (%)",-1)),fl={class:"grid grid-cols-2 p-2 items-center"},vl={class:"tooltip","data-tip":"Collect once a day"},yl={class:"form-control"},ml={class:"cursor-pointer label justify-center"},gl=At(()=>n("span",{class:"label-text text-yellow-100 mr-3"},"Lazy Modo",-1)),bl=["checked"],Sl=At(()=>n("div",{class:"custom-label text-yellow-100"},"Output",-1)),_l={class:"grid grid-cols-2 p-2"},xl={class:"tooltip","data-tip":"Dust"},Dl={class:"flex items-center justify-center gradient-blue text-center rounded-xl mx-5 lg:mx-2 h-8"},wl={class:"tooltip","data-tip":"Sharpodonty"},$l={class:"flex items-center justify-center gradient-blue text-center rounded-xl mx-5 lg:mx-2 h-8"},Ml=At(()=>n("p",{class:"text-yellow-100 text-sm text-center p-2"},"Wilderness output will be considered for calculations",-1)),kl={__name:"PlannerWilderness",props:{settings:{type:Object,required:!0}},emits:{closeOverlay:{type:Function,required:!0},saveWildernessSettings:{type:Function,required:!0}},setup(t,{emit:e}){const s=t,o=e,a=()=>{o("closeOverlay")},r=k(s.settings.dust1),c=k(s.settings.dust2),l=k(s.settings.dust3),i=k(s.settings.gold1),f=k(s.settings.gold2),p=k(s.settings.gold3),d=k(s.settings.vigor),S=k(s.settings.lazyModo),y=[0,1,2,3,4,5,6],v=[0,120,150,175,210,240,270],g=[0,60,75,80,96,108,120],_=(u,D)=>{switch(D){case"Dust 1":r.value=u;break;case"Dust 2":c.value=u;break;case"Dust 3":l.value=u;break;case"Gold 1":i.value=u;break;case"Gold 2":f.value=u;break;case"Gold 3":p.value=u;break}},h=()=>{const u=parseInt(d.value,10);if(isNaN(u)){d.value=null;return}if(u<0){d.value=0;return}if(u>50){d.value=50;return}d.value=u},b=()=>{const u={dust1:r.value,dust2:c.value,dust3:l.value,gold1:i.value,gold2:f.value,gold3:p.value,vigor:d.value,lazyModo:S.value,wildernessOutput:m.value};o("saveWildernessSettings",u),a()},m=R(()=>{const u=v[r.value]+v[c.value]+v[l.value],D=g[i.value]+g[f.value]+g[p.value],x=d.value?parseFloat(d.value/100):0,$=S.value?20:24,O=Math.ceil(u*(1+x)*$),I=Math.ceil(D*(1+x)*$);return{dust:O,gold:I}});return(u,D)=>(w(),M("div",nl,[n("div",rl,[n("button",{onClick:a,class:"absolute top-2 right-4 text-white"},ll),cl,n("div",ul,[B(rt,{class:"select-list",options:y,selected:r.value,label:"Dust 1","onUpdate:selected":_},null,8,["selected"]),B(rt,{class:"select-list",options:y,selected:c.value,label:"Dust 2","onUpdate:selected":_},null,8,["selected"]),B(rt,{class:"select-list",options:y,selected:l.value,label:"Dust 3","onUpdate:selected":_},null,8,["selected"])]),dl,n("div",pl,[B(rt,{class:"select-list",options:y,selected:i.value,label:"Gold 1","onUpdate:selected":_},null,8,["selected"]),B(rt,{class:"select-list",options:y,selected:f.value,label:"Gold 2","onUpdate:selected":_},null,8,["selected"]),B(rt,{class:"select-list",options:y,selected:p.value,label:"Gold 3","onUpdate:selected":_},null,8,["selected"])]),hl,n("div",fl,[tt(n("input",{onInput:h,"onUpdate:modelValue":D[0]||(D[0]=x=>d.value=x),type:"text",placeholder:"Vigor",class:"input input-bordered input-info input-sm mx-10 lg:mx-5 gradient-blue text-center"},null,544),[[ae,d.value]]),n("div",vl,[n("div",yl,[n("label",ml,[gl,tt(n("input",{"onUpdate:modelValue":D[1]||(D[1]=x=>S.value=x),type:"checkbox",checked:S.value,class:"checkbox checkbox-info"},null,8,bl),[[kt,S.value]])])])])]),Sl,n("div",_l,[n("div",xl,[n("label",Dl,Q(m.value.dust),1)]),n("div",wl,[n("label",$l,Q(m.value.gold),1)])]),Ml,n("div",{class:"flex justify-center"},[n("button",{onClick:b,class:"btn btn-success"},"Save")])])]))}},Il=It(kl,[["__scopeId","data-v-c872059d"]]),Al={class:"pb-6"},Cl={class:"relative inline-block"},Ol=["src"],Rl=["src"],Nl=nt({__name:"WarehouseItem",props:{material:{type:Object,required:!0}},emits:["update:quantity"],setup(t,{emit:e}){const s=t,o=e,a=k(s.material.Quantity),r=R(()=>Gt(s.material)),c=()=>{const l=Number(a.value);isNaN(l)||o("update:quantity",Number(a.value))};return gt(()=>s.material,l=>{a.value=l.Quantity}),(l,i)=>(w(),M("div",Al,[n("div",Cl,[n("img",{src:r.value.borderImagePath,alt:"Border Image",class:et(["w-20 h-20 absolute",{"w-36":r.value.material==="Sharpodonty"||r.value.material==="Dust"}])},null,10,Ol),n("img",{src:r.value.itemImagePath,alt:"Material Image",class:et(["w-20 h-20",{"mx-5":r.value.material==="Sharpodonty"||r.value.material==="Dust"}])},null,10,Rl),tt(n("input",{"onUpdate:modelValue":i[0]||(i[0]=f=>a.value=f),onInput:c,type:"text",placeholder:"",class:et(["bg-slate-600 text-white absolute -bottom-3 left-3 w-14 input input-xs rounded-t-none text-center",{"left-[17px] w-[85px]":r.value.material==="Sharpodonty"||r.value.material==="Dust"}])},null,34),[[ae,a.value]])])]))}});function El(t){const e=X().shops;t in e?e[t].forEach(o=>{const{Material:a,Quantity:r}=o;L().addItem(a,r)}):console.error(`Version ${t} not found in shops data.`)}const Pl=()=>{const t=Ot().settings.enabledUnreleasedStages;console.log("Initialize warehouse"),X().items.forEach(e=>{(e.IsReleased||t)&&(e.Category==="Build Material"||e.Category==="Insight Material"||e.Category==="Resonate Material"&&e.Rarity<6||e.Name==="Dust"||e.Name==="Sharpodonty"||e.Name==="Crystal Casket")&&L().initItem(e.Name,e.Category)})},jl=()=>{const t=Ot().settings.enabledUnreleasedStages;X().items.forEach(e=>{!L().hasItem(e.Name)&&(e.Name==="Crystal Casket"||!e.IsReleased&&t)?L().initItem(e.Name,e.Category):!e.IsReleased&&!t&&L().removeItem(e.Name)})},Ke={"Base Item":0,"Resonate Material":1,"Insight Material":2,"Build Material":2},Ql=t=>{const e=X().items;t.sort((s,o)=>{const a=e.findIndex(i=>i.Name===s.Material),r=e.findIndex(i=>i.Name===o.Material),c=e[a],l=e[r];if(c&&l){const i=Ke[c.Category],f=Ke[l.Category];return i!==f?i-f:l.Rarity!==c.Rarity?l.Rarity-c.Rarity:a-r}else return r-a})},Ll=["data-tip"],Bl={class:"modal-box custom-gradient-gray-blue custom-border"},Tl={class:"py-4 text-lg text-white text-center"},Vl=n("p",{class:"py-4 text-md text-white text-center"}," You should add once only.",-1),Wl=n("form",{method:"dialog",class:"modal-backdrop"},[n("button",null,"close")],-1),Ct=nt({__name:"EventShopButton",props:{version:{},text:{},type:{}},emits:["closeOverlay"],setup(t,{emit:e}){const s=k(),o=e,a=t,r=()=>{El(a.version),o("closeOverlay"),l()},c=()=>{var i;return(i=s.value)==null?void 0:i.showModal()},l=()=>{var i;return(i=s.value)==null?void 0:i.close()};return(i,f)=>(w(),M(Z,null,[n("div",{class:"tooltip","data-tip":i.type},[n("button",{class:"btn btn-info btn-sm",onClick:c},Q(i.text),1)],8,Ll),n("dialog",{ref_key:"dialog",ref:s,class:"modal"},[n("div",Bl,[n("p",Tl,"Add materials from "+Q(i.text)+"?",1),Vl,n("div",{class:"flex justify-center"},[n("button",{class:"btn btn-success btn-md mr-2",onClick:r},"Yes"),n("button",{class:"btn btn-error btn-md",onClick:l},"No")])]),Wl],512)],64))}}),ql={class:"list-overlay"},Ul={class:"custom-modal-big h-5/6 xl:h-3/4 flex flex-col items-center"},Fl=n("i",{class:"fas fa-times"},null,-1),zl=[Fl],Gl=n("p",{class:"text-white text-center font-bold text-lg"},"Warehouse (Auto-save)",-1),Hl={class:"grid grid-cols-2 xl:grid-cols-4 justify-center items-center pb-5 text-center"},Yl={class:"form-control items-center"},Kl={class:"label cursor-pointer space-x-2"},Xl=n("span",{class:"label-text text-error text-xs font-bold"},"Base Item",-1),Jl={class:"form-control items-center"},Zl={class:"label cursor-pointer space-x-2"},tc=n("span",{class:"label-text text-info text-xs font-bold"},"Build Material",-1),ec={class:"form-control items-center"},sc={class:"label cursor-pointer space-x-2"},oc=n("span",{class:"label-text text-success text-xs font-bold"},"Insight Material",-1),ac={class:"form-control items-center"},nc={class:"label cursor-pointer space-x-2"},rc=n("span",{class:"label-text text-warning text-xs font-bold"},"Resonate Material",-1),ic={class:"custom-item-list mb-5"},lc={class:"flex space-x-10"},cc={class:"flex space-x-3"},uc=n("button",{class:"btn btn-sm btn-success",onclick:"shop_container.showModal()"},"Event Materials",-1),dc={id:"shop_container",class:"modal"},pc={class:"modal-box custom-gradient-gray-blue custom-border"},hc=n("form",{method:"dialog"},[n("button",{class:"btn btn-sm btn-circle btn-ghost text-white absolute right-2 top-2"},"✕")],-1),fc=n("p",{class:"py-4 text-base text-white text-center"},"You can quickly add Materials from Jukeboxes and Events here.",-1),vc={class:"grid grid-cols-2 gap-2 p-2"},yc=n("form",{method:"dialog",class:"flex justify-center"},[n("button",{class:"btn btn-sm btn-success text-black"},"Close")],-1),mc=n("form",{method:"dialog",class:"modal-backdrop"},[n("button",null,"close")],-1),gc=n("p",{class:"py-4 text-lg text-white text-center"},[q("Reset quantity of "),n("span",{class:"text-error"},"selected"),q(" categories?")],-1),bc=n("p",{class:"py-4 text-md text-white text-center"}," Click the buttons at the top to select.",-1),Sc=n("form",{method:"dialog",class:"modal-backdrop"},[n("button",null,"close")],-1),_c=nt({__name:"PlannerWarehouse",emits:["closeOverlay"],setup(t,{emit:e}){const s=k(),o=e,a=k({"Base Item":!0,"Build Material":!0,"Insight Material":!0,"Resonate Material":!0}),r=()=>{L().data.length===0?Pl():jl(),Ql(L().data)};qt(()=>{Y().setIsEditingWarehouse(!0),r()});const c=(y,v)=>{L().updateItem(y,Number(v))},l=y=>{a.value[y]=!a.value[y]},i=R(()=>Object.values(a.value).some(v=>v)?L().data.filter(v=>a.value[v.Category]):L().data),f=()=>{Object.values(a.value).every(y=>y)?L().resetAll():Object.keys(a.value).forEach(y=>{a.value[y]&&L().resetCategory(y)}),S()},p=()=>{Y().setIsEditingWarehouse(!1),o("closeOverlay")},d=()=>{var y;return(y=s.value)==null?void 0:y.showModal()},S=()=>{var y;return(y=s.value)==null?void 0:y.close()};return(y,v)=>(w(),M("div",ql,[n("div",Ul,[n("button",{onClick:p,class:"absolute top-2 right-4 text-white"},zl),Gl,n("div",null,[n("div",Hl,[n("div",Yl,[n("label",Kl,[Xl,n("input",{type:"checkbox",checked:"",onChange:v[0]||(v[0]=g=>l("Base Item")),class:"checkbox checkbox-error"},null,32)])]),n("div",Jl,[n("label",Zl,[tc,n("input",{type:"checkbox",checked:"",onChange:v[1]||(v[1]=g=>l("Build Material")),class:"checkbox checkbox-info"},null,32)])]),n("div",ec,[n("label",sc,[oc,n("input",{type:"checkbox",checked:"",onChange:v[2]||(v[2]=g=>l("Insight Material")),class:"checkbox checkbox-success"},null,32)])]),n("div",ac,[n("label",nc,[rc,n("input",{type:"checkbox",checked:"",onChange:v[3]||(v[3]=g=>l("Resonate Material")),class:"checkbox checkbox-warning"},null,32)])])])]),n("div",ic,[(w(!0),M(Z,null,ht(i.value,g=>(w(),J(Nl,{key:g.Material,material:g,"onUpdate:quantity":_=>c(g.Material,_),class:""},null,8,["material","onUpdate:quantity"]))),128))]),n("div",lc,[n("div",cc,[uc,n("dialog",dc,[n("div",pc,[hc,fc,n("div",vc,[B(Ct,{version:"jb1",text:"Jukebox Normal",type:"Jukebox"}),B(Ct,{version:"jb2",text:"Jukebox Collector",type:"Jukebox"}),B(Ct,{version:"1.21",text:"1.2 part 1",type:"Event Shop"}),B(Ct,{version:"1.22",text:"1.2 part 2",type:"Event Shop"}),B(Ct,{version:"1.31",text:"1.3 part 1",type:"Event Shop"}),B(Ct,{version:"1.32",text:"1.3 part 2",type:"Event Shop"})]),yc]),mc])]),n("button",{class:"btn btn-error btn-sm",onClick:d},"Reset"),n("dialog",{ref_key:"dialog",ref:s,class:"modal"},[n("div",{class:"modal-box custom-gradient-gray-blue custom-border"},[gc,bc,n("div",{class:"flex justify-center"},[n("button",{class:"btn btn-success btn-md mr-2",onClick:f},"Yes"),n("button",{class:"btn btn-error btn-md",onClick:S},"No")])]),Sc],512)])])]))}}),xc={class:"list-overlay"},Dc={class:"custom-modal-small h-auto space-y-5"},wc=n("i",{class:"fas fa-times"},null,-1),$c=[wc],Mc={class:"form-control"},kc={class:"tooltip","data-tip":"Prioritize Purple Materials when farming"},Ic={class:"cursor-pointer label justify-center space-x-5 text-center"},Ac=n("span",{class:"label-text text-white text-md"},"Enable Greedy Method",-1),Cc={class:"form-control"},Oc={class:"cursor-pointer label justify-center space-x-5 text-center"},Rc=n("span",{class:"label-text text-white text-md"},"Use 1.4 Stage Data (Experimental)",-1),Nc=nt({__name:"PlannerSettings",props:{settings:{type:Object,required:!0}},emits:["closeOverlay","saveSettings"],setup(t,{emit:e}){const s=t,o=e,a=k(s.settings.enabledUnreleasedStages),r=k(s.settings.enableGreedyMethod),c=()=>{o("closeOverlay")},l=()=>{const i={showUnreleasedArcanists:s.settings.showUnreleasedArcanists,enabledUnreleasedStages:a.value,enableGreedyMethod:r.value};o("saveSettings",i),c()};return(i,f)=>(w(),M("div",xc,[n("div",Dc,[n("button",{onClick:c,class:"absolute top-2 right-4 text-white"},$c),n("div",Mc,[n("div",kc,[n("label",Ic,[Ac,tt(n("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>r.value=p),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[kt,r.value]])])])]),n("div",Cc,[n("label",Oc,[Rc,tt(n("input",{"onUpdate:modelValue":f[1]||(f[1]=p=>a.value=p),type:"checkbox",class:"checkbox checkbox-info"},null,512),[[kt,a.value]])])]),n("div",{class:"flex justify-center"},[n("button",{onClick:l,class:"btn btn-success"},"Save")])])]))}}),wt=t=>(Ut("data-v-27671b29"),t=t(),Ft(),t),Ec={class:"responsive-spacer"},Pc=wt(()=>n("div",{class:"flex pb-4"},[n("h2",{class:"text-2xl text-white font-bold"},"Planner")],-1)),jc=wt(()=>n("i",{class:"fa-solid fa-wand-magic-sparkles"},null,-1)),Qc=wt(()=>n("i",{class:"fa-solid fa-bolt"},null,-1)),Lc=[Qc],Bc=wt(()=>n("i",{class:"fa-solid fa-tree"},null,-1)),Tc=[Bc],Vc=wt(()=>n("i",{class:"fa-solid fa-box-archive"},null,-1)),Wc=[Vc],qc=wt(()=>n("i",{class:"fa-solid fa-gear"},null,-1)),Uc=[qc],Fc=wt(()=>n("div",{class:"custom-line"},null,-1)),zc=wt(()=>n("div",{class:"custom-line"},null,-1)),Gc={key:0,class:"overlay"},Hc={key:1,class:"overlay"},Yc={key:2,class:"overlay"},Kc={key:3,class:"overlay"},Xc={key:4,class:"overlay"},Jc={key:5,class:"overlay"},Zc=nt({__name:"PlannerView",setup(t){const e=Ze(),s=zt(),o=ts(),a=X().arcanists,r=Ot(),c=k([]),l=R(()=>e.selectedArcanists.map(T=>T.Id));Bt(()=>{c.value=a.filter(T=>!l.value.includes(T.Id)&&(r.settings.showUnreleasedArcanists?!0:T.IsReleased)),c.value.sort((T,$t)=>{const St=$t.Rarity-T.Rarity;return St!==0?St:T.Name.localeCompare($t.Name)})});const i=k(null),f=k([]),p=k(!1),d=k(!1),S=k(!1),y=k(!1),v=k(!1),g=k(!1),_=k(null),h=k(null),b=k(null),m=k(null),u=k(null),D=k(null),x=()=>{p.value=!0},$=()=>{p.value=!1},O=()=>{d.value=!0},I=T=>{i.value=T,O()},P=()=>{d.value=!1},E=()=>{S.value=!0},F=()=>{S.value=!1},V=()=>{y.value=!0},G=()=>{y.value=!1},z=()=>{v.value=!0},A=()=>{v.value=!1,Y().setIsEditingWarehouse(!1)},C=()=>{g.value=!0},N=()=>{g.value=!1},U=T=>{i.value={Id:T.Id,isVisible:!0,currentInsight:0,currentLevel:1,currentResonance:0,goalInsight:0,goalLevel:1,goalResonance:0},O()},W=T=>{e.selectedArcanists=T,P()},H=T=>{c.value=T},it=T=>{f.value=T},lt=T=>{s.settings=T},pt=T=>{o.settings=T},st=T=>{r.settings=T};return Mt(_,F),Mt(h,$),Mt(b,P),Mt(m,G),Mt(u,A),Mt(D,N),(T,$t)=>(w(),M("div",Ec,[Pc,B($a,{selectedArcanists:j(e).selectedArcanists,onOpenEditOverlay:I},null,8,["selectedArcanists"]),n("div",{class:"flex justify-between items-center mb-2 mt-2"},[n("button",{onClick:x,class:"btn btn-ghost btn-sm custom-gradient-button"},[jc,q(" Add Arcanist")]),n("div",{class:"flex space-x-2"},[n("div",{class:"tooltip","data-tip":"Activity Settings"},[n("button",{onClick:E,class:"btn btn-ghost btn-sm custom-gradient-button"},Lc)]),n("div",{class:"tooltip","data-tip":"Wilderness Settings"},[n("button",{onClick:V,class:"btn btn-ghost btn-sm custom-gradient-button"},Tc)]),n("div",{class:"tooltip","data-tip":"Manage Warehouse"},[n("button",{onClick:z,class:"btn btn-ghost btn-sm custom-gradient-button"},Wc)]),n("div",{class:"tooltip","data-tip":"Settings"},[n("button",{onClick:C,class:"btn btn-ghost btn-sm custom-gradient-button"},Uc)])])]),Fc,B(Ni,{totalActivityAndDays:f.value,wildernessSettings:j(o).settings},null,8,["totalActivityAndDays","wildernessSettings"]),zc,p.value?(w(),M("div",Gc,[B(Ks,{ref_key:"arcanistListRef",ref:h,arcanists:c.value,onCloseOverlay:$,onSelectArcanist:U},null,8,["arcanists"])])):K("",!0),d.value?(w(),M("div",Hc,[i.value?(w(),J(ea,{key:0,ref_key:"plannerEditRef",ref:b,selectedArcanist:i.value,selectedArcanists:j(e).selectedArcanists,listArcanists:c.value,onCloseOverlay:P,onUpdateSelectedArcanists:W,onUpdateListArcanists:H},null,8,["selectedArcanist","selectedArcanists","listArcanists"])):K("",!0)])):K("",!0),S.value?(w(),M("div",Yc,[B(al,{ref_key:"activityRef",ref:_,settings:j(s).settings,onCloseOverlay:F,onSaveActivitySettings:lt},null,8,["settings"])])):K("",!0),y.value?(w(),M("div",Kc,[B(Il,{ref_key:"wildernessRef",ref:m,settings:j(o).settings,onCloseOverlay:G,onSaveWildernessSettings:pt},null,8,["settings"])])):K("",!0),v.value?(w(),M("div",Xc,[B(_c,{ref_key:"warehouseRef",ref:u,onCloseOverlay:A},null,512)])):K("",!0),g.value?(w(),M("div",Jc,[B(Nc,{ref_key:"settingsRef",ref:D,settings:j(r).settings,onCloseOverlay:N,onSaveSettings:st},null,8,["settings"])])):K("",!0),B(ui,{"onUpdate:totalActivityAndDays":it})]))}}),ou=It(Zc,[["__scopeId","data-v-27671b29"]]);export{ou as default};
