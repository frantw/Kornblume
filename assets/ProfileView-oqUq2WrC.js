import{u}from"./pullsRecordStore-miiAB3gY.js";import{d as b,e as p,c as m,a as t,o as g}from"./index-ig4wYfJ2.js";const d=["plannerSettings","planner","wilderness","warehouse","pulls"];function h(){const o=new Date,e=o.getDate().toString().padStart(2,"0"),a=(o.getMonth()+1).toString().padStart(2,"0"),r=o.getFullYear(),n=`${e}${a}${r}`,s=o.getHours().toString().padStart(2,"0"),l=o.getMinutes().toString().padStart(2,"0"),c=`${s}${l}`;return{date:n,time:c}}function f(o){const e=new Blob([o],{type:"application/json"}),{date:a,time:r}=h(),n=`kornblume_data_${a}_${r}.json`,s=document.createElement("a");s.download=n,s.href=URL.createObjectURL(e),document.body.appendChild(s),s.click(),setTimeout(()=>document.body.removeChild(s))}function x(){const o={};d.forEach(e=>{o[e]=localStorage.getItem(e)});try{const e=JSON.stringify(o,null,2);f(e)}catch(e){console.error("Error exporting data:",e)}}function _(o){const e=new FileReader;e.onload=async a=>{var r;try{const n=JSON.parse((r=a.target)==null?void 0:r.result);d.forEach(s=>{localStorage.setItem(s,n==null?void 0:n[s])}),console.log("Import successful!"),setTimeout(()=>window.location.reload())}catch(n){console.error("Error importing data:",n)}},e.readAsText(o)}function y(){d.forEach(o=>localStorage.removeItem(o)),setTimeout(()=>window.location.reload())}const k={class:"responsive-spacer"},w={class:"pb-6"},S=t("h2",{class:"text-2xl text-white font-bold mb-2 lg:mb-4"},"Profile",-1),v=t("p",{class:"text-white"}," You can export or import your data here.",-1),D={class:"flex justify-center items-center p-2 space-x-5"},T=t("h2",{class:"text-2xl text-white font-bold mb-2 lg:mb-4"},"Danger Zone",-1),j=t("p",{class:"text-white"},"If you encounter any unexpected issues with the site, you can reset your data. Sorry for the inconvenience.",-1),I=t("div",{class:"flex justify-center items-center p-2 space-x-5"},[t("button",{onclick:"resetTracker.showModal()",class:"bg-red-500 hover:bg-red-700 text-black font-bold py-2 px-4 rounded ml-2"}," Reset Tracker "),t("button",{onclick:"resetAll.showModal()",class:"bg-red-500 hover:bg-red-700 text-black font-bold py-2 px-4 rounded ml-2"}," Reset Data ")],-1),C=t("form",{method:"dialog"},[t("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),E=t("p",{class:"pb-4 text-white text-center"},"Once you delete your data, there is no going back.",-1),R=t("p",{class:"pb-4 text-white text-center"},"Please be certain.",-1),$=t("form",{method:"dialog",class:"modal-backdrop"},[t("button",null,"close")],-1),O=t("form",{method:"dialog"},[t("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2 text-white"},"✕")],-1),P=t("p",{class:"pb-4 text-white text-center"},"Once you delete your Summon Tracker data, there is no going back.",-1),A=t("p",{class:"pb-4 text-white text-center"},"Please be certain.",-1),B=t("form",{method:"dialog",class:"modal-backdrop"},[t("button",null,"close")],-1),N=b({__name:"ProfileView",setup(o){const e=p(null),a=()=>{x()},r=()=>{var c;(c=e.value)==null||c.click()},n=c=>{const i=c.target.files[0];i&&_(i)},s=()=>{y()},l=()=>{u().reset(),window.location.reload()};return(c,i)=>(g(),m("div",k,[t("div",w,[S,v,t("div",D,[t("button",{onClick:a,class:"bg-blue-500 hover:bg-blue-700 text-black font-bold py-2 px-4 rounded"}," Export Data "),t("input",{type:"file",ref_key:"fileInput",ref:e,onChange:n,accept:".json",class:"ml-4",style:{display:"none"}},null,544),t("button",{onClick:r,class:"bg-green-500 hover:bg-green-700 text-black font-bold py-2 px-4 rounded ml-2"}," Import Data ")])]),t("div",{class:"pb-6"},[T,j,I,t("dialog",{id:"resetTracker",class:"modal"},[t("div",{class:"modal-box custom-gradient-gray-blue flex flex-col justify-center items-center"},[C,E,R,t("button",{onClick:l,class:"bg-red-500 hover:bg-red-700 text-black font-bold py-2 px-4 rounded ml-2"}," Reset Tracker ")]),$]),t("dialog",{id:"resetAll",class:"modal"},[t("div",{class:"modal-box custom-gradient-gray-blue flex flex-col justify-center items-center"},[O,P,A,t("button",{onClick:s,class:"bg-red-500 hover:bg-red-700 text-black font-bold py-2 px-4 rounded ml-2"}," Reset All ")]),B])])]))}});export{N as default};
